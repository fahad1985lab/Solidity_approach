<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda">

<a id="3" class="Keyword">open</a> <a id="8" class="Keyword">import</a> <a id="15" href="constantparameters.html" class="Module">constantparameters</a>

<a id="35" class="Keyword">module</a> <a id="42" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html" class="Module">Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack</a> <a id="114" class="Symbol">(</a><a id="115" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#115" class="Bound">param</a> <a id="121" class="Symbol">:</a> <a id="123" href="constantparameters.html#235" class="Record">ConstantParameters</a><a id="141" class="Symbol">)</a> <a id="143" class="Keyword">where</a>

<a id="150" class="Keyword">open</a> <a id="155" class="Keyword">import</a> <a id="162" href="Data.Nat.html" class="Module">Data.Nat</a>
<a id="171" class="Keyword">open</a> <a id="176" class="Keyword">import</a> <a id="183" href="Agda.Builtin.Nat.html" class="Module">Agda.Builtin.Nat</a> <a id="200" class="Keyword">using</a> <a id="206" class="Symbol">(</a><a id="207" href="Agda.Builtin.Nat.html#426" class="Primitive Operator">_-_</a><a id="210" class="Symbol">;</a> <a id="212" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">_*_</a><a id="215" class="Symbol">)</a>
<a id="217" class="Keyword">open</a> <a id="222" class="Keyword">import</a> <a id="229" href="Data.Unit.html" class="Module">Data.Unit</a>
<a id="239" class="Keyword">open</a> <a id="244" class="Keyword">import</a> <a id="251" href="Data.List.html" class="Module">Data.List</a>
<a id="261" class="Keyword">open</a> <a id="266" class="Keyword">import</a> <a id="273" href="Data.Bool.html" class="Module">Data.Bool</a>
<a id="283" class="Keyword">open</a> <a id="288" class="Keyword">import</a> <a id="295" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a>
<a id="310" class="Keyword">open</a> <a id="315" class="Keyword">import</a> <a id="322" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="336" class="Keyword">open</a> <a id="341" class="Keyword">import</a> <a id="348" href="Data.Maybe.html" class="Module">Data.Maybe</a>  <a id="360" class="Keyword">hiding</a> <a id="367" class="Symbol">(</a><a id="368" href="Data.Maybe.Base.html#2256" class="Function Operator">_&gt;&gt;=_</a><a id="373" class="Symbol">)</a>
<a id="375" class="Keyword">open</a> <a id="380" class="Keyword">import</a> <a id="387" href="Data.String.html" class="Module">Data.String</a> <a id="399" class="Keyword">hiding</a> <a id="406" class="Symbol">(</a><a id="407" href="Data.String.Base.html#2468" class="Function">length</a><a id="413" class="Symbol">;</a> <a id="415" href="Data.String.Base.html#1605" class="Primitive">show</a><a id="419" class="Symbol">)</a> <a id="421" class="Keyword">renaming</a> <a id="430" class="Symbol">(</a><a id="431" href="Data.String.Base.html#2404" class="Function Operator">_++_</a> <a id="436" class="Symbol">to</a> <a id="439" class="Function Operator">_++str_</a><a id="446" class="Symbol">)</a>
<a id="448" class="Keyword">open</a> <a id="453" class="Keyword">import</a> <a id="460" href="Data.Product.html" class="Module">Data.Product</a> <a id="473" class="Keyword">renaming</a> <a id="482" class="Symbol">(</a><a id="483" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a> <a id="487" class="Symbol">to</a> <a id="490" class="InductiveConstructor Operator">_,,_</a> <a id="495" class="Symbol">)</a>
<a id="497" class="Keyword">open</a> <a id="502" class="Keyword">import</a> <a id="509" href="Data.Nat.Show.html" class="Module">Data.Nat.Show</a>
<a id="523" class="Keyword">open</a> <a id="528" class="Keyword">import</a> <a id="535" href="Data.Empty.html" class="Module">Data.Empty</a>

<a id="547" class="Comment">-- our work</a>
<a id="559" class="Keyword">open</a> <a id="564" class="Keyword">import</a> <a id="571" href="Complex-Model.ccomand.ccommands-cresponse.html" class="Module">Complex-Model.ccomand.ccommands-cresponse</a>
<a id="613" class="Keyword">open</a> <a id="618" class="Keyword">import</a> <a id="625" href="basicDataStructure.html" class="Module">basicDataStructure</a>
<a id="644" class="Keyword">open</a> <a id="649" class="Keyword">import</a> <a id="656" href="libraries.natCompare.html" class="Module">libraries.natCompare</a>
<a id="677" class="Keyword">open</a> <a id="682" class="Keyword">import</a> <a id="689" href="libraries.Mainlibrary-new-version.html" class="Module">libraries.Mainlibrary-new-version</a>


<a id="725" class="Comment">-- update view function in the ledger</a>
<a id="updateLedgerpurefun"></a><a id="763" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#763" class="Function">updateLedgerpurefun</a> <a id="783" class="Symbol">:</a> <a id="785" href="libraries.Mainlibrary-new-version.html#1040" class="Function">Ledger</a> <a id="792" class="Symbol">→</a> <a id="794" href="basicDataStructure.html#387" class="Function">Address</a> <a id="802" class="Symbol">→</a> <a id="804" href="basicDataStructure.html#173" class="Function">FunctionName</a>
       <a id="824" class="Symbol">→</a> <a id="826" class="Symbol">((</a><a id="828" href="basicDataStructure.html#511" class="Datatype">Msg</a> <a id="832" class="Symbol">→</a> <a id="834" href="basicDataStructure.html#1475" class="Datatype">MsgOrError</a><a id="844" class="Symbol">)</a> <a id="846" class="Symbol">→</a> <a id="848" class="Symbol">(</a><a id="849" href="basicDataStructure.html#511" class="Datatype">Msg</a> <a id="853" class="Symbol">→</a> <a id="855" href="basicDataStructure.html#1475" class="Datatype">MsgOrError</a><a id="865" class="Symbol">))</a>
       <a id="875" class="Symbol">→</a> <a id="877" class="Symbol">((</a><a id="879" href="basicDataStructure.html#511" class="Datatype">Msg</a> <a id="883" class="Symbol">→</a> <a id="885" href="basicDataStructure.html#1475" class="Datatype">MsgOrError</a><a id="895" class="Symbol">)</a> <a id="897" class="Symbol">→</a> <a id="899" class="Symbol">(</a><a id="900" href="basicDataStructure.html#511" class="Datatype">Msg</a> <a id="904" class="Symbol">→</a> <a id="906" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="907" class="Symbol">)</a> <a id="909" class="Symbol">→</a> <a id="911" href="basicDataStructure.html#511" class="Datatype">Msg</a> <a id="915" class="Symbol">→</a> <a id="917" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="918" class="Symbol">)</a>
       <a id="927" class="Symbol">→</a> <a id="929" href="libraries.Mainlibrary-new-version.html#1040" class="Function">Ledger</a>
<a id="936" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#763" class="Function">updateLedgerpurefun</a> <a id="956" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#956" class="Bound">ledger</a> <a id="963" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#963" class="Bound">changedAddr</a> <a id="975" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#975" class="Bound">changedFname</a> <a id="988" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#988" class="Bound">f</a> <a id="990" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#990" class="Bound">g</a> <a id="992" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#992" class="Bound">a</a> <a id="994" class="Symbol">.</a><a id="995" href="libraries.Mainlibrary-new-version.html#827" class="Field">amount</a> <a id="1002" class="Symbol">=</a> <a id="1004" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#956" class="Bound">ledger</a> <a id="1011" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#992" class="Bound">a</a> <a id="1013" class="Symbol">.</a><a id="1014" href="libraries.Mainlibrary-new-version.html#827" class="Field">amount</a>
<a id="1021" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#763" class="Function">updateLedgerpurefun</a> <a id="1041" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1041" class="Bound">ledger</a> <a id="1048" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1048" class="Bound">changedAddr</a> <a id="1060" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1060" class="Bound">changedFname</a> <a id="1073" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1073" class="Bound">f</a> <a id="1075" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1075" class="Bound">g</a> <a id="1077" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1077" class="Bound">a</a> <a id="1079" class="Symbol">.</a><a id="1080" href="libraries.Mainlibrary-new-version.html#847" class="Field">fun</a>  <a id="1085" class="Symbol">=</a> <a id="1087" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1041" class="Bound">ledger</a> <a id="1094" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1077" class="Bound">a</a> <a id="1096" class="Symbol">.</a><a id="1097" href="libraries.Mainlibrary-new-version.html#847" class="Field">fun</a>
<a id="1101" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#763" class="Function">updateLedgerpurefun</a> <a id="1121" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1121" class="Bound">ledger</a> <a id="1128" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1128" class="Bound">changedAddr</a> <a id="1140" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1140" class="Bound">changedFname</a> <a id="1153" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1153" class="Bound">f</a> <a id="1155" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1155" class="Bound">g</a> <a id="1157" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1157" class="Bound">a</a> <a id="1159" class="Symbol">.</a><a id="1160" href="libraries.Mainlibrary-new-version.html#901" class="Field">viewFunction</a> <a id="1173" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1173" class="Bound">fname</a> <a id="1179" class="Symbol">=</a>
       <a id="1188" href="Data.Bool.Base.html#1505" class="Function Operator">if</a> <a id="1191" class="Symbol">(</a><a id="1192" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1140" class="Bound">changedFname</a> <a id="1205" href="basicDataStructure.html#258" class="Function Operator">≡fun</a> <a id="1210" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1173" class="Bound">fname</a><a id="1215" class="Symbol">)</a> <a id="1217" href="Data.Bool.Base.html#1505" class="Function Operator">then</a>  <a id="1223" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1153" class="Bound">f</a> <a id="1225" class="Symbol">(</a><a id="1226" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1121" class="Bound">ledger</a> <a id="1233" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1157" class="Bound">a</a> <a id="1235" class="Symbol">.</a><a id="1236" href="libraries.Mainlibrary-new-version.html#901" class="Field">viewFunction</a> <a id="1249" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1173" class="Bound">fname</a><a id="1254" class="Symbol">)</a>
                         <a id="1281" href="Data.Bool.Base.html#1505" class="Function Operator">else</a>  <a id="1287" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1121" class="Bound">ledger</a> <a id="1294" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1157" class="Bound">a</a> <a id="1296" class="Symbol">.</a><a id="1297" href="libraries.Mainlibrary-new-version.html#901" class="Field">viewFunction</a> <a id="1310" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1173" class="Bound">fname</a>
<a id="1316" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#763" class="Function">updateLedgerpurefun</a> <a id="1336" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1336" class="Bound">ledger</a> <a id="1343" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1343" class="Bound">changedAddr</a> <a id="1355" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1355" class="Bound">changedFname</a> <a id="1368" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1368" class="Bound">f</a> <a id="1370" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1370" class="Bound">g</a> <a id="1372" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1372" class="Bound">a</a> <a id="1374" class="Symbol">.</a><a id="1375" href="libraries.Mainlibrary-new-version.html#952" class="Field">viewFunctionCost</a> <a id="1392" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1392" class="Bound">fname</a> <a id="1398" class="Symbol">=</a>
          <a id="1410" href="Data.Bool.Base.html#1505" class="Function Operator">if</a> <a id="1413" class="Symbol">(</a><a id="1414" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1355" class="Bound">changedFname</a> <a id="1427" href="basicDataStructure.html#258" class="Function Operator">≡fun</a> <a id="1432" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1392" class="Bound">fname</a><a id="1437" class="Symbol">)</a> <a id="1439" href="Data.Bool.Base.html#1505" class="Function Operator">then</a>  <a id="1445" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1370" class="Bound">g</a> <a id="1447" class="Symbol">(</a><a id="1448" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1336" class="Bound">ledger</a> <a id="1455" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1372" class="Bound">a</a> <a id="1457" class="Symbol">.</a><a id="1458" href="libraries.Mainlibrary-new-version.html#901" class="Field">viewFunction</a> <a id="1471" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1392" class="Bound">fname</a><a id="1476" class="Symbol">)</a> <a id="1478" class="Symbol">(</a><a id="1479" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1336" class="Bound">ledger</a> <a id="1486" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1372" class="Bound">a</a> <a id="1488" class="Symbol">.</a><a id="1489" href="libraries.Mainlibrary-new-version.html#952" class="Field">viewFunctionCost</a> <a id="1506" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1392" class="Bound">fname</a><a id="1511" class="Symbol">)</a>
                         <a id="1538" href="Data.Bool.Base.html#1505" class="Function Operator">else</a>  <a id="1544" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1336" class="Bound">ledger</a> <a id="1551" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1372" class="Bound">a</a> <a id="1553" class="Symbol">.</a><a id="1554" href="libraries.Mainlibrary-new-version.html#952" class="Field">viewFunctionCost</a> <a id="1571" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1392" class="Bound">fname</a>




<a id="1581" class="Comment">--update ledger amount</a>
<a id="updateLedgerAmount"></a><a id="1604" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1604" class="Function">updateLedgerAmount</a> <a id="1623" class="Symbol">:</a> <a id="1625" class="Symbol">(</a><a id="1626" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1626" class="Bound">ledger</a> <a id="1633" class="Symbol">:</a> <a id="1635" href="libraries.Mainlibrary-new-version.html#1040" class="Function">Ledger</a><a id="1641" class="Symbol">)</a>
               <a id="1658" class="Symbol">→</a>  <a id="1661" class="Symbol">(</a><a id="1662" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1662" class="Bound">calledAddr</a> <a id="1673" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1673" class="Bound">destinationAddr</a> <a id="1689" class="Symbol">:</a> <a id="1691" href="basicDataStructure.html#387" class="Function">Address</a><a id="1698" class="Symbol">)</a> <a id="1700" class="Symbol">(</a><a id="1701" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1701" class="Bound">amount&#39;</a> <a id="1709" class="Symbol">:</a> <a id="1711" href="basicDataStructure.html#360" class="Function">Amount</a><a id="1717" class="Symbol">)</a>
               <a id="1734" class="Symbol">→</a> <a id="1736" class="Symbol">(</a><a id="1737" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1737" class="Bound">correctAmount</a> <a id="1751" class="Symbol">:</a> <a id="1753" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1701" class="Bound">amount&#39;</a> <a id="1761" href="libraries.natCompare.html#473" class="Function Operator">≦r</a>  <a id="1765" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1626" class="Bound">ledger</a> <a id="1772" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1662" class="Bound">calledAddr</a> <a id="1783" class="Symbol">.</a><a id="1784" href="libraries.Mainlibrary-new-version.html#827" class="Field">amount</a><a id="1790" class="Symbol">)</a>
                <a id="1808" class="Symbol">→</a> <a id="1810" href="libraries.Mainlibrary-new-version.html#1040" class="Function">Ledger</a>
<a id="1817" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1604" class="Function">updateLedgerAmount</a> <a id="1836" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1836" class="Bound">ledger</a> <a id="1843" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1843" class="Bound">calledAddr</a> <a id="1854" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1854" class="Bound">destinationAddr</a> <a id="1870" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1870" class="Bound">amount&#39;</a> <a id="1878" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1878" class="Bound">correctAmount</a> <a id="1892" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1892" class="Bound">addr</a> <a id="1897" class="Symbol">.</a><a id="1898" href="libraries.Mainlibrary-new-version.html#827" class="Field">amount</a>
     <a id="1910" class="Symbol">=</a> <a id="1912" href="Data.Bool.Base.html#1505" class="Function Operator">if</a> <a id="1915" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1892" class="Bound">addr</a> <a id="1920" href="Data.Nat.Base.html#1283" class="Primitive Operator">≡ᵇ</a> <a id="1923" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1843" class="Bound">calledAddr</a>
     <a id="1939" href="Data.Bool.Base.html#1505" class="Function Operator">then</a> <a id="1944" href="libraries.natCompare.html#1494" class="Function">subtract</a> <a id="1953" class="Symbol">(</a><a id="1954" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1836" class="Bound">ledger</a> <a id="1961" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1843" class="Bound">calledAddr</a> <a id="1972" class="Symbol">.</a><a id="1973" href="libraries.Mainlibrary-new-version.html#827" class="Field">amount</a><a id="1979" class="Symbol">)</a> <a id="1981" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1870" class="Bound">amount&#39;</a> <a id="1989" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1878" class="Bound">correctAmount</a>
     <a id="2008" href="Data.Bool.Base.html#1505" class="Function Operator">else</a> <a id="2013" class="Symbol">(</a><a id="2014" href="Data.Bool.Base.html#1505" class="Function Operator">if</a> <a id="2017" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1892" class="Bound">addr</a> <a id="2022" href="Data.Nat.Base.html#1283" class="Primitive Operator">≡ᵇ</a> <a id="2025" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1854" class="Bound">destinationAddr</a>
     <a id="2046" href="Data.Bool.Base.html#1505" class="Function Operator">then</a> <a id="2051" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1836" class="Bound">ledger</a> <a id="2058" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1854" class="Bound">destinationAddr</a> <a id="2074" class="Symbol">.</a><a id="2075" href="libraries.Mainlibrary-new-version.html#827" class="Field">amount</a> <a id="2082" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="2084" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1870" class="Bound">amount&#39;</a>
       <a id="2099" href="Data.Bool.Base.html#1505" class="Function Operator">else</a> <a id="2104" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1836" class="Bound">ledger</a> <a id="2111" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1892" class="Bound">addr</a> <a id="2116" class="Symbol">.</a><a id="2117" href="libraries.Mainlibrary-new-version.html#827" class="Field">amount</a><a id="2123" class="Symbol">)</a>
<a id="2125" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1604" class="Function">updateLedgerAmount</a> <a id="2144" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2144" class="Bound">ledger</a> <a id="2151" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2151" class="Bound">calledAddr</a> <a id="2162" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2162" class="Bound">newAddr</a> <a id="2170" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2170" class="Bound">amount&#39;</a> <a id="2178" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2178" class="Bound">correctAmount</a> <a id="2192" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2192" class="Bound">addr</a> <a id="2197" class="Symbol">.</a><a id="2198" href="libraries.Mainlibrary-new-version.html#847" class="Field">fun</a>
     <a id="2207" class="Symbol">=</a>  <a id="2210" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2144" class="Bound">ledger</a> <a id="2217" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2192" class="Bound">addr</a> <a id="2222" class="Symbol">.</a><a id="2223" href="libraries.Mainlibrary-new-version.html#847" class="Field">fun</a>
<a id="2227" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1604" class="Function">updateLedgerAmount</a> <a id="2246" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2246" class="Bound">ledger</a> <a id="2253" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2253" class="Bound">calledAddr</a> <a id="2264" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2264" class="Bound">newAddr</a> <a id="2272" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2272" class="Bound">amount&#39;</a> <a id="2280" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2280" class="Bound">correctAmount</a> <a id="2294" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2294" class="Bound">addr</a> <a id="2299" class="Symbol">.</a><a id="2300" href="libraries.Mainlibrary-new-version.html#901" class="Field">viewFunction</a>
     <a id="2318" class="Symbol">=</a> <a id="2320" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2246" class="Bound">ledger</a> <a id="2327" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2294" class="Bound">addr</a> <a id="2332" class="Symbol">.</a><a id="2333" href="libraries.Mainlibrary-new-version.html#901" class="Field">viewFunction</a>
<a id="2346" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1604" class="Function">updateLedgerAmount</a> <a id="2365" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2365" class="Bound">ledger</a> <a id="2372" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2372" class="Bound">calledAddr</a> <a id="2383" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2383" class="Bound">newAddr</a> <a id="2391" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2391" class="Bound">amount&#39;</a> <a id="2399" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2399" class="Bound">correctAmount</a> <a id="2413" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2413" class="Bound">addr</a> <a id="2418" class="Symbol">.</a><a id="2419" href="libraries.Mainlibrary-new-version.html#952" class="Field">viewFunctionCost</a> <a id="2436" class="Symbol">=</a> <a id="2438" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2365" class="Bound">ledger</a> <a id="2445" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2413" class="Bound">addr</a> <a id="2450" class="Symbol">.</a><a id="2451" href="libraries.Mainlibrary-new-version.html#952" class="Field">viewFunctionCost</a>


<a id="2470" class="Comment">--This function we use it to update the gas by decucting from the ledger</a>
<a id="deductGasFromLedger"></a><a id="2543" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2543" class="Function">deductGasFromLedger</a> <a id="2563" class="Symbol">:</a> <a id="2565" class="Symbol">(</a><a id="2566" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2566" class="Bound">ledger</a> <a id="2573" class="Symbol">:</a> <a id="2575" href="libraries.Mainlibrary-new-version.html#1040" class="Function">Ledger</a><a id="2581" class="Symbol">)</a>
   <a id="2586" class="Symbol">→</a> <a id="2588" class="Symbol">(</a><a id="2589" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2589" class="Bound">calledAddr</a> <a id="2600" class="Symbol">:</a> <a id="2602" href="basicDataStructure.html#387" class="Function">Address</a><a id="2609" class="Symbol">)</a> <a id="2611" class="Symbol">(</a><a id="2612" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2612" class="Bound">gascost</a> <a id="2620" class="Symbol">:</a> <a id="2622" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="2623" class="Symbol">)</a>
   <a id="2628" class="Symbol">→</a> <a id="2630" class="Symbol">(</a><a id="2631" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2631" class="Bound">correctAmount</a> <a id="2645" class="Symbol">:</a>
         <a id="2656" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2612" class="Bound">gascost</a> <a id="2664" href="libraries.natCompare.html#473" class="Function Operator">≦r</a> <a id="2667" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2566" class="Bound">ledger</a> <a id="2674" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2589" class="Bound">calledAddr</a> <a id="2685" class="Symbol">.</a><a id="2686" href="libraries.Mainlibrary-new-version.html#827" class="Field">amount</a><a id="2692" class="Symbol">)</a>
   <a id="2697" class="Symbol">→</a> <a id="2699" href="libraries.Mainlibrary-new-version.html#1040" class="Function">Ledger</a>
<a id="2706" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2543" class="Function">deductGasFromLedger</a> <a id="2726" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2726" class="Bound">ledger</a> <a id="2733" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2733" class="Bound">calledAddr</a> <a id="2744" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2744" class="Bound">gascost</a> <a id="2752" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2752" class="Bound">correctAmount</a> <a id="2766" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2766" class="Bound">addr</a> <a id="2771" class="Symbol">.</a><a id="2772" href="libraries.Mainlibrary-new-version.html#827" class="Field">amount</a>
     <a id="2784" class="Symbol">=</a> <a id="2786" href="Data.Bool.Base.html#1505" class="Function Operator">if</a> <a id="2789" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2766" class="Bound">addr</a> <a id="2794" href="Data.Nat.Base.html#1283" class="Primitive Operator">≡ᵇ</a> <a id="2797" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2733" class="Bound">calledAddr</a>
     <a id="2813" href="Data.Bool.Base.html#1505" class="Function Operator">then</a> <a id="2818" href="libraries.natCompare.html#1494" class="Function">subtract</a> <a id="2827" class="Symbol">(</a><a id="2828" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2726" class="Bound">ledger</a> <a id="2835" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2733" class="Bound">calledAddr</a> <a id="2846" class="Symbol">.</a><a id="2847" href="libraries.Mainlibrary-new-version.html#827" class="Field">amount</a><a id="2853" class="Symbol">)</a> <a id="2855" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2744" class="Bound">gascost</a> <a id="2863" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2752" class="Bound">correctAmount</a>
     <a id="2882" href="Data.Bool.Base.html#1505" class="Function Operator">else</a>  <a id="2888" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2726" class="Bound">ledger</a> <a id="2895" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2766" class="Bound">addr</a> <a id="2900" class="Symbol">.</a><a id="2901" href="libraries.Mainlibrary-new-version.html#827" class="Field">amount</a>
<a id="2908" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2543" class="Function">deductGasFromLedger</a> <a id="2928" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2928" class="Bound">ledger</a> <a id="2935" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2935" class="Bound">calledAddr</a> <a id="2946" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2946" class="Bound">gascost</a> <a id="2954" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2954" class="Bound">correctAmount</a> <a id="2968" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2968" class="Bound">addr</a> <a id="2973" class="Symbol">.</a><a id="2974" href="libraries.Mainlibrary-new-version.html#847" class="Field">fun</a>
    <a id="2982" class="Symbol">=</a> <a id="2984" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2928" class="Bound">ledger</a> <a id="2991" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2968" class="Bound">addr</a> <a id="2996" class="Symbol">.</a><a id="2997" href="libraries.Mainlibrary-new-version.html#847" class="Field">fun</a>
<a id="3001" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2543" class="Function">deductGasFromLedger</a> <a id="3021" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3021" class="Bound">ledger</a> <a id="3028" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3028" class="Bound">calledAddr</a> <a id="3039" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3039" class="Bound">gascost</a> <a id="3047" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3047" class="Bound">correctAmount</a> <a id="3061" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3061" class="Bound">addr</a> <a id="3066" class="Symbol">.</a><a id="3067" href="libraries.Mainlibrary-new-version.html#901" class="Field">viewFunction</a>
    <a id="3084" class="Symbol">=</a> <a id="3086" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3021" class="Bound">ledger</a> <a id="3093" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3061" class="Bound">addr</a> <a id="3098" class="Symbol">.</a><a id="3099" href="libraries.Mainlibrary-new-version.html#901" class="Field">viewFunction</a>
<a id="3112" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2543" class="Function">deductGasFromLedger</a> <a id="3132" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3132" class="Bound">ledger</a> <a id="3139" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3139" class="Bound">calledAddr</a> <a id="3150" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3150" class="Bound">gascost</a> <a id="3158" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3158" class="Bound">correctAmount</a> <a id="3172" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3172" class="Bound">addr</a> <a id="3177" class="Symbol">.</a><a id="3178" href="libraries.Mainlibrary-new-version.html#952" class="Field">viewFunctionCost</a>
    <a id="3199" class="Symbol">=</a> <a id="3201" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3132" class="Bound">ledger</a> <a id="3208" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3172" class="Bound">addr</a> <a id="3213" class="Symbol">.</a><a id="3214" href="libraries.Mainlibrary-new-version.html#952" class="Field">viewFunctionCost</a>

<a id="3232" class="Comment">-- this function below we use it to refuend in two cases with stepEF</a>
<a id="3301" class="Comment">-- 1) when finish (first case)</a>
<a id="3332" class="Comment">-- 2) when we have error (the last case)</a>
<a id="addWeiToLedger"></a><a id="3373" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3373" class="Function">addWeiToLedger</a> <a id="3388" class="Symbol">:</a> <a id="3390" class="Symbol">(</a><a id="3391" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3391" class="Bound">ledger</a> <a id="3398" class="Symbol">:</a> <a id="3400" href="libraries.Mainlibrary-new-version.html#1040" class="Function">Ledger</a><a id="3406" class="Symbol">)</a>
   <a id="3411" class="Symbol">→</a> <a id="3413" class="Symbol">(</a><a id="3414" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3414" class="Bound">address</a> <a id="3422" class="Symbol">:</a> <a id="3424" href="basicDataStructure.html#387" class="Function">Address</a><a id="3431" class="Symbol">)</a> <a id="3433" class="Symbol">(</a><a id="3434" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3434" class="Bound">amount&#39;</a> <a id="3442" class="Symbol">:</a> <a id="3444" href="basicDataStructure.html#360" class="Function">Amount</a><a id="3450" class="Symbol">)</a>
   <a id="3455" class="Symbol">→</a> <a id="3457" href="libraries.Mainlibrary-new-version.html#1040" class="Function">Ledger</a>
<a id="3464" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3373" class="Function">addWeiToLedger</a> <a id="3479" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3479" class="Bound">ledger</a> <a id="3486" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3486" class="Bound">address</a> <a id="3494" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3494" class="Bound">amount&#39;</a> <a id="3502" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3502" class="Bound">addr</a> <a id="3507" class="Symbol">.</a><a id="3508" href="libraries.Mainlibrary-new-version.html#827" class="Field">amount</a>
       <a id="3522" class="Symbol">=</a>   <a id="3526" href="Data.Bool.Base.html#1505" class="Function Operator">if</a> <a id="3529" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3502" class="Bound">addr</a> <a id="3534" href="Data.Nat.Base.html#1283" class="Primitive Operator">≡ᵇ</a> <a id="3537" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3486" class="Bound">address</a>
           <a id="3556" href="Data.Bool.Base.html#1505" class="Function Operator">then</a> <a id="3561" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3479" class="Bound">ledger</a> <a id="3568" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3486" class="Bound">address</a> <a id="3576" class="Symbol">.</a><a id="3577" href="libraries.Mainlibrary-new-version.html#827" class="Field">amount</a> <a id="3584" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="3586" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3494" class="Bound">amount&#39;</a>
           <a id="3605" href="Data.Bool.Base.html#1505" class="Function Operator">else</a> <a id="3610" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3479" class="Bound">ledger</a> <a id="3617" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3502" class="Bound">addr</a> <a id="3622" class="Symbol">.</a><a id="3623" href="libraries.Mainlibrary-new-version.html#827" class="Field">amount</a>
<a id="3630" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3373" class="Function">addWeiToLedger</a> <a id="3645" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3645" class="Bound">ledger</a> <a id="3652" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3652" class="Bound">address</a> <a id="3660" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3660" class="Bound">amount&#39;</a> <a id="3668" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3668" class="Bound">addr</a> <a id="3673" class="Symbol">.</a><a id="3674" href="libraries.Mainlibrary-new-version.html#847" class="Field">fun</a>
       <a id="3685" class="Symbol">=</a>   <a id="3689" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3645" class="Bound">ledger</a> <a id="3696" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3668" class="Bound">addr</a> <a id="3701" class="Symbol">.</a><a id="3702" href="libraries.Mainlibrary-new-version.html#847" class="Field">fun</a>
<a id="3706" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3373" class="Function">addWeiToLedger</a> <a id="3721" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3721" class="Bound">ledger</a> <a id="3728" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3728" class="Bound">address</a> <a id="3736" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3736" class="Bound">amount&#39;</a> <a id="3744" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3744" class="Bound">addr</a> <a id="3749" class="Symbol">.</a><a id="3750" href="libraries.Mainlibrary-new-version.html#901" class="Field">viewFunction</a>
       <a id="3770" class="Symbol">=</a> <a id="3772" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3721" class="Bound">ledger</a> <a id="3779" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3744" class="Bound">addr</a> <a id="3784" class="Symbol">.</a><a id="3785" href="libraries.Mainlibrary-new-version.html#901" class="Field">viewFunction</a>
<a id="3798" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3373" class="Function">addWeiToLedger</a> <a id="3813" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3813" class="Bound">ledger</a> <a id="3820" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3820" class="Bound">address</a> <a id="3828" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3828" class="Bound">amount&#39;</a> <a id="3836" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3836" class="Bound">addr</a> <a id="3841" class="Symbol">.</a><a id="3842" href="libraries.Mainlibrary-new-version.html#952" class="Field">viewFunctionCost</a> <a id="3859" class="Symbol">=</a> <a id="3861" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3813" class="Bound">ledger</a> <a id="3868" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3836" class="Bound">addr</a> <a id="3873" class="Symbol">.</a><a id="3874" href="libraries.Mainlibrary-new-version.html#952" class="Field">viewFunctionCost</a>




<a id="3895" class="Comment">--- we define execute transfer Aux with one more parameter (bool)</a>
<a id="3961" class="Comment">-- if it true it will execute it without using fallback function</a>
<a id="4026" class="Comment">-- if it false it will use fallback function</a>
<a id="executeTransferAux"></a><a id="4071" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4071" class="Function">executeTransferAux</a> <a id="4090" class="Symbol">:</a> <a id="4092" class="Symbol">(</a><a id="4093" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4093" class="Bound">oldLedger</a> <a id="4103" class="Symbol">:</a> <a id="4105" href="libraries.Mainlibrary-new-version.html#1040" class="Function">Ledger</a><a id="4111" class="Symbol">)</a>
     <a id="4118" class="Symbol">→</a> <a id="4120" class="Symbol">(</a><a id="4121" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4121" class="Bound">currentledger</a> <a id="4135" class="Symbol">:</a> <a id="4137" href="libraries.Mainlibrary-new-version.html#1040" class="Function">Ledger</a><a id="4143" class="Symbol">)</a>
     <a id="4150" class="Symbol">→</a> <a id="4152" class="Symbol">(</a><a id="4153" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4153" class="Bound">executionStack</a> <a id="4168" class="Symbol">:</a> <a id="4170" href="libraries.Mainlibrary-new-version.html#1443" class="Function">ExecutionStack</a><a id="4184" class="Symbol">)</a>
     <a id="4191" class="Symbol">→</a> <a id="4193" class="Symbol">(</a><a id="4194" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4194" class="Bound">initialAddr</a> <a id="4206" class="Symbol">:</a> <a id="4208" href="basicDataStructure.html#387" class="Function">Address</a><a id="4215" class="Symbol">)</a>
     <a id="4222" class="Symbol">→</a> <a id="4224" class="Symbol">(</a><a id="4225" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4225" class="Bound">lastCallAddr</a> <a id="4238" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4238" class="Bound">calledAddr</a> <a id="4249" class="Symbol">:</a> <a id="4251" href="basicDataStructure.html#387" class="Function">Address</a><a id="4258" class="Symbol">)</a>
     <a id="4265" class="Symbol">→</a> <a id="4267" class="Symbol">(</a><a id="4268" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4268" class="Bound">cont</a> <a id="4273" class="Symbol">:</a> <a id="4275" href="basicDataStructure.html#511" class="Datatype">Msg</a> <a id="4279" class="Symbol">→</a> <a id="4281" href="Complex-Model.ccomand.ccommands-cresponse.html#1762" class="Datatype">SmartContract</a> <a id="4295" href="basicDataStructure.html#511" class="Datatype">Msg</a><a id="4298" class="Symbol">)</a>
     <a id="4305" class="Symbol">→</a> <a id="4307" class="Symbol">(</a><a id="4308" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4308" class="Bound">gasleft</a> <a id="4316" class="Symbol">:</a> <a id="4318" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="4319" class="Symbol">)</a>
     <a id="4326" class="Symbol">→</a> <a id="4328" class="Symbol">(</a><a id="4329" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4329" class="Bound">gascost</a> <a id="4337" class="Symbol">:</a> <a id="4339" href="basicDataStructure.html#511" class="Datatype">Msg</a> <a id="4343" class="Symbol">→</a> <a id="4345" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="4346" class="Symbol">)</a>
     <a id="4353" class="Symbol">→</a> <a id="4355" class="Symbol">(</a><a id="4356" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4356" class="Bound">funNameevalState</a> <a id="4373" class="Symbol">:</a> <a id="4375" href="basicDataStructure.html#173" class="Function">FunctionName</a><a id="4387" class="Symbol">)</a>
     <a id="4394" class="Symbol">→</a> <a id="4396" class="Symbol">(</a><a id="4397" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4397" class="Bound">msgevalState</a> <a id="4410" class="Symbol">:</a> <a id="4412" href="basicDataStructure.html#511" class="Datatype">Msg</a><a id="4415" class="Symbol">)</a>
     <a id="4422" class="Symbol">→</a> <a id="4424" class="Symbol">(</a><a id="4425" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4425" class="Bound">amountSent</a> <a id="4436" class="Symbol">:</a> <a id="4438" href="basicDataStructure.html#360" class="Function">Amount</a><a id="4444" class="Symbol">)</a>
     <a id="4451" class="Symbol">→</a> <a id="4453" class="Symbol">(</a><a id="4454" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4454" class="Bound">destinationAddr</a> <a id="4470" class="Symbol">:</a> <a id="4472" href="basicDataStructure.html#387" class="Function">Address</a><a id="4479" class="Symbol">)</a>
     <a id="4486" class="Symbol">→</a> <a id="4488" class="Symbol">(</a><a id="4489" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4489" class="Bound">prevAmountReceived</a> <a id="4508" class="Symbol">:</a> <a id="4510" href="basicDataStructure.html#360" class="Function">Amount</a><a id="4516" class="Symbol">)</a>
     <a id="4523" class="Symbol">→</a> <a id="4525" class="Symbol">(</a><a id="4526" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4526" class="Bound">events</a> <a id="4533" class="Symbol">:</a> <a id="4535" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4540" href="Agda.Builtin.String.html#335" class="Postulate">String</a><a id="4546" class="Symbol">)</a>
     <a id="4553" class="Symbol">→</a> <a id="4555" class="Symbol">(</a><a id="4556" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4556" class="Bound">runfallback</a> <a id="4568" class="Symbol">:</a> <a id="4570" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="4574" class="Symbol">)</a>
     <a id="4581" class="Symbol">→</a> <a id="4583" class="Symbol">(</a><a id="4584" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4584" class="Bound">cp</a>  <a id="4588" class="Symbol">:</a> <a id="4590" href="libraries.natCompare.html#644" class="Datatype">OrderingLeq</a> <a id="4602" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4425" class="Bound">amountSent</a> <a id="4613" class="Symbol">(</a><a id="4614" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4121" class="Bound">currentledger</a> <a id="4628" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4238" class="Bound">calledAddr</a> <a id="4639" class="Symbol">.</a><a id="4640" href="libraries.Mainlibrary-new-version.html#827" class="Field">amount</a><a id="4646" class="Symbol">))</a>
     <a id="4654" class="Symbol">→</a> <a id="4656" href="libraries.Mainlibrary-new-version.html#1548" class="Record">StateExecFun</a>
<a id="4669" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4071" class="Function">executeTransferAux</a> <a id="4688" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4688" class="Bound">oldLedger</a> <a id="4698" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4698" class="Bound">currentledger</a> <a id="4712" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4712" class="Bound">executionStack</a> <a id="4727" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4727" class="Bound">initialAddr</a> <a id="4739" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4739" class="Bound">lastCallAddr</a> <a id="4752" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4752" class="Bound">calledAddr</a> <a id="4763" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4763" class="Bound">cont</a> <a id="4768" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4768" class="Bound">gasleft</a> <a id="4776" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4776" class="Bound">gascost</a>
                      <a id="4806" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4806" class="Bound">funNameevalState</a> <a id="4823" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4823" class="Bound">msgevalState</a> <a id="4836" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4836" class="Bound">amountSent</a> <a id="4847" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4847" class="Bound">destinationAddr</a> <a id="4863" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4863" class="Bound">prevAmountReceived</a> <a id="4882" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4882" class="Bound">events</a> <a id="4889" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="4895" class="Symbol">(</a><a id="4896" href="libraries.natCompare.html#682" class="InductiveConstructor">leq</a> <a id="4900" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4900" class="Bound">x</a><a id="4901" class="Symbol">)</a>
                      <a id="4925" class="Symbol">=</a> <a id="4927" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="4935" class="Symbol">(</a><a id="4936" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1604" class="Function">updateLedgerAmount</a> <a id="4955" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4698" class="Bound">currentledger</a> <a id="4969" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4752" class="Bound">calledAddr</a> <a id="4980" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4847" class="Bound">destinationAddr</a> <a id="4996" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4836" class="Bound">amountSent</a> <a id="5007" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4900" class="Bound">x</a><a id="5008" class="Symbol">)</a>
                        <a id="5034" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4712" class="Bound">executionStack</a>
                        <a id="5073" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4727" class="Bound">initialAddr</a> <a id="5085" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4739" class="Bound">lastCallAddr</a> <a id="5098" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4752" class="Bound">calledAddr</a> <a id="5109" class="Symbol">(</a><a id="5110" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4763" class="Bound">cont</a> <a id="5115" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4823" class="Bound">msgevalState</a> <a id="5128" class="Symbol">)</a>
                        <a id="5154" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4768" class="Bound">gasleft</a> <a id="5162" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4806" class="Bound">funNameevalState</a> <a id="5179" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4823" class="Bound">msgevalState</a> <a id="5192" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4836" class="Bound">amountSent</a> <a id="5203" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4882" class="Bound">events</a>

<a id="5211" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4071" class="Function">executeTransferAux</a> <a id="5230" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5230" class="Bound">oldLedger</a> <a id="5240" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5240" class="Bound">currentledger</a> <a id="5254" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5254" class="Bound">executionStack</a> <a id="5269" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5269" class="Bound">initialAddr</a> <a id="5281" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5281" class="Bound">lastCallAddr</a> <a id="5294" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5294" class="Bound">calledAddr</a> <a id="5305" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5305" class="Bound">cont</a> <a id="5310" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5310" class="Bound">gasleft</a> <a id="5318" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5318" class="Bound">gascost</a>
                      <a id="5348" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5348" class="Bound">funNameevalState</a> <a id="5365" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5365" class="Bound">msgevalState</a> <a id="5378" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5378" class="Bound">amountSent</a> <a id="5389" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5389" class="Bound">destinationAddr</a> <a id="5405" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5405" class="Bound">prevAmountReceived</a> <a id="5424" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5424" class="Bound">events</a> <a id="5431" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="5436" class="Symbol">(</a><a id="5437" href="libraries.natCompare.html#682" class="InductiveConstructor">leq</a> <a id="5441" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5441" class="Bound">x</a><a id="5442" class="Symbol">)</a>
                      <a id="5466" class="Symbol">=</a> <a id="5468" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="5476" class="Symbol">(</a><a id="5477" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#1604" class="Function">updateLedgerAmount</a> <a id="5496" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5240" class="Bound">currentledger</a> <a id="5510" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5294" class="Bound">calledAddr</a> <a id="5521" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5389" class="Bound">destinationAddr</a> <a id="5537" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5378" class="Bound">amountSent</a> <a id="5548" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5441" class="Bound">x</a><a id="5549" class="Symbol">)</a>
                        <a id="5575" class="Symbol">(</a><a id="5576" href="libraries.Mainlibrary-new-version.html#1166" class="InductiveConstructor">execStackEl</a> <a id="5588" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5281" class="Bound">lastCallAddr</a> <a id="5601" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5294" class="Bound">calledAddr</a> <a id="5612" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5305" class="Bound">cont</a> <a id="5617" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5318" class="Bound">gascost</a> <a id="5625" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5348" class="Bound">funNameevalState</a> <a id="5642" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5365" class="Bound">msgevalState</a> <a id="5655" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5405" class="Bound">prevAmountReceived</a> <a id="5674" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5676" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5254" class="Bound">executionStack</a><a id="5690" class="Symbol">)</a>
                        <a id="5716" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5269" class="Bound">initialAddr</a> <a id="5728" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5294" class="Bound">calledAddr</a> <a id="5739" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5389" class="Bound">destinationAddr</a> <a id="5755" class="Symbol">(</a><a id="5756" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5240" class="Bound">currentledger</a>  <a id="5771" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5389" class="Bound">destinationAddr</a> <a id="5787" class="Symbol">.</a><a id="5788" href="libraries.Mainlibrary-new-version.html#847" class="Field">fun</a> <a id="5792" href="Complex-Model.ccomand.ccommands-cresponse.html#2038" class="Function">fallback</a> <a id="5801" class="Symbol">(</a><a id="5802" href="basicDataStructure.html#530" class="InductiveConstructor">nat</a> <a id="5806" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5378" class="Bound">amountSent</a><a id="5816" class="Symbol">)</a> <a id="5818" class="Symbol">)</a>
                        <a id="5844" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5310" class="Bound">gasleft</a> <a id="5852" href="Complex-Model.ccomand.ccommands-cresponse.html#2038" class="Function">fallback</a> <a id="5861" class="Symbol">(</a><a id="5862" href="basicDataStructure.html#530" class="InductiveConstructor">nat</a> <a id="5866" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5378" class="Bound">amountSent</a><a id="5876" class="Symbol">)</a> <a id="5878" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5378" class="Bound">amountSent</a> <a id="5889" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5424" class="Bound">events</a>
<a id="5896" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4071" class="CatchallClause Function">executeTransferAux</a><a id="5914" class="CatchallClause"> </a><a id="5915" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5915" class="CatchallClause Bound">oldLedger</a><a id="5924" class="CatchallClause"> </a><a id="5925" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5925" class="CatchallClause Bound">currentledger</a><a id="5938" class="CatchallClause"> </a><a id="5939" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5939" class="CatchallClause Bound">executionStack</a><a id="5953" class="CatchallClause"> </a><a id="5954" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5954" class="CatchallClause Bound">initialAddr</a><a id="5965" class="CatchallClause"> </a><a id="5966" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5966" class="CatchallClause Bound">lastCallAddr</a><a id="5978" class="CatchallClause"> </a><a id="5979" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5979" class="CatchallClause Bound">calledAddr</a><a id="5989" class="CatchallClause"> </a><a id="5990" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5990" class="CatchallClause Bound">cont</a><a id="5994" class="CatchallClause"> </a><a id="5995" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5995" class="CatchallClause Bound">gasleft</a><a id="6002" class="CatchallClause"> </a><a id="6003" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6003" class="CatchallClause Bound">gascost</a>
                      <a id="6033" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6033" class="CatchallClause Bound">funNameevalState</a><a id="6049" class="CatchallClause"> </a><a id="6050" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6050" class="CatchallClause Bound">msgevalState</a><a id="6062" class="CatchallClause"> </a><a id="6063" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6063" class="CatchallClause Bound">amountSent</a><a id="6073" class="CatchallClause"> </a><a id="6074" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6074" class="CatchallClause Bound">destinationAddr</a><a id="6089" class="CatchallClause"> </a><a id="6090" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6090" class="CatchallClause Bound">prevAmountReceived</a><a id="6108" class="CatchallClause"> </a><a id="6109" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6109" class="CatchallClause Bound">events</a><a id="6115" class="CatchallClause"> </a><a id="6116" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6116" class="CatchallClause Bound">runfallback</a><a id="6127" class="CatchallClause"> </a><a id="6128" class="CatchallClause Symbol">(</a><a id="6129" href="libraries.natCompare.html#720" class="CatchallClause InductiveConstructor">greater</a><a id="6136" class="CatchallClause"> </a><a id="6137" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6137" class="CatchallClause Bound">x</a><a id="6138" class="CatchallClause Symbol">)</a>
                      <a id="6162" class="Symbol">=</a> <a id="6164" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="6172" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5915" class="Bound">oldLedger</a> <a id="6182" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5939" class="Bound">executionStack</a> <a id="6197" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5954" class="Bound">initialAddr</a> <a id="6209" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5966" class="Bound">lastCallAddr</a>
                        <a id="6246" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5979" class="Bound">calledAddr</a> <a id="6257" class="Symbol">(</a><a id="6258" href="Complex-Model.ccomand.ccommands-cresponse.html#1836" class="InductiveConstructor">error</a> <a id="6264" class="Symbol">(</a><a id="6265" href="basicDataStructure.html#697" class="InductiveConstructor">strErr</a> <a id="6272" class="String">&quot;not enough money&quot;</a><a id="6290" class="Symbol">)</a>
                        <a id="6316" href="basicDataStructure.html#892" class="InductiveConstructor Operator">⟨</a> <a id="6318" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5966" class="Bound">lastCallAddr</a> <a id="6331" href="basicDataStructure.html#892" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="6334" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5954" class="Bound">initialAddr</a> <a id="6346" href="basicDataStructure.html#892" class="InductiveConstructor Operator">∙</a> <a id="6348" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6033" class="Bound">funNameevalState</a> <a id="6365" href="basicDataStructure.html#892" class="InductiveConstructor Operator">[</a> <a id="6367" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6050" class="Bound">msgevalState</a> <a id="6380" href="basicDataStructure.html#892" class="InductiveConstructor Operator">]∙</a> <a id="6383" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6109" class="Bound">events</a> <a id="6390" href="basicDataStructure.html#892" class="InductiveConstructor Operator">⟩</a><a id="6391" class="Symbol">)</a>
                        <a id="6417" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#5995" class="Bound">gasleft</a> <a id="6425" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6033" class="Bound">funNameevalState</a> <a id="6442" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6050" class="Bound">msgevalState</a> <a id="6455" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6063" class="Bound">amountSent</a> <a id="6466" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6109" class="Bound">events</a>


<a id="6475" class="Comment">-- lemmaExecuteTransferAuxGasEq function we added a bool parameter and we use it to prove gas</a>
<a id="lemmaExecuteTransferAuxGasEq"></a><a id="6569" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6569" class="Function">lemmaExecuteTransferAuxGasEq</a> <a id="6598" class="Symbol">:</a> <a id="6600" class="Symbol">(</a><a id="6601" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6601" class="Bound">oldLedger</a> <a id="6611" class="Symbol">:</a> <a id="6613" href="libraries.Mainlibrary-new-version.html#1040" class="Function">Ledger</a><a id="6619" class="Symbol">)</a>
     <a id="6626" class="Symbol">→</a> <a id="6628" class="Symbol">(</a><a id="6629" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6629" class="Bound">currentledger</a> <a id="6643" class="Symbol">:</a> <a id="6645" href="libraries.Mainlibrary-new-version.html#1040" class="Function">Ledger</a><a id="6651" class="Symbol">)</a>
     <a id="6658" class="Symbol">→</a> <a id="6660" class="Symbol">(</a><a id="6661" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6661" class="Bound">executionStack</a> <a id="6676" class="Symbol">:</a> <a id="6678" href="libraries.Mainlibrary-new-version.html#1443" class="Function">ExecutionStack</a><a id="6692" class="Symbol">)</a>
     <a id="6699" class="Symbol">→</a> <a id="6701" class="Symbol">(</a><a id="6702" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6702" class="Bound">initialAddr</a> <a id="6714" class="Symbol">:</a> <a id="6716" href="basicDataStructure.html#387" class="Function">Address</a><a id="6723" class="Symbol">)</a>
     <a id="6730" class="Symbol">→</a> <a id="6732" class="Symbol">(</a><a id="6733" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6733" class="Bound">lastCallAddr</a> <a id="6746" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6746" class="Bound">calledAddr</a> <a id="6757" class="Symbol">:</a> <a id="6759" href="basicDataStructure.html#387" class="Function">Address</a><a id="6766" class="Symbol">)</a>
     <a id="6773" class="Symbol">→</a> <a id="6775" class="Symbol">(</a><a id="6776" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6776" class="Bound">cont</a> <a id="6781" class="Symbol">:</a> <a id="6783" href="basicDataStructure.html#511" class="Datatype">Msg</a> <a id="6787" class="Symbol">→</a> <a id="6789" href="Complex-Model.ccomand.ccommands-cresponse.html#1762" class="Datatype">SmartContract</a> <a id="6803" href="basicDataStructure.html#511" class="Datatype">Msg</a><a id="6806" class="Symbol">)</a>
     <a id="6813" class="Symbol">→</a> <a id="6815" class="Symbol">(</a><a id="6816" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6816" class="Bound">gasleft1</a> <a id="6825" class="Symbol">:</a> <a id="6827" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="6828" class="Symbol">)</a>
     <a id="6835" class="Symbol">→</a> <a id="6837" class="Symbol">(</a><a id="6838" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6838" class="Bound">gascost</a> <a id="6846" class="Symbol">:</a> <a id="6848" href="basicDataStructure.html#511" class="Datatype">Msg</a> <a id="6852" class="Symbol">→</a> <a id="6854" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="6855" class="Symbol">)</a>
     <a id="6862" class="Symbol">→</a> <a id="6864" class="Symbol">(</a><a id="6865" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6865" class="Bound">funNameevalState</a> <a id="6882" class="Symbol">:</a> <a id="6884" href="basicDataStructure.html#173" class="Function">FunctionName</a><a id="6896" class="Symbol">)</a>
     <a id="6903" class="Symbol">→</a> <a id="6905" class="Symbol">(</a><a id="6906" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6906" class="Bound">msgevalState</a> <a id="6919" class="Symbol">:</a> <a id="6921" href="basicDataStructure.html#511" class="Datatype">Msg</a><a id="6924" class="Symbol">)</a>
     <a id="6931" class="Symbol">→</a> <a id="6933" class="Symbol">(</a><a id="6934" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6934" class="Bound">amountSent</a> <a id="6945" class="Symbol">:</a> <a id="6947" href="basicDataStructure.html#360" class="Function">Amount</a><a id="6953" class="Symbol">)</a>
     <a id="6960" class="Symbol">→</a> <a id="6962" class="Symbol">(</a><a id="6963" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6963" class="Bound">destinationAddr</a> <a id="6979" class="Symbol">:</a> <a id="6981" href="basicDataStructure.html#387" class="Function">Address</a><a id="6988" class="Symbol">)</a>
     <a id="6995" class="Symbol">→</a> <a id="6997" class="Symbol">(</a><a id="6998" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6998" class="Bound">prevAmountReceived</a> <a id="7017" class="Symbol">:</a> <a id="7019" href="basicDataStructure.html#360" class="Function">Amount</a><a id="7025" class="Symbol">)</a>
     <a id="7032" class="Symbol">→</a> <a id="7034" class="Symbol">(</a><a id="7035" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7035" class="Bound">events</a> <a id="7042" class="Symbol">:</a> <a id="7044" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="7049" href="Agda.Builtin.String.html#335" class="Postulate">String</a><a id="7055" class="Symbol">)</a>
     <a id="7062" class="Symbol">→</a> <a id="7064" class="Symbol">(</a><a id="7065" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7065" class="Bound">runfallback</a> <a id="7077" class="Symbol">:</a> <a id="7079" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="7083" class="Symbol">)</a>
     <a id="7090" class="Symbol">→</a> <a id="7092" class="Symbol">(</a><a id="7093" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7093" class="Bound">cp</a>  <a id="7097" class="Symbol">:</a> <a id="7099" href="libraries.natCompare.html#644" class="Datatype">OrderingLeq</a> <a id="7111" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6934" class="Bound">amountSent</a> <a id="7122" class="Symbol">(</a><a id="7123" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6629" class="Bound">currentledger</a> <a id="7137" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6746" class="Bound">calledAddr</a> <a id="7148" class="Symbol">.</a><a id="7149" href="libraries.Mainlibrary-new-version.html#827" class="Field">amount</a><a id="7155" class="Symbol">))</a>
     <a id="7163" class="Symbol">→</a> <a id="7165" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6816" class="Bound">gasleft1</a> <a id="7174" href="libraries.natCompare.html#517" class="Function Operator">==r</a> <a id="7178" href="libraries.Mainlibrary-new-version.html#1797" class="Field">gasLeft</a>
                    <a id="7206" class="Symbol">(</a><a id="7207" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4071" class="Function">executeTransferAux</a> <a id="7226" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6601" class="Bound">oldLedger</a> <a id="7236" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6629" class="Bound">currentledger</a> <a id="7250" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6661" class="Bound">executionStack</a> <a id="7265" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6702" class="Bound">initialAddr</a>
                     <a id="7298" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6733" class="Bound">lastCallAddr</a> <a id="7311" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6746" class="Bound">calledAddr</a> <a id="7322" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6776" class="Bound">cont</a> <a id="7327" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6816" class="Bound">gasleft1</a> <a id="7336" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6838" class="Bound">gascost</a> <a id="7344" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6865" class="Bound">funNameevalState</a>
                     <a id="7382" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6906" class="Bound">msgevalState</a> <a id="7395" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6934" class="Bound">amountSent</a> <a id="7406" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6963" class="Bound">destinationAddr</a> <a id="7422" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6998" class="Bound">prevAmountReceived</a> <a id="7441" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7035" class="Bound">events</a> <a id="7448" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7065" class="Bound">runfallback</a> <a id="7460" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7093" class="Bound">cp</a><a id="7462" class="Symbol">)</a>

<a id="7465" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6569" class="Function">lemmaExecuteTransferAuxGasEq</a> <a id="7494" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7494" class="Bound">oldLedger</a> <a id="7504" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7504" class="Bound">currentledger</a> <a id="7518" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7518" class="Bound">executionStack</a> <a id="7533" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7533" class="Bound">initialAddr</a> <a id="7545" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7545" class="Bound">lastCallAddr</a> <a id="7558" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7558" class="Bound">calledAddr</a> <a id="7569" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7569" class="Bound">cont</a> <a id="7574" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7574" class="Bound">gasleft1</a> <a id="7583" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7583" class="Bound">gascost</a>
                              <a id="7621" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7621" class="Bound">funNameevalState</a> <a id="7638" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7638" class="Bound">msgevalState</a> <a id="7651" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7651" class="Bound">amount&#39;</a> <a id="7659" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7659" class="Bound">destinationAddr</a> <a id="7675" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7675" class="Bound">amountSent</a> <a id="7686" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7686" class="Bound">events</a> <a id="7693" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="7699" class="Symbol">(</a><a id="7700" href="libraries.natCompare.html#682" class="InductiveConstructor">leq</a> <a id="7704" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7704" class="Bound">x</a><a id="7705" class="Symbol">)</a> <a id="7707" class="Symbol">=</a> <a id="7709" href="libraries.natCompare.html#1668" class="Function">refl==r</a> <a id="7717" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7574" class="Bound">gasleft1</a>
<a id="7726" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6569" class="Function">lemmaExecuteTransferAuxGasEq</a> <a id="7755" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7755" class="Bound">oldLedger</a> <a id="7765" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7765" class="Bound">currentledger</a> <a id="7779" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7779" class="Bound">executionStack</a> <a id="7794" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7794" class="Bound">initialAddr</a> <a id="7806" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7806" class="Bound">lastCallAddr</a> <a id="7819" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7819" class="Bound">calledAddr</a> <a id="7830" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7830" class="Bound">cont</a> <a id="7835" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7835" class="Bound">gasleft1</a> <a id="7844" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7844" class="Bound">gascost</a>
                              <a id="7882" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7882" class="Bound">funNameevalState</a> <a id="7899" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7899" class="Bound">msgevalState</a> <a id="7912" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7912" class="Bound">amount&#39;</a> <a id="7920" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7920" class="Bound">destinationAddr</a> <a id="7936" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7936" class="Bound">amountSent</a> <a id="7947" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7947" class="Bound">events</a> <a id="7954" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="7959" class="Symbol">(</a><a id="7960" href="libraries.natCompare.html#682" class="InductiveConstructor">leq</a> <a id="7964" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7964" class="Bound">x</a><a id="7965" class="Symbol">)</a> <a id="7967" class="Symbol">=</a> <a id="7969" href="libraries.natCompare.html#1668" class="Function">refl==r</a> <a id="7977" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#7835" class="Bound">gasleft1</a>
<a id="7986" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6569" class="Function">lemmaExecuteTransferAuxGasEq</a> <a id="8015" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8015" class="Bound">oldLedger</a> <a id="8025" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8025" class="Bound">currentledger</a> <a id="8039" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8039" class="Bound">executionStack</a> <a id="8054" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8054" class="Bound">initialAddr</a> <a id="8066" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8066" class="Bound">lastCallAddr</a> <a id="8079" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8079" class="Bound">calledAddr</a> <a id="8090" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8090" class="Bound">cont</a> <a id="8095" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8095" class="Bound">gasleft1</a>
                             <a id="8133" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8133" class="Bound">gascost</a> <a id="8141" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8141" class="Bound">funNameevalState</a> <a id="8158" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8158" class="Bound">msgevalState</a> <a id="8171" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8171" class="Bound">amount&#39;</a> <a id="8179" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8179" class="Bound">destinationAddr</a> <a id="8195" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8195" class="Bound">amountSent</a> <a id="8206" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8206" class="Bound">events</a> <a id="8213" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="8219" class="Symbol">(</a><a id="8220" href="libraries.natCompare.html#720" class="InductiveConstructor">greater</a> <a id="8228" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8228" class="Bound">x</a><a id="8229" class="Symbol">)</a> <a id="8231" class="Symbol">=</a> <a id="8233" href="libraries.natCompare.html#1668" class="Function">refl==r</a> <a id="8241" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8095" class="Bound">gasleft1</a> 
<a id="8251" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6569" class="Function">lemmaExecuteTransferAuxGasEq</a> <a id="8280" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8280" class="Bound">oldLedger</a> <a id="8290" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8290" class="Bound">currentledger</a> <a id="8304" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8304" class="Bound">executionStack</a> <a id="8319" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8319" class="Bound">initialAddr</a> <a id="8331" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8331" class="Bound">lastCallAddr</a> <a id="8344" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8344" class="Bound">calledAddr</a> <a id="8355" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8355" class="Bound">cont</a> <a id="8360" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8360" class="Bound">gasleft1</a>
                             <a id="8398" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8398" class="Bound">gascost</a> <a id="8406" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8406" class="Bound">funNameevalState</a> <a id="8423" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8423" class="Bound">msgevalState</a> <a id="8436" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8436" class="Bound">amount&#39;</a> <a id="8444" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8444" class="Bound">destinationAddr</a> <a id="8460" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8460" class="Bound">amountSent</a> <a id="8471" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8471" class="Bound">events</a> <a id="8478" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="8483" class="Symbol">(</a><a id="8484" href="libraries.natCompare.html#720" class="InductiveConstructor">greater</a> <a id="8492" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8492" class="Bound">x</a><a id="8493" class="Symbol">)</a> <a id="8495" class="Symbol">=</a> <a id="8497" href="libraries.natCompare.html#1668" class="Function">refl==r</a> <a id="8505" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8360" class="Bound">gasleft1</a> 


<a id="8517" class="Comment">-- execute transfer we added an extra element (bool value)</a>
<a id="executeTransfer"></a><a id="8576" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8576" class="Function">executeTransfer</a> <a id="8592" class="Symbol">:</a> <a id="8594" class="Symbol">(</a><a id="8595" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8595" class="Bound">oldLedger</a> <a id="8605" class="Symbol">:</a> <a id="8607" href="libraries.Mainlibrary-new-version.html#1040" class="Function">Ledger</a><a id="8613" class="Symbol">)</a>
      <a id="8621" class="Symbol">→</a> <a id="8623" class="Symbol">(</a><a id="8624" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8624" class="Bound">currentledger</a> <a id="8638" class="Symbol">:</a> <a id="8640" href="libraries.Mainlibrary-new-version.html#1040" class="Function">Ledger</a><a id="8646" class="Symbol">)</a>
      <a id="8654" class="Symbol">→</a> <a id="8656" class="Symbol">(</a><a id="8657" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8657" class="Bound">execStack</a> <a id="8667" class="Symbol">:</a> <a id="8669" href="libraries.Mainlibrary-new-version.html#1443" class="Function">ExecutionStack</a><a id="8683" class="Symbol">)</a>
      <a id="8691" class="Symbol">→</a> <a id="8693" class="Symbol">(</a><a id="8694" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8694" class="Bound">initialAddr</a> <a id="8706" class="Symbol">:</a> <a id="8708" href="basicDataStructure.html#387" class="Function">Address</a><a id="8715" class="Symbol">)</a>
      <a id="8723" class="Symbol">→</a> <a id="8725" class="Symbol">(</a><a id="8726" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8726" class="Bound">lastCallAddr</a> <a id="8739" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8739" class="Bound">calledAddr</a> <a id="8750" class="Symbol">:</a> <a id="8752" href="basicDataStructure.html#387" class="Function">Address</a><a id="8759" class="Symbol">)</a>
      <a id="8767" class="Symbol">→</a> <a id="8769" class="Symbol">(</a><a id="8770" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8770" class="Bound">cont</a> <a id="8775" class="Symbol">:</a> <a id="8777" href="basicDataStructure.html#511" class="Datatype">Msg</a> <a id="8781" class="Symbol">→</a> <a id="8783" href="Complex-Model.ccomand.ccommands-cresponse.html#1762" class="Datatype">SmartContract</a> <a id="8797" href="basicDataStructure.html#511" class="Datatype">Msg</a><a id="8800" class="Symbol">)</a>
      <a id="8808" class="Symbol">→</a> <a id="8810" class="Symbol">(</a><a id="8811" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8811" class="Bound">gasleft</a> <a id="8819" class="Symbol">:</a> <a id="8821" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="8822" class="Symbol">)</a>
      <a id="8830" class="Symbol">→</a> <a id="8832" class="Symbol">(</a><a id="8833" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8833" class="Bound">gascost</a> <a id="8841" class="Symbol">:</a> <a id="8843" href="basicDataStructure.html#511" class="Datatype">Msg</a> <a id="8847" class="Symbol">→</a> <a id="8849" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="8850" class="Symbol">)</a>
      <a id="8858" class="Symbol">→</a> <a id="8860" class="Symbol">(</a><a id="8861" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8861" class="Bound">funNameevalState</a> <a id="8878" class="Symbol">:</a> <a id="8880" href="basicDataStructure.html#173" class="Function">FunctionName</a><a id="8892" class="Symbol">)</a>
      <a id="8900" class="Symbol">→</a> <a id="8902" class="Symbol">(</a><a id="8903" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8903" class="Bound">msgevalState</a> <a id="8916" class="Symbol">:</a> <a id="8918" href="basicDataStructure.html#511" class="Datatype">Msg</a><a id="8921" class="Symbol">)</a>
      <a id="8929" class="Symbol">→</a> <a id="8931" class="Symbol">(</a><a id="8932" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8932" class="Bound">amountTransferred</a> <a id="8950" class="Symbol">:</a> <a id="8952" href="basicDataStructure.html#360" class="Function">Amount</a><a id="8958" class="Symbol">)</a>
      <a id="8966" class="Symbol">→</a> <a id="8968" class="Symbol">(</a><a id="8969" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8969" class="Bound">destinationAddr</a> <a id="8985" class="Symbol">:</a> <a id="8987" href="basicDataStructure.html#387" class="Function">Address</a><a id="8994" class="Symbol">)</a>
      <a id="9002" class="Symbol">→</a> <a id="9004" class="Symbol">(</a><a id="9005" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9005" class="Bound">prevAmountReceived</a> <a id="9024" class="Symbol">:</a> <a id="9026" href="basicDataStructure.html#387" class="Function">Address</a><a id="9033" class="Symbol">)</a>
      <a id="9041" class="Symbol">→</a> <a id="9043" class="Symbol">(</a><a id="9044" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9044" class="Bound">events</a> <a id="9051" class="Symbol">:</a> <a id="9053" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="9058" href="Agda.Builtin.String.html#335" class="Postulate">String</a><a id="9064" class="Symbol">)</a>
      <a id="9072" class="Symbol">→</a> <a id="9074" class="Symbol">(</a><a id="9075" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9075" class="Bound">runfallback</a> <a id="9087" class="Symbol">:</a> <a id="9089" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="9093" class="Symbol">)</a>
      <a id="9101" class="Symbol">→</a> <a id="9103" href="libraries.Mainlibrary-new-version.html#1548" class="Record">StateExecFun</a>
<a id="9116" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8576" class="Function">executeTransfer</a> <a id="9132" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9132" class="Bound">oldLedger</a> <a id="9142" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9142" class="Bound">currentledger</a> <a id="9156" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9156" class="Bound">execStack</a> <a id="9166" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9166" class="Bound">initialAddr</a> <a id="9178" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9178" class="Bound">lastCallAddr</a> <a id="9191" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9191" class="Bound">calledAddr</a>
                <a id="9218" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9218" class="Bound">cont</a> <a id="9223" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9223" class="Bound">gasleft</a> <a id="9231" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9231" class="Bound">gascost</a> <a id="9239" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9239" class="Bound">funNameevalState</a> <a id="9256" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9256" class="Bound">msgevalState</a> <a id="9269" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9269" class="Bound">amountTransferred</a> <a id="9287" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9287" class="Bound">destinationAddr</a> <a id="9303" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9303" class="Bound">prevAmountReceived</a> <a id="9322" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9322" class="Bound">events</a> <a id="9329" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9329" class="Bound">runfallback</a>
         <a id="9350" class="Symbol">=</a> <a id="9352" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#4071" class="Function">executeTransferAux</a> <a id="9371" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9132" class="Bound">oldLedger</a> <a id="9381" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9142" class="Bound">currentledger</a> <a id="9395" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9156" class="Bound">execStack</a> <a id="9405" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9166" class="Bound">initialAddr</a> <a id="9417" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9178" class="Bound">lastCallAddr</a> <a id="9430" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9191" class="Bound">calledAddr</a>
            <a id="9453" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9218" class="Bound">cont</a> <a id="9458" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9223" class="Bound">gasleft</a>  <a id="9467" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9231" class="Bound">gascost</a> <a id="9475" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9239" class="Bound">funNameevalState</a> <a id="9492" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9256" class="Bound">msgevalState</a> <a id="9505" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9269" class="Bound">amountTransferred</a>
            <a id="9535" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9287" class="Bound">destinationAddr</a> <a id="9551" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9303" class="Bound">prevAmountReceived</a> <a id="9570" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9322" class="Bound">events</a> <a id="9577" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9329" class="Bound">runfallback</a> <a id="9589" class="Symbol">(</a><a id="9590" href="libraries.natCompare.html#901" class="Function">compareLeq</a> <a id="9601" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9269" class="Bound">amountTransferred</a> <a id="9619" class="Symbol">(</a><a id="9620" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9142" class="Bound">currentledger</a> <a id="9634" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9191" class="Bound">calledAddr</a> <a id="9645" class="Symbol">.</a><a id="9646" href="libraries.Mainlibrary-new-version.html#827" class="Field">amount</a><a id="9652" class="Symbol">))</a>



 <a id="9659" class="Comment">-- the stepEF without deducting the gasLeft</a>
<a id="stepEF"></a><a id="9703" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9703" class="Function">stepEF</a> <a id="9710" class="Symbol">:</a> <a id="9712" href="libraries.Mainlibrary-new-version.html#1040" class="Function">Ledger</a> <a id="9719" class="Symbol">→</a> <a id="9721" href="libraries.Mainlibrary-new-version.html#1548" class="Record">StateExecFun</a> <a id="9734" class="Symbol">→</a> <a id="9736" href="libraries.Mainlibrary-new-version.html#1548" class="Record">StateExecFun</a>
<a id="9749" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9703" class="Function">stepEF</a> <a id="9756" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9756" class="Bound">oldLedger</a> <a id="9766" class="Symbol">(</a><a id="9767" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="9775" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9775" class="Bound">currentLedger</a> <a id="9789" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9789" class="Bound">executionStack</a> <a id="9804" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9804" class="Bound">initialAddr</a> <a id="9816" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9816" class="Bound">lastCallAddr</a> <a id="9829" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9829" class="Bound">calledAddr</a>
                 <a id="9857" class="Symbol">(</a><a id="9858" href="Complex-Model.ccomand.ccommands-cresponse.html#1889" class="InductiveConstructor">exec</a> <a id="9863" class="Symbol">(</a><a id="9864" href="Complex-Model.ccomand.ccommands-cresponse.html#614" class="InductiveConstructor">callView</a> <a id="9873" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9873" class="Bound">addr</a> <a id="9878" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9878" class="Bound">fname</a> <a id="9884" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9884" class="Bound">msg</a><a id="9887" class="Symbol">)</a> <a id="9889" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9889" class="Bound">costcomputecont</a> <a id="9905" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9905" class="Bound">cont</a><a id="9909" class="Symbol">)</a> <a id="9911" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9911" class="Bound">gasLeft</a>
                  <a id="9937" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9937" class="Bound">funNameevalState</a> <a id="9954" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9954" class="Bound">msgevalState</a> <a id="9967" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9967" class="Bound">amountSent</a> <a id="9978" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9978" class="Bound">listEvent</a><a id="9987" class="Symbol">)</a>
                  <a id="10007" class="Symbol">=</a> <a id="10009" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="10017" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9775" class="Bound">currentLedger</a> <a id="10031" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9789" class="Bound">executionStack</a> <a id="10046" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9804" class="Bound">initialAddr</a> <a id="10058" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9816" class="Bound">lastCallAddr</a> <a id="10071" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9829" class="Bound">calledAddr</a>
                    <a id="10102" class="Symbol">(</a><a id="10103" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9905" class="Bound">cont</a> <a id="10108" class="Symbol">(</a><a id="10109" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9775" class="Bound">currentLedger</a> <a id="10123" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9873" class="Bound">addr</a> <a id="10128" class="Symbol">.</a><a id="10129" href="libraries.Mainlibrary-new-version.html#901" class="Field">viewFunction</a> <a id="10142" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9878" class="Bound">fname</a> <a id="10148" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9884" class="Bound">msg</a><a id="10151" class="Symbol">))</a>
                    <a id="10174" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9911" class="Bound">gasLeft</a>  <a id="10183" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9878" class="Bound">fname</a> <a id="10189" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9884" class="Bound">msg</a> <a id="10193" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9967" class="Bound">amountSent</a> <a id="10204" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9978" class="Bound">listEvent</a>
                                   

<a id="10251" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9703" class="Function">stepEF</a> <a id="10258" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10258" class="Bound">oldLedger</a> <a id="10268" class="Symbol">(</a><a id="10269" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="10277" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10277" class="Bound">currentLedger</a> <a id="10291" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10291" class="Bound">executionStack</a> <a id="10306" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10306" class="Bound">initialAddr</a> <a id="10318" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10318" class="Bound">lastCallAddr</a> <a id="10331" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10331" class="Bound">calledAddr</a>
                 <a id="10359" class="Symbol">(</a><a id="10360" href="Complex-Model.ccomand.ccommands-cresponse.html#1889" class="InductiveConstructor">exec</a> <a id="10365" href="Complex-Model.ccomand.ccommands-cresponse.html#1009" class="InductiveConstructor">currentAddrLookupc</a> <a id="10384" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10384" class="Bound">costcomputecont</a> <a id="10400" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10400" class="Bound">cont</a><a id="10404" class="Symbol">)</a> <a id="10406" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10406" class="Bound">gasLeft</a>
                  <a id="10432" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10432" class="Bound">funNameevalState</a> <a id="10449" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10449" class="Bound">msgevalState</a> <a id="10462" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10462" class="Bound">amountSent</a> <a id="10473" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10473" class="Bound">listEvent</a><a id="10482" class="Symbol">)</a>
       <a id="10491" class="Symbol">=</a> <a id="10493" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="10501" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10277" class="Bound">currentLedger</a> <a id="10515" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10291" class="Bound">executionStack</a> <a id="10530" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10306" class="Bound">initialAddr</a> <a id="10542" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10318" class="Bound">lastCallAddr</a> <a id="10555" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10331" class="Bound">calledAddr</a>
          <a id="10576" class="Symbol">(</a><a id="10577" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10400" class="Bound">cont</a> <a id="10582" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10331" class="Bound">calledAddr</a><a id="10592" class="Symbol">)</a> <a id="10594" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10406" class="Bound">gasLeft</a>  <a id="10603" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10432" class="Bound">funNameevalState</a> <a id="10620" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10449" class="Bound">msgevalState</a> <a id="10633" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10462" class="Bound">amountSent</a> <a id="10644" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10473" class="Bound">listEvent</a> 

<a id="10656" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9703" class="Function">stepEF</a> <a id="10663" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10663" class="Bound">oldLedger</a> <a id="10673" class="Symbol">(</a><a id="10674" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="10682" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10682" class="Bound">currentLedger</a> <a id="10696" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10696" class="Bound">executionStack</a> <a id="10711" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10711" class="Bound">initialAddr</a> <a id="10723" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10723" class="Bound">lastCallAddr</a> <a id="10736" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10736" class="Bound">calledAddr</a>
                 <a id="10764" class="Symbol">(</a><a id="10765" href="Complex-Model.ccomand.ccommands-cresponse.html#1889" class="InductiveConstructor">exec</a> <a id="10770" href="Complex-Model.ccomand.ccommands-cresponse.html#1044" class="InductiveConstructor">callAddrLookupc</a> <a id="10786" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10786" class="Bound">costcomputecont</a> <a id="10802" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10802" class="Bound">cont</a><a id="10806" class="Symbol">)</a> <a id="10808" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10808" class="Bound">gasLeft</a>
                  <a id="10834" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10834" class="Bound">funNameevalState</a> <a id="10851" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10851" class="Bound">msgevalState</a> <a id="10864" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10864" class="Bound">amountSent</a> <a id="10875" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10875" class="Bound">listEvent</a><a id="10884" class="Symbol">)</a>
       <a id="10893" class="Symbol">=</a> <a id="10895" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="10903" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10682" class="Bound">currentLedger</a> <a id="10917" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10696" class="Bound">executionStack</a> <a id="10932" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10711" class="Bound">initialAddr</a> <a id="10944" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10723" class="Bound">lastCallAddr</a> <a id="10957" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10736" class="Bound">calledAddr</a> <a id="10968" class="Symbol">(</a><a id="10969" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10802" class="Bound">cont</a> <a id="10974" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10723" class="Bound">lastCallAddr</a><a id="10986" class="Symbol">)</a>
          <a id="10998" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10808" class="Bound">gasLeft</a>  <a id="11007" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10834" class="Bound">funNameevalState</a> <a id="11024" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10851" class="Bound">msgevalState</a> <a id="11037" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10864" class="Bound">amountSent</a> <a id="11048" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#10875" class="Bound">listEvent</a>

<a id="11059" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9703" class="Function">stepEF</a> <a id="11066" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11066" class="Bound">oldLedger</a> <a id="11076" class="Symbol">(</a><a id="11077" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="11085" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11085" class="Bound">currentLedger</a> <a id="11099" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11099" class="Bound">executionStack</a> <a id="11114" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11114" class="Bound">initialAddr</a> <a id="11126" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11126" class="Bound">lastCallAddr</a> <a id="11139" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11139" class="Bound">calledAddr</a>
                 <a id="11167" class="Symbol">(</a><a id="11168" href="Complex-Model.ccomand.ccommands-cresponse.html#1889" class="InductiveConstructor">exec</a> <a id="11173" class="Symbol">(</a><a id="11174" href="Complex-Model.ccomand.ccommands-cresponse.html#672" class="InductiveConstructor">updatec</a> <a id="11182" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11182" class="Bound">changedFname</a> <a id="11195" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11195" class="Bound">changedPFun</a> <a id="11207" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11207" class="Bound">cost</a><a id="11211" class="Symbol">)</a> <a id="11213" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11213" class="Bound">costcomputecont</a> <a id="11229" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11229" class="Bound">cont</a><a id="11233" class="Symbol">)</a>
                 <a id="11252" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11252" class="Bound">gasLeft</a>  <a id="11261" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11261" class="Bound">funNameevalState</a> <a id="11278" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11278" class="Bound">msgevalState</a> <a id="11291" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11291" class="Bound">amountSent</a> <a id="11302" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11302" class="Bound">listEvent</a><a id="11311" class="Symbol">)</a>
       <a id="11320" class="Symbol">=</a> <a id="11322" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="11330" class="Symbol">(</a><a id="11331" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#763" class="Function">updateLedgerpurefun</a> <a id="11351" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11085" class="Bound">currentLedger</a> <a id="11365" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11139" class="Bound">calledAddr</a> <a id="11376" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11182" class="Bound">changedFname</a>  <a id="11390" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11195" class="Bound">changedPFun</a> <a id="11402" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11207" class="Bound">cost</a><a id="11406" class="Symbol">)</a>
          <a id="11418" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11099" class="Bound">executionStack</a> <a id="11433" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11114" class="Bound">initialAddr</a> <a id="11445" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11126" class="Bound">lastCallAddr</a> <a id="11458" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11139" class="Bound">calledAddr</a> <a id="11469" class="Symbol">(</a><a id="11470" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11229" class="Bound">cont</a> <a id="11475" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="11477" class="Symbol">)</a> <a id="11479" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11252" class="Bound">gasLeft</a>
            <a id="11499" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11261" class="Bound">funNameevalState</a> <a id="11516" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11278" class="Bound">msgevalState</a> <a id="11529" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11291" class="Bound">amountSent</a> <a id="11540" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11302" class="Bound">listEvent</a>


<a id="11552" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9703" class="Function">stepEF</a> <a id="11559" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11559" class="Bound">oldLedger</a> <a id="11569" class="Symbol">(</a><a id="11570" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="11578" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11578" class="Bound">currentLedger</a> <a id="11592" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11592" class="Bound">executionStack</a> <a id="11607" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11607" class="Bound">initialAddr</a> <a id="11619" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11619" class="Bound">oldlastCallAddr</a> <a id="11635" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11635" class="Bound">oldcalledAddr</a>
                 <a id="11666" class="Symbol">(</a><a id="11667" href="Complex-Model.ccomand.ccommands-cresponse.html#1889" class="InductiveConstructor">exec</a> <a id="11672" class="Symbol">(</a><a id="11673" href="Complex-Model.ccomand.ccommands-cresponse.html#486" class="InductiveConstructor">callc</a> <a id="11679" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11679" class="Bound">newaddr</a> <a id="11687" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11687" class="Bound">fname</a> <a id="11693" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11693" class="Bound">msg</a> <a id="11697" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11697" class="Bound">amountSent</a><a id="11707" class="Symbol">)</a> <a id="11709" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11709" class="Bound">costcomputecont</a> <a id="11725" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11725" class="Bound">cont</a><a id="11729" class="Symbol">)</a>
                 <a id="11748" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11748" class="Bound">gasLeft</a>  <a id="11757" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11757" class="Bound">funNameevalState</a> <a id="11774" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11774" class="Bound">msgevalState</a> <a id="11787" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11787" class="Bound">prevAmountReceived</a> <a id="11806" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11806" class="Bound">listEvent</a><a id="11815" class="Symbol">)</a>
            <a id="11829" class="Symbol">=</a>  <a id="11832" class="Symbol">(</a><a id="11833" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="11841" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11578" class="Bound">currentLedger</a> <a id="11855" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11592" class="Bound">executionStack</a> <a id="11870" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11607" class="Bound">initialAddr</a> <a id="11882" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11619" class="Bound">oldlastCallAddr</a> <a id="11898" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11635" class="Bound">oldcalledAddr</a>
                 <a id="11929" class="Symbol">(</a><a id="11930" href="Complex-Model.ccomand.ccommands-cresponse.html#1889" class="InductiveConstructor">exec</a> <a id="11935" class="Symbol">(</a><a id="11936" href="Complex-Model.ccomand.ccommands-cresponse.html#864" class="InductiveConstructor">transfercWithoutFallBack</a> <a id="11961" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11697" class="Bound">amountSent</a> <a id="11972" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11679" class="Bound">newaddr</a><a id="11979" class="Symbol">)</a> <a id="11981" class="Symbol">(λ</a> <a id="11984" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11984" class="Bound">_</a> <a id="11986" class="Symbol">→</a> <a id="11988" class="Number">0</a><a id="11989" class="Symbol">)</a>  
                 <a id="12010" class="Symbol">λ</a> <a id="12012" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12012" class="Bound">_</a> <a id="12014" class="Symbol">→</a> <a id="12016" href="Complex-Model.ccomand.ccommands-cresponse.html#1889" class="InductiveConstructor">exec</a> <a id="12021" class="Symbol">(</a><a id="12022" href="Complex-Model.ccomand.ccommands-cresponse.html#929" class="InductiveConstructor">callcAssumingTransferc</a> <a id="12045" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11679" class="Bound">newaddr</a> <a id="12053" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11687" class="Bound">fname</a> <a id="12059" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11693" class="Bound">msg</a> <a id="12063" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11697" class="Bound">amountSent</a><a id="12073" class="Symbol">)</a> <a id="12075" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11709" class="Bound">costcomputecont</a> <a id="12091" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11725" class="Bound">cont</a><a id="12095" class="Symbol">)</a>
                 <a id="12114" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11748" class="Bound">gasLeft</a>  <a id="12123" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11757" class="Bound">funNameevalState</a> <a id="12140" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11774" class="Bound">msgevalState</a> <a id="12153" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11787" class="Bound">prevAmountReceived</a> <a id="12172" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#11806" class="Bound">listEvent</a><a id="12181" class="Symbol">)</a>

<a id="12184" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9703" class="Function">stepEF</a> <a id="12191" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12191" class="Bound">oldLedger</a> <a id="12201" class="Symbol">(</a><a id="12202" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="12210" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12210" class="Bound">currentLedger</a> <a id="12224" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12224" class="Bound">executionStack</a> <a id="12239" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12239" class="Bound">initialAddr</a> <a id="12251" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12251" class="Bound">oldlastCallAddr</a> <a id="12267" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12267" class="Bound">oldcalledAddr</a>
                 <a id="12298" class="Symbol">(</a><a id="12299" href="Complex-Model.ccomand.ccommands-cresponse.html#1889" class="InductiveConstructor">exec</a> <a id="12304" class="Symbol">(</a><a id="12305" href="Complex-Model.ccomand.ccommands-cresponse.html#929" class="InductiveConstructor">callcAssumingTransferc</a> <a id="12328" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12328" class="Bound">newaddr</a> <a id="12336" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12336" class="Bound">fname</a> <a id="12342" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12342" class="Bound">msg</a> <a id="12346" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12346" class="Bound">amountTransferred</a><a id="12363" class="Symbol">)</a> <a id="12365" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12365" class="Bound">costcomputecont</a> <a id="12381" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12381" class="Bound">cont</a><a id="12385" class="Symbol">)</a>
                 <a id="12404" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12404" class="Bound">gasLeft</a>  <a id="12413" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12413" class="Bound">funNameevalState</a> <a id="12430" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12430" class="Bound">msgevalState</a> <a id="12443" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12443" class="Bound">prevAmountReceived</a> <a id="12462" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12462" class="Bound">listEvent</a><a id="12471" class="Symbol">)</a>
           <a id="12484" class="Symbol">=</a> <a id="12486" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="12494" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12210" class="Bound">currentLedger</a>
           <a id="12519" class="Symbol">(</a><a id="12520" href="libraries.Mainlibrary-new-version.html#1166" class="InductiveConstructor">execStackEl</a> <a id="12532" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12251" class="Bound">oldlastCallAddr</a> <a id="12548" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12267" class="Bound">oldcalledAddr</a> <a id="12562" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12381" class="Bound">cont</a> <a id="12567" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12365" class="Bound">costcomputecont</a> <a id="12583" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12413" class="Bound">funNameevalState</a> <a id="12600" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12430" class="Bound">msgevalState</a> <a id="12613" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12443" class="Bound">prevAmountReceived</a>  <a id="12633" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="12635" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12224" class="Bound">executionStack</a><a id="12649" class="Symbol">)</a>
           <a id="12662" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12239" class="Bound">initialAddr</a> <a id="12674" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12267" class="Bound">oldcalledAddr</a> <a id="12688" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12328" class="Bound">newaddr</a> <a id="12696" class="Symbol">(</a><a id="12697" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12210" class="Bound">currentLedger</a> <a id="12711" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12328" class="Bound">newaddr</a> <a id="12719" class="Symbol">.</a><a id="12720" href="libraries.Mainlibrary-new-version.html#847" class="Field">fun</a> <a id="12724" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12336" class="Bound">fname</a> <a id="12730" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12342" class="Bound">msg</a><a id="12733" class="Symbol">)</a>
           <a id="12746" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12404" class="Bound">gasLeft</a>  <a id="12755" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12336" class="Bound">fname</a> <a id="12761" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12342" class="Bound">msg</a> <a id="12765" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12346" class="Bound">amountTransferred</a> <a id="12783" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12462" class="Bound">listEvent</a>

<a id="12794" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9703" class="Function">stepEF</a> <a id="12801" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12801" class="Bound">oldLedger</a> <a id="12811" class="Symbol">(</a><a id="12812" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="12820" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12820" class="Bound">currentLedger</a> <a id="12834" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12834" class="Bound">executionStack</a> <a id="12849" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12849" class="Bound">initialAddr</a> <a id="12861" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12861" class="Bound">lastCallAddr</a> <a id="12874" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12874" class="Bound">calledAddr</a>
                 <a id="12902" class="Symbol">(</a><a id="12903" href="Complex-Model.ccomand.ccommands-cresponse.html#1889" class="InductiveConstructor">exec</a> <a id="12908" class="Symbol">(</a><a id="12909" href="Complex-Model.ccomand.ccommands-cresponse.html#818" class="InductiveConstructor">transferc</a> <a id="12919" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12919" class="Bound">amountSent</a> <a id="12930" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12930" class="Bound">destinationAddr</a><a id="12945" class="Symbol">)</a> <a id="12947" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12947" class="Bound">costcomputecont</a> <a id="12963" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12963" class="Bound">cont</a><a id="12967" class="Symbol">)</a>
                  <a id="12987" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12987" class="Bound">gasLeft</a>  <a id="12996" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12996" class="Bound">funNameevalState</a> <a id="13013" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13013" class="Bound">msgevalState</a> <a id="13026" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13026" class="Bound">prevAmountReceived</a> <a id="13045" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13045" class="Bound">listEvent</a><a id="13054" class="Symbol">)</a>
       <a id="13063" class="Symbol">=</a> <a id="13065" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8576" class="Function">executeTransfer</a> <a id="13081" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12801" class="Bound">oldLedger</a> <a id="13091" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12820" class="Bound">currentLedger</a> <a id="13105" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12834" class="Bound">executionStack</a> <a id="13120" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12849" class="Bound">initialAddr</a> <a id="13132" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12861" class="Bound">lastCallAddr</a> <a id="13145" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12874" class="Bound">calledAddr</a>
       <a id="13163" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12963" class="Bound">cont</a> <a id="13168" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12987" class="Bound">gasLeft</a> <a id="13176" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12947" class="Bound">costcomputecont</a>  <a id="13193" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12996" class="Bound">funNameevalState</a> <a id="13210" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13013" class="Bound">msgevalState</a>
           <a id="13234" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12919" class="Bound">amountSent</a> <a id="13245" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#12930" class="Bound">destinationAddr</a> <a id="13261" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13026" class="Bound">prevAmountReceived</a> <a id="13280" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13045" class="Bound">listEvent</a> <a id="13290" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>

<a id="13296" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9703" class="Function">stepEF</a> <a id="13303" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13303" class="Bound">oldLedger</a> <a id="13313" class="Symbol">(</a><a id="13314" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="13322" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13322" class="Bound">currentLedger</a> <a id="13336" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13336" class="Bound">executionStack</a> <a id="13351" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13351" class="Bound">initialAddr</a> <a id="13363" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13363" class="Bound">lastCallAddr</a> <a id="13376" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13376" class="Bound">calledAddr</a>
                 <a id="13404" class="Symbol">(</a><a id="13405" href="Complex-Model.ccomand.ccommands-cresponse.html#1889" class="InductiveConstructor">exec</a> <a id="13410" class="Symbol">(</a><a id="13411" href="Complex-Model.ccomand.ccommands-cresponse.html#864" class="InductiveConstructor">transfercWithoutFallBack</a> <a id="13436" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13436" class="Bound">amountSent</a> <a id="13447" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13447" class="Bound">destinationAddr</a><a id="13462" class="Symbol">)</a> <a id="13464" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13464" class="Bound">costcomputecont</a> <a id="13480" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13480" class="Bound">cont</a><a id="13484" class="Symbol">)</a>
                  <a id="13504" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13504" class="Bound">gasLeft</a>  <a id="13513" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13513" class="Bound">funNameevalState</a> <a id="13530" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13530" class="Bound">msgevalState</a> <a id="13543" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13543" class="Bound">prevAmountReceived</a> <a id="13562" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13562" class="Bound">listEvent</a><a id="13571" class="Symbol">)</a>
       <a id="13580" class="Symbol">=</a> <a id="13582" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#8576" class="Function">executeTransfer</a> <a id="13598" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13303" class="Bound">oldLedger</a> <a id="13608" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13322" class="Bound">currentLedger</a> <a id="13622" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13336" class="Bound">executionStack</a> <a id="13637" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13351" class="Bound">initialAddr</a> <a id="13649" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13363" class="Bound">lastCallAddr</a> <a id="13662" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13376" class="Bound">calledAddr</a>
       <a id="13680" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13480" class="Bound">cont</a> <a id="13685" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13504" class="Bound">gasLeft</a> <a id="13693" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13464" class="Bound">costcomputecont</a>  <a id="13710" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13513" class="Bound">funNameevalState</a> <a id="13727" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13530" class="Bound">msgevalState</a>
           <a id="13751" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13436" class="Bound">amountSent</a> <a id="13762" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13447" class="Bound">destinationAddr</a> <a id="13778" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13543" class="Bound">prevAmountReceived</a> <a id="13797" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13562" class="Bound">listEvent</a> <a id="13807" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>

<a id="13814" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9703" class="Function">stepEF</a> <a id="13821" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13821" class="Bound">oldLedger</a> <a id="13831" class="Symbol">(</a><a id="13832" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="13840" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13840" class="Bound">currentLedger</a> <a id="13854" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13854" class="Bound">executionStack</a> <a id="13869" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13869" class="Bound">initialAddr</a> <a id="13881" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13881" class="Bound">lastCallAddr</a> <a id="13894" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13894" class="Bound">calledAddr</a>
                 <a id="13922" class="Symbol">(</a><a id="13923" href="Complex-Model.ccomand.ccommands-cresponse.html#1889" class="InductiveConstructor">exec</a> <a id="13928" class="Symbol">(</a><a id="13929" href="Complex-Model.ccomand.ccommands-cresponse.html#1076" class="InductiveConstructor">getAmountc</a> <a id="13940" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13940" class="Bound">addrLookedUp</a><a id="13952" class="Symbol">)</a> <a id="13954" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13954" class="Bound">costcomputecont</a> <a id="13970" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13970" class="Bound">cont</a><a id="13974" class="Symbol">)</a> <a id="13976" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13976" class="Bound">gasLeft</a>
                   <a id="14003" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14003" class="Bound">funNameevalState</a> <a id="14020" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14020" class="Bound">msgevalState</a> <a id="14033" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14033" class="Bound">amountSent</a> <a id="14044" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14044" class="Bound">listEvent</a><a id="14053" class="Symbol">)</a>
       <a id="14062" class="Symbol">=</a> <a id="14064" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="14072" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13840" class="Bound">currentLedger</a> <a id="14086" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13854" class="Bound">executionStack</a> <a id="14101" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13869" class="Bound">initialAddr</a> <a id="14113" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13881" class="Bound">lastCallAddr</a> <a id="14126" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13894" class="Bound">calledAddr</a>
           <a id="14148" class="Symbol">(</a><a id="14149" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13970" class="Bound">cont</a> <a id="14154" class="Symbol">(</a><a id="14155" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13840" class="Bound">currentLedger</a> <a id="14169" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13940" class="Bound">addrLookedUp</a> <a id="14182" class="Symbol">.</a><a id="14183" href="libraries.Mainlibrary-new-version.html#827" class="Field">amount</a><a id="14189" class="Symbol">))</a> <a id="14192" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#13976" class="Bound">gasLeft</a>
              <a id="14214" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14003" class="Bound">funNameevalState</a> <a id="14231" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14020" class="Bound">msgevalState</a> <a id="14244" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14033" class="Bound">amountSent</a> <a id="14255" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14044" class="Bound">listEvent</a>

<a id="14266" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9703" class="Function">stepEF</a> <a id="14273" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14273" class="Bound">oldLedger</a> <a id="14283" class="Symbol">(</a><a id="14284" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="14292" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14292" class="Bound">currentLedger</a> <a id="14306" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14306" class="Bound">executionStack</a> <a id="14321" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14321" class="Bound">initialAddr</a> <a id="14333" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14333" class="Bound">lastCallAddr</a> <a id="14346" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14346" class="Bound">calledAddr</a>
                 <a id="14374" class="Symbol">(</a><a id="14375" href="Complex-Model.ccomand.ccommands-cresponse.html#1889" class="InductiveConstructor">exec</a> <a id="14380" href="Complex-Model.ccomand.ccommands-cresponse.html#548" class="InductiveConstructor">getTransferAmount</a> <a id="14398" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14398" class="Bound">costcomputecont</a> <a id="14414" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14414" class="Bound">cont</a><a id="14418" class="Symbol">)</a> <a id="14420" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14420" class="Bound">gasLeft</a> <a id="14428" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14428" class="Bound">funNameevalState</a> <a id="14445" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14445" class="Bound">msgevalState</a> <a id="14458" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14458" class="Bound">amountReceived</a> <a id="14473" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14473" class="Bound">listEvent</a><a id="14482" class="Symbol">)</a>
       <a id="14491" class="Symbol">=</a> <a id="14493" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="14501" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14292" class="Bound">currentLedger</a> <a id="14515" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14306" class="Bound">executionStack</a> <a id="14530" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14321" class="Bound">initialAddr</a> <a id="14542" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14333" class="Bound">lastCallAddr</a> <a id="14555" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14346" class="Bound">calledAddr</a>
                 <a id="14583" class="Symbol">(</a><a id="14584" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14414" class="Bound">cont</a> <a id="14589" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14458" class="Bound">amountReceived</a><a id="14603" class="Symbol">)</a> <a id="14605" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14420" class="Bound">gasLeft</a> <a id="14613" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14428" class="Bound">funNameevalState</a> <a id="14630" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14445" class="Bound">msgevalState</a> <a id="14643" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14458" class="Bound">amountReceived</a> <a id="14658" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14473" class="Bound">listEvent</a>

<a id="14669" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9703" class="Function">stepEF</a> <a id="14676" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14676" class="Bound">oldLedger</a> <a id="14686" class="Symbol">(</a><a id="14687" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="14695" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14695" class="Bound">currentLedger</a> <a id="14709" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14709" class="Bound">executionStack</a> <a id="14724" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14724" class="Bound">initialAddr</a> <a id="14736" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14736" class="Bound">lastCallAddr</a> <a id="14749" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14749" class="Bound">calledAddr</a>
                 <a id="14777" class="Symbol">(</a><a id="14778" href="Complex-Model.ccomand.ccommands-cresponse.html#1836" class="InductiveConstructor">error</a> <a id="14784" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14784" class="Bound">errorMsg</a> <a id="14793" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14793" class="Bound">debugInfo</a><a id="14802" class="Symbol">)</a> <a id="14804" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14804" class="Bound">gasLeft</a>  <a id="14813" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14813" class="Bound">funNameevalState</a> <a id="14830" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14830" class="Bound">msgevalState</a> <a id="14843" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14843" class="Bound">amountSent</a> <a id="14854" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14854" class="Bound">listEvent</a><a id="14863" class="Symbol">)</a>
       <a id="14872" class="Symbol">=</a> <a id="14874" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="14882" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14676" class="Bound">oldLedger</a> <a id="14892" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14709" class="Bound">executionStack</a> <a id="14907" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14724" class="Bound">initialAddr</a> <a id="14919" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14736" class="Bound">lastCallAddr</a> <a id="14932" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14749" class="Bound">calledAddr</a>
         <a id="14952" class="Symbol">(</a><a id="14953" href="Complex-Model.ccomand.ccommands-cresponse.html#1836" class="InductiveConstructor">error</a> <a id="14959" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14784" class="Bound">errorMsg</a> <a id="14968" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14793" class="Bound">debugInfo</a><a id="14977" class="Symbol">)</a>  <a id="14980" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14804" class="Bound">gasLeft</a>  <a id="14989" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14813" class="Bound">funNameevalState</a> <a id="15006" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14830" class="Bound">msgevalState</a> <a id="15019" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14843" class="Bound">amountSent</a> <a id="15030" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#14854" class="Bound">listEvent</a>

<a id="15041" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9703" class="Function">stepEF</a> <a id="15048" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15048" class="Bound">oldLedger</a> <a id="15058" class="Symbol">(</a><a id="15059" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="15067" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15067" class="Bound">currentLedger</a> <a id="15081" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="15084" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15084" class="Bound">initialAddr</a> <a id="15096" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15096" class="Bound">lastCallAddr</a> <a id="15109" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15109" class="Bound">calledAddr</a>
                 <a id="15137" class="Symbol">(</a><a id="15138" href="Complex-Model.ccomand.ccommands-cresponse.html#1802" class="InductiveConstructor">return</a> <a id="15145" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15145" class="Bound">result</a><a id="15151" class="Symbol">)</a> <a id="15153" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15153" class="Bound">gasLeft</a>  <a id="15162" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15162" class="Bound">funNameevalState</a> <a id="15179" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15179" class="Bound">msgevalState</a> <a id="15192" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15192" class="Bound">amountSent</a> <a id="15203" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15203" class="Bound">listEvent</a><a id="15212" class="Symbol">)</a>
       <a id="15221" class="Symbol">=</a> <a id="15223" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="15231" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15067" class="Bound">currentLedger</a> <a id="15245" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="15248" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15084" class="Bound">initialAddr</a> <a id="15260" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15096" class="Bound">lastCallAddr</a> <a id="15273" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15109" class="Bound">calledAddr</a>
         <a id="15293" class="Symbol">(</a><a id="15294" href="Complex-Model.ccomand.ccommands-cresponse.html#1802" class="InductiveConstructor">return</a> <a id="15301" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15145" class="Bound">result</a><a id="15307" class="Symbol">)</a> <a id="15309" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15153" class="Bound">gasLeft</a>  <a id="15318" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15162" class="Bound">funNameevalState</a> <a id="15335" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15179" class="Bound">msgevalState</a> <a id="15348" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15192" class="Bound">amountSent</a> <a id="15359" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15203" class="Bound">listEvent</a> 

<a id="15371" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9703" class="Function">stepEF</a> <a id="15378" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15378" class="Bound">oldLedger</a> <a id="15388" class="Symbol">(</a><a id="15389" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="15397" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15397" class="Bound">currentLedger</a> <a id="15411" class="Symbol">(</a><a id="15412" href="libraries.Mainlibrary-new-version.html#1166" class="InductiveConstructor">execStackEl</a> <a id="15424" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15424" class="Bound">prevLastCallAddress</a> <a id="15444" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15444" class="Bound">prevCalledAddress</a> <a id="15462" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15462" class="Bound">prevContinuation</a>
                 <a id="15496" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15496" class="Bound">prevCostCont</a> <a id="15509" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15509" class="Bound">prevFunName</a> <a id="15521" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15521" class="Bound">prevMsgExec</a> <a id="15533" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15533" class="Bound">prevamountSent</a> <a id="15548" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="15550" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15550" class="Bound">executionStack</a><a id="15564" class="Symbol">)</a>
                  <a id="15584" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15584" class="Bound">initialAddr</a> <a id="15596" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15596" class="Bound">lastCallAddr</a> <a id="15609" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15609" class="Bound">calledAddr</a> <a id="15620" class="Symbol">(</a><a id="15621" href="Complex-Model.ccomand.ccommands-cresponse.html#1802" class="InductiveConstructor">return</a> <a id="15628" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15628" class="Bound">result</a><a id="15634" class="Symbol">)</a> <a id="15636" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15636" class="Bound">gasLeft</a> <a id="15644" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15644" class="Bound">funNameevalState</a> <a id="15661" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15661" class="Bound">msgevalState</a> <a id="15674" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15674" class="Bound">amountSent</a> <a id="15685" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15685" class="Bound">listEvent</a><a id="15694" class="Symbol">)</a>
            <a id="15708" class="Symbol">=</a> <a id="15710" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="15718" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15397" class="Bound">currentLedger</a> <a id="15732" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15550" class="Bound">executionStack</a> <a id="15747" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15584" class="Bound">initialAddr</a> <a id="15759" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15424" class="Bound">prevLastCallAddress</a> <a id="15779" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15444" class="Bound">prevCalledAddress</a>
                        <a id="15821" class="Symbol">(</a><a id="15822" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15462" class="Bound">prevContinuation</a> <a id="15839" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15628" class="Bound">result</a><a id="15845" class="Symbol">)</a> <a id="15847" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15636" class="Bound">gasLeft</a> <a id="15855" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15509" class="Bound">prevFunName</a> <a id="15867" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15521" class="Bound">prevMsgExec</a> <a id="15879" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15533" class="Bound">prevamountSent</a> <a id="15894" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15685" class="Bound">listEvent</a>

<a id="15905" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9703" class="Function">stepEF</a> <a id="15912" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15912" class="Bound">oldLedger</a> <a id="15922" class="Symbol">(</a><a id="15923" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="15931" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15931" class="Bound">currentLedger</a> <a id="15945" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15945" class="Bound">executionStack</a> <a id="15960" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15960" class="Bound">initialAddr</a> <a id="15972" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15972" class="Bound">lastCallAddr</a> <a id="15985" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15985" class="Bound">calledAddr</a>
                 <a id="16013" class="Symbol">(</a><a id="16014" href="Complex-Model.ccomand.ccommands-cresponse.html#1889" class="InductiveConstructor">exec</a> <a id="16019" class="Symbol">(</a><a id="16020" href="Complex-Model.ccomand.ccommands-cresponse.html#582" class="InductiveConstructor">eventc</a> <a id="16027" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16027" class="Bound">str</a><a id="16030" class="Symbol">)</a> <a id="16032" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16032" class="Bound">costcomputecont</a> <a id="16048" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16048" class="Bound">cont</a><a id="16052" class="Symbol">)</a> <a id="16054" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16054" class="Bound">gasLeft</a>
                  <a id="16080" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16080" class="Bound">funNameevalState</a> <a id="16097" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16097" class="Bound">msgevalState</a> <a id="16110" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16110" class="Bound">amountSent</a> <a id="16121" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16121" class="Bound">listEvent</a><a id="16130" class="Symbol">)</a>
       <a id="16139" class="Symbol">=</a> <a id="16141" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="16149" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15931" class="Bound">currentLedger</a> <a id="16163" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15945" class="Bound">executionStack</a> <a id="16178" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15960" class="Bound">initialAddr</a> <a id="16190" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15972" class="Bound">lastCallAddr</a> <a id="16203" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#15985" class="Bound">calledAddr</a> <a id="16214" class="Symbol">(</a><a id="16215" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16048" class="Bound">cont</a> <a id="16220" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="16222" class="Symbol">)</a>
          <a id="16234" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16054" class="Bound">gasLeft</a>  <a id="16243" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16080" class="Bound">funNameevalState</a> <a id="16260" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16097" class="Bound">msgevalState</a> <a id="16273" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16110" class="Bound">amountSent</a> <a id="16284" class="Symbol">(</a><a id="16285" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16027" class="Bound">str</a> <a id="16289" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="16291" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16121" class="Bound">listEvent</a><a id="16300" class="Symbol">)</a>



<a id="lemmaStepEFpreserveGas"></a><a id="16305" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16305" class="Function">lemmaStepEFpreserveGas</a> <a id="16328" class="Symbol">:</a> <a id="16330" class="Symbol">(</a><a id="16331" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16331" class="Bound">oldLedger</a> <a id="16341" class="Symbol">:</a> <a id="16343" href="libraries.Mainlibrary-new-version.html#1040" class="Function">Ledger</a><a id="16349" class="Symbol">)</a> <a id="16351" class="Symbol">→</a> <a id="16353" class="Symbol">(</a><a id="16354" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16354" class="Bound">state</a> <a id="16360" class="Symbol">:</a> <a id="16362" href="libraries.Mainlibrary-new-version.html#1548" class="Record">StateExecFun</a><a id="16374" class="Symbol">)</a> <a id="16376" class="Symbol">→</a>
                         <a id="16403" href="libraries.Mainlibrary-new-version.html#1797" class="Field">gasLeft</a> <a id="16411" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16354" class="Bound">state</a> <a id="16417" href="libraries.natCompare.html#517" class="Function Operator">==r</a> <a id="16421" href="libraries.Mainlibrary-new-version.html#1797" class="Field">gasLeft</a> <a id="16429" class="Symbol">(</a><a id="16430" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9703" class="Function">stepEF</a> <a id="16437" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16331" class="Bound">oldLedger</a> <a id="16447" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16354" class="Bound">state</a><a id="16452" class="Symbol">)</a>

<a id="16455" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16305" class="Function">lemmaStepEFpreserveGas</a> <a id="16478" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16478" class="Bound">oldLedger</a> <a id="16488" class="Symbol">(</a><a id="16489" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="16497" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16497" class="Bound">ledger</a> <a id="16504" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="16507" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16507" class="Bound">initialAddr</a> <a id="16519" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16519" class="Bound">lastCallAddr</a> <a id="16532" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16532" class="Bound">calledAddr</a>
  <a id="16545" class="Symbol">(</a><a id="16546" href="Complex-Model.ccomand.ccommands-cresponse.html#1802" class="InductiveConstructor">return</a> <a id="16553" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16553" class="Bound">x</a><a id="16554" class="Symbol">)</a> <a id="16556" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16556" class="Bound">gasLeft1</a> <a id="16565" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16565" class="Bound">funNameevalState</a> <a id="16582" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16582" class="Bound">msgevalState</a> <a id="16595" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16595" class="Bound">amountSent</a> <a id="16606" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16606" class="Bound">listEvent</a><a id="16615" class="Symbol">)</a> <a id="16617" class="Symbol">=</a> <a id="16619" href="libraries.natCompare.html#1668" class="Function">refl==r</a> <a id="16627" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16556" class="Bound">gasLeft1</a>

<a id="16637" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16305" class="Function">lemmaStepEFpreserveGas</a> <a id="16660" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16660" class="Bound">oldLedger</a> <a id="16670" class="Symbol">(</a><a id="16671" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="16679" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16679" class="Bound">ledger</a> <a id="16686" class="Symbol">(</a><a id="16687" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16687" class="Bound">x₂</a> <a id="16690" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="16692" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16692" class="Bound">executionStack₁</a><a id="16707" class="Symbol">)</a> <a id="16709" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16709" class="Bound">initialAddr</a> <a id="16721" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16721" class="Bound">lastCallAddr</a> <a id="16734" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16734" class="Bound">calledAddr</a>
  <a id="16747" class="Symbol">(</a><a id="16748" href="Complex-Model.ccomand.ccommands-cresponse.html#1802" class="InductiveConstructor">return</a> <a id="16755" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16755" class="Bound">x</a><a id="16756" class="Symbol">)</a> <a id="16758" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16758" class="Bound">gasLeft1</a> <a id="16767" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16767" class="Bound">funNameevalState</a> <a id="16784" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16784" class="Bound">msgevalState</a> <a id="16797" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16797" class="Bound">amountSent</a> <a id="16808" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16808" class="Bound">listEvent</a><a id="16817" class="Symbol">)</a> <a id="16819" class="Symbol">=</a> <a id="16821" href="libraries.natCompare.html#1668" class="Function">refl==r</a> <a id="16829" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16758" class="Bound">gasLeft1</a>

<a id="16839" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16305" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="16861" class="CatchallClause"> </a><a id="16862" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16862" class="CatchallClause Bound">oldLedger</a><a id="16871" class="CatchallClause"> </a><a id="16872" class="CatchallClause Symbol">(</a><a id="16873" href="libraries.Mainlibrary-new-version.html#1587" class="CatchallClause InductiveConstructor">stateEF</a><a id="16880" class="CatchallClause"> </a><a id="16881" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16881" class="CatchallClause Bound">ledger</a><a id="16887" class="CatchallClause"> </a><a id="16888" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16888" class="CatchallClause Bound">executionStack</a><a id="16902" class="CatchallClause"> </a><a id="16903" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16903" class="CatchallClause Bound">initialAddr</a><a id="16914" class="CatchallClause"> </a><a id="16915" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16915" class="CatchallClause Bound">lastCallAddr</a><a id="16927" class="CatchallClause"> </a><a id="16928" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16928" class="CatchallClause Bound">calledAddr</a>
  <a id="16941" class="CatchallClause Symbol">(</a><a id="16942" href="Complex-Model.ccomand.ccommands-cresponse.html#1836" class="CatchallClause InductiveConstructor">error</a><a id="16947" class="CatchallClause"> </a><a id="16948" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16948" class="CatchallClause Bound">x</a><a id="16949" class="CatchallClause"> </a><a id="16950" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16950" class="CatchallClause Bound">x₁</a><a id="16952" class="CatchallClause Symbol">)</a><a id="16953" class="CatchallClause"> </a><a id="16954" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16954" class="CatchallClause Bound">gasLeft1</a><a id="16962" class="CatchallClause"> </a><a id="16963" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16963" class="CatchallClause Bound">funNameevalState</a><a id="16979" class="CatchallClause"> </a><a id="16980" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16980" class="CatchallClause Bound">msgevalState</a><a id="16992" class="CatchallClause"> </a><a id="16993" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16993" class="CatchallClause Bound">amountSent</a><a id="17003" class="CatchallClause"> </a><a id="17004" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17004" class="CatchallClause Bound">listEvent</a><a id="17013" class="CatchallClause Symbol">)</a> <a id="17015" class="Symbol">=</a> <a id="17017" href="libraries.natCompare.html#1668" class="Function">refl==r</a> <a id="17025" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16954" class="Bound">gasLeft1</a>

<a id="17035" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16305" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="17057" class="CatchallClause"> </a><a id="17058" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17058" class="CatchallClause Bound">oldLedger</a><a id="17067" class="CatchallClause"> </a><a id="17068" class="CatchallClause Symbol">(</a><a id="17069" href="libraries.Mainlibrary-new-version.html#1587" class="CatchallClause InductiveConstructor">stateEF</a><a id="17076" class="CatchallClause"> </a><a id="17077" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17077" class="CatchallClause Bound">ledger</a><a id="17083" class="CatchallClause"> </a><a id="17084" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17084" class="CatchallClause Bound">executionStack</a><a id="17098" class="CatchallClause"> </a><a id="17099" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17099" class="CatchallClause Bound">initialAddr</a><a id="17110" class="CatchallClause"> </a><a id="17111" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17111" class="CatchallClause Bound">lastCallAddr</a><a id="17123" class="CatchallClause"> </a><a id="17124" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17124" class="CatchallClause Bound">calledAddr</a>
  <a id="17137" class="CatchallClause Symbol">(</a><a id="17138" href="Complex-Model.ccomand.ccommands-cresponse.html#1889" class="CatchallClause InductiveConstructor">exec</a><a id="17142" class="CatchallClause"> </a><a id="17143" class="CatchallClause Symbol">(</a><a id="17144" href="Complex-Model.ccomand.ccommands-cresponse.html#614" class="CatchallClause InductiveConstructor">callView</a><a id="17152" class="CatchallClause"> </a><a id="17153" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17153" class="CatchallClause Bound">x₂</a><a id="17155" class="CatchallClause"> </a><a id="17156" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17156" class="CatchallClause Bound">x₃</a><a id="17158" class="CatchallClause"> </a><a id="17159" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17159" class="CatchallClause Bound">x₄</a><a id="17161" class="CatchallClause Symbol">)</a><a id="17162" class="CatchallClause"> </a><a id="17163" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17163" class="CatchallClause Bound">x</a><a id="17164" class="CatchallClause"> </a><a id="17165" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17165" class="CatchallClause Bound">x₁</a><a id="17167" class="CatchallClause Symbol">)</a><a id="17168" class="CatchallClause"> </a><a id="17169" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17169" class="CatchallClause Bound">gasLeft1</a><a id="17177" class="CatchallClause"> </a><a id="17178" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17178" class="CatchallClause Bound">funNameevalState</a><a id="17194" class="CatchallClause"> </a><a id="17195" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17195" class="CatchallClause Bound">msgevalState</a><a id="17207" class="CatchallClause"> </a><a id="17208" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17208" class="CatchallClause Bound">amountSent</a><a id="17218" class="CatchallClause"> </a><a id="17219" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17219" class="CatchallClause Bound">listEvent</a><a id="17228" class="CatchallClause Symbol">)</a> <a id="17230" class="Symbol">=</a> <a id="17232" href="libraries.natCompare.html#1668" class="Function">refl==r</a> <a id="17240" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17169" class="Bound">gasLeft1</a>

<a id="17250" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16305" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="17272" class="CatchallClause"> </a><a id="17273" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17273" class="CatchallClause Bound">oldLedger</a><a id="17282" class="CatchallClause"> </a><a id="17283" class="CatchallClause Symbol">(</a><a id="17284" href="libraries.Mainlibrary-new-version.html#1587" class="CatchallClause InductiveConstructor">stateEF</a><a id="17291" class="CatchallClause"> </a><a id="17292" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17292" class="CatchallClause Bound">ledger</a><a id="17298" class="CatchallClause"> </a><a id="17299" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17299" class="CatchallClause Bound">executionStack</a><a id="17313" class="CatchallClause"> </a><a id="17314" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17314" class="CatchallClause Bound">initialAddr</a><a id="17325" class="CatchallClause"> </a><a id="17326" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17326" class="CatchallClause Bound">lastCallAddr</a><a id="17338" class="CatchallClause"> </a><a id="17339" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17339" class="CatchallClause Bound">calledAddr</a>
  <a id="17352" class="CatchallClause Symbol">(</a><a id="17353" href="Complex-Model.ccomand.ccommands-cresponse.html#1889" class="CatchallClause InductiveConstructor">exec</a><a id="17357" class="CatchallClause"> </a><a id="17358" class="CatchallClause Symbol">(</a><a id="17359" href="Complex-Model.ccomand.ccommands-cresponse.html#672" class="CatchallClause InductiveConstructor">updatec</a><a id="17366" class="CatchallClause"> </a><a id="17367" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17367" class="CatchallClause Bound">x₂</a><a id="17369" class="CatchallClause"> </a><a id="17370" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17370" class="CatchallClause Bound">x₃</a><a id="17372" class="CatchallClause"> </a><a id="17373" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17373" class="CatchallClause Bound">x₄</a><a id="17375" class="CatchallClause Symbol">)</a><a id="17376" class="CatchallClause"> </a><a id="17377" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17377" class="CatchallClause Bound">x</a><a id="17378" class="CatchallClause"> </a><a id="17379" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17379" class="CatchallClause Bound">x₁</a><a id="17381" class="CatchallClause Symbol">)</a><a id="17382" class="CatchallClause"> </a><a id="17383" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17383" class="CatchallClause Bound">gasLeft1</a><a id="17391" class="CatchallClause"> </a><a id="17392" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17392" class="CatchallClause Bound">funNameevalState</a><a id="17408" class="CatchallClause"> </a><a id="17409" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17409" class="CatchallClause Bound">msgevalState</a><a id="17421" class="CatchallClause"> </a><a id="17422" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17422" class="CatchallClause Bound">amountSent</a><a id="17432" class="CatchallClause"> </a><a id="17433" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17433" class="CatchallClause Bound">listEvent</a><a id="17442" class="CatchallClause Symbol">)</a> <a id="17444" class="Symbol">=</a> <a id="17446" href="libraries.natCompare.html#1668" class="Function">refl==r</a> <a id="17454" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17383" class="Bound">gasLeft1</a>


<a id="17465" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16305" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="17487" class="CatchallClause"> </a><a id="17488" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17488" class="CatchallClause Bound">oldLedger</a><a id="17497" class="CatchallClause"> </a><a id="17498" class="CatchallClause Symbol">(</a><a id="17499" href="libraries.Mainlibrary-new-version.html#1587" class="CatchallClause InductiveConstructor">stateEF</a><a id="17506" class="CatchallClause"> </a><a id="17507" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17507" class="CatchallClause Bound">ledger</a><a id="17513" class="CatchallClause"> </a><a id="17514" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17514" class="CatchallClause Bound">executionStack</a><a id="17528" class="CatchallClause"> </a><a id="17529" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17529" class="CatchallClause Bound">initialAddr</a><a id="17540" class="CatchallClause"> </a><a id="17541" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17541" class="CatchallClause Bound">lastCallAddr</a><a id="17553" class="CatchallClause"> </a><a id="17554" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17554" class="CatchallClause Bound">calledAddr</a>
  <a id="17567" class="CatchallClause Symbol">(</a><a id="17568" href="Complex-Model.ccomand.ccommands-cresponse.html#1889" class="CatchallClause InductiveConstructor">exec</a><a id="17572" class="CatchallClause"> </a><a id="17573" class="CatchallClause Symbol">(</a><a id="17574" href="Complex-Model.ccomand.ccommands-cresponse.html#818" class="CatchallClause InductiveConstructor">transferc</a><a id="17583" class="CatchallClause"> </a><a id="17584" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17584" class="CatchallClause Bound">amount</a><a id="17590" class="CatchallClause"> </a><a id="17591" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17591" class="CatchallClause Bound">destinationAddr</a><a id="17606" class="CatchallClause Symbol">)</a><a id="17607" class="CatchallClause"> </a><a id="17608" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17608" class="CatchallClause Bound">costcomputecont</a><a id="17623" class="CatchallClause"> </a><a id="17624" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17624" class="CatchallClause Bound">cont</a><a id="17628" class="CatchallClause Symbol">)</a><a id="17629" class="CatchallClause"> </a><a id="17630" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17630" class="CatchallClause Bound">gasLeft1</a><a id="17638" class="CatchallClause"> </a><a id="17639" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17639" class="CatchallClause Bound">funNameevalState</a><a id="17655" class="CatchallClause"> </a><a id="17656" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17656" class="CatchallClause Bound">msgevalState</a><a id="17668" class="CatchallClause"> </a><a id="17669" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17669" class="CatchallClause Bound">prevAmountReceived</a><a id="17687" class="CatchallClause"> </a><a id="17688" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17688" class="CatchallClause Bound">listEvent</a><a id="17697" class="CatchallClause Symbol">)</a>
   <a id="17702" class="Symbol">=</a> <a id="17704" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6569" class="Function">lemmaExecuteTransferAuxGasEq</a> <a id="17733" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17488" class="Bound">oldLedger</a> <a id="17743" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17507" class="Bound">ledger</a> <a id="17750" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17514" class="Bound">executionStack</a>
     <a id="17770" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17529" class="Bound">initialAddr</a> <a id="17782" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17541" class="Bound">lastCallAddr</a> <a id="17795" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17554" class="Bound">calledAddr</a> <a id="17806" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17624" class="Bound">cont</a> <a id="17811" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17630" class="Bound">gasLeft1</a> <a id="17820" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17608" class="Bound">costcomputecont</a> <a id="17836" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17639" class="Bound">funNameevalState</a> <a id="17853" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17656" class="Bound">msgevalState</a> <a id="17866" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17584" class="Bound">amount</a> <a id="17873" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17591" class="Bound">destinationAddr</a> <a id="17889" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17669" class="Bound">prevAmountReceived</a>
     <a id="17913" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17688" class="Bound">listEvent</a> <a id="17923" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="17928" class="Symbol">((</a><a id="17930" href="libraries.natCompare.html#901" class="Function">compareLeq</a> <a id="17941" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17584" class="Bound">amount</a> <a id="17948" class="Symbol">(</a><a id="17949" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17507" class="Bound">ledger</a> <a id="17956" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#17554" class="Bound">calledAddr</a> <a id="17967" class="Symbol">.</a><a id="17968" href="libraries.Mainlibrary-new-version.html#827" class="Field">Contract.amount</a><a id="17983" class="Symbol">)))</a>

<a id="17988" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16305" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="18010" class="CatchallClause"> </a><a id="18011" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18011" class="CatchallClause Bound">oldLedger</a><a id="18020" class="CatchallClause"> </a><a id="18021" class="CatchallClause Symbol">(</a><a id="18022" href="libraries.Mainlibrary-new-version.html#1587" class="CatchallClause InductiveConstructor">stateEF</a><a id="18029" class="CatchallClause"> </a><a id="18030" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18030" class="CatchallClause Bound">ledger</a><a id="18036" class="CatchallClause"> </a><a id="18037" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18037" class="CatchallClause Bound">executionStack</a><a id="18051" class="CatchallClause"> </a><a id="18052" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18052" class="CatchallClause Bound">initialAddr</a><a id="18063" class="CatchallClause"> </a><a id="18064" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18064" class="CatchallClause Bound">lastCallAddr</a><a id="18076" class="CatchallClause"> </a><a id="18077" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18077" class="CatchallClause Bound">calledAddr</a>
  <a id="18090" class="CatchallClause Symbol">(</a><a id="18091" href="Complex-Model.ccomand.ccommands-cresponse.html#1889" class="CatchallClause InductiveConstructor">exec</a><a id="18095" class="CatchallClause"> </a><a id="18096" class="CatchallClause Symbol">(</a><a id="18097" href="Complex-Model.ccomand.ccommands-cresponse.html#864" class="CatchallClause InductiveConstructor">transfercWithoutFallBack</a><a id="18121" class="CatchallClause"> </a><a id="18122" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18122" class="CatchallClause Bound">amount</a><a id="18128" class="CatchallClause"> </a><a id="18129" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18129" class="CatchallClause Bound">destinationAddr</a><a id="18144" class="CatchallClause Symbol">)</a><a id="18145" class="CatchallClause"> </a><a id="18146" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18146" class="CatchallClause Bound">costcomputecont</a><a id="18161" class="CatchallClause"> </a><a id="18162" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18162" class="CatchallClause Bound">cont</a><a id="18166" class="CatchallClause Symbol">)</a><a id="18167" class="CatchallClause"> </a><a id="18168" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18168" class="CatchallClause Bound">gasLeft1</a><a id="18176" class="CatchallClause"> </a><a id="18177" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18177" class="CatchallClause Bound">funNameevalState</a><a id="18193" class="CatchallClause"> </a><a id="18194" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18194" class="CatchallClause Bound">msgevalState</a><a id="18206" class="CatchallClause"> </a><a id="18207" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18207" class="CatchallClause Bound">prevAmountReceived</a><a id="18225" class="CatchallClause"> </a><a id="18226" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18226" class="CatchallClause Bound">listEvent</a><a id="18235" class="CatchallClause Symbol">)</a>
   <a id="18240" class="Symbol">=</a> <a id="18242" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#6569" class="Function">lemmaExecuteTransferAuxGasEq</a> <a id="18271" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18011" class="Bound">oldLedger</a> <a id="18281" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18030" class="Bound">ledger</a> <a id="18288" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18037" class="Bound">executionStack</a>
     <a id="18308" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18052" class="Bound">initialAddr</a> <a id="18320" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18064" class="Bound">lastCallAddr</a> <a id="18333" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18077" class="Bound">calledAddr</a> <a id="18344" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18162" class="Bound">cont</a> <a id="18349" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18168" class="Bound">gasLeft1</a> <a id="18358" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18146" class="Bound">costcomputecont</a> <a id="18374" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18177" class="Bound">funNameevalState</a> <a id="18391" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18194" class="Bound">msgevalState</a> <a id="18404" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18122" class="Bound">amount</a> <a id="18411" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18129" class="Bound">destinationAddr</a> <a id="18427" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18207" class="Bound">prevAmountReceived</a>
     <a id="18451" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18226" class="Bound">listEvent</a> <a id="18461" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="18467" class="Symbol">((</a><a id="18469" href="libraries.natCompare.html#901" class="Function">compareLeq</a> <a id="18480" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18122" class="Bound">amount</a> <a id="18487" class="Symbol">(</a><a id="18488" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18030" class="Bound">ledger</a> <a id="18495" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18077" class="Bound">calledAddr</a> <a id="18506" class="Symbol">.</a><a id="18507" href="libraries.Mainlibrary-new-version.html#827" class="Field">Contract.amount</a><a id="18522" class="Symbol">)))</a> 


<a id="18529" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16305" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="18551" class="CatchallClause"> </a><a id="18552" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18552" class="CatchallClause Bound">oldLedger</a><a id="18561" class="CatchallClause"> </a><a id="18562" class="CatchallClause Symbol">(</a><a id="18563" href="libraries.Mainlibrary-new-version.html#1587" class="CatchallClause InductiveConstructor">stateEF</a><a id="18570" class="CatchallClause"> </a><a id="18571" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18571" class="CatchallClause Bound">ledger</a><a id="18577" class="CatchallClause"> </a><a id="18578" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18578" class="CatchallClause Bound">executionStack</a><a id="18592" class="CatchallClause"> </a><a id="18593" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18593" class="CatchallClause Bound">initialAddr</a><a id="18604" class="CatchallClause"> </a><a id="18605" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18605" class="CatchallClause Bound">lastCallAddr</a><a id="18617" class="CatchallClause"> </a><a id="18618" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18618" class="CatchallClause Bound">calledAddr</a>
  <a id="18631" class="CatchallClause Symbol">(</a><a id="18632" href="Complex-Model.ccomand.ccommands-cresponse.html#1889" class="CatchallClause InductiveConstructor">exec</a><a id="18636" class="CatchallClause"> </a><a id="18637" class="CatchallClause Symbol">(</a><a id="18638" href="Complex-Model.ccomand.ccommands-cresponse.html#486" class="CatchallClause InductiveConstructor">callc</a><a id="18643" class="CatchallClause"> </a><a id="18644" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18644" class="CatchallClause Bound">newaddr</a><a id="18651" class="CatchallClause"> </a><a id="18652" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18652" class="CatchallClause Bound">fname</a><a id="18657" class="CatchallClause"> </a><a id="18658" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18658" class="CatchallClause Bound">msg</a><a id="18661" class="CatchallClause"> </a><a id="18662" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18662" class="CatchallClause Bound">amountSent</a><a id="18672" class="CatchallClause Symbol">)</a><a id="18673" class="CatchallClause"> </a><a id="18674" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18674" class="CatchallClause Bound">cost</a><a id="18678" class="CatchallClause"> </a><a id="18679" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18679" class="CatchallClause Bound">cont</a><a id="18683" class="CatchallClause Symbol">)</a><a id="18684" class="CatchallClause"> </a><a id="18685" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18685" class="CatchallClause Bound">gasLeft1</a><a id="18693" class="CatchallClause"> </a><a id="18694" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18694" class="CatchallClause Bound">funNameevalState</a><a id="18710" class="CatchallClause"> </a><a id="18711" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18711" class="CatchallClause Bound">msgevalState</a><a id="18723" class="CatchallClause"> </a><a id="18724" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18724" class="CatchallClause Bound">prevAmountReceived</a><a id="18742" class="CatchallClause"> </a><a id="18743" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18743" class="CatchallClause Bound">listEvent</a><a id="18752" class="CatchallClause Symbol">)</a>
 <a id="18755" class="Symbol">=</a> <a id="18757" href="libraries.natCompare.html#1668" class="Function">refl==r</a> <a id="18765" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18685" class="Bound">gasLeft1</a>


<a id="18776" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16305" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="18798" class="CatchallClause"> </a><a id="18799" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18799" class="CatchallClause Bound">oldLedger</a><a id="18808" class="CatchallClause"> </a><a id="18809" class="CatchallClause Symbol">(</a><a id="18810" href="libraries.Mainlibrary-new-version.html#1587" class="CatchallClause InductiveConstructor">stateEF</a><a id="18817" class="CatchallClause"> </a><a id="18818" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18818" class="CatchallClause Bound">ledger</a><a id="18824" class="CatchallClause"> </a><a id="18825" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18825" class="CatchallClause Bound">executionStack</a><a id="18839" class="CatchallClause"> </a><a id="18840" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18840" class="CatchallClause Bound">initialAddr</a><a id="18851" class="CatchallClause"> </a><a id="18852" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18852" class="CatchallClause Bound">lastCallAddr</a><a id="18864" class="CatchallClause"> </a><a id="18865" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18865" class="CatchallClause Bound">calledAddr</a>
  <a id="18878" class="CatchallClause Symbol">(</a><a id="18879" href="Complex-Model.ccomand.ccommands-cresponse.html#1889" class="CatchallClause InductiveConstructor">exec</a><a id="18883" class="CatchallClause"> </a><a id="18884" class="CatchallClause Symbol">(</a><a id="18885" href="Complex-Model.ccomand.ccommands-cresponse.html#929" class="CatchallClause InductiveConstructor">callcAssumingTransferc</a><a id="18907" class="CatchallClause"> </a><a id="18908" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18908" class="CatchallClause Bound">newaddr</a><a id="18915" class="CatchallClause"> </a><a id="18916" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18916" class="CatchallClause Bound">fname</a><a id="18921" class="CatchallClause"> </a><a id="18922" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18922" class="CatchallClause Bound">msg</a><a id="18925" class="CatchallClause"> </a><a id="18926" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18926" class="CatchallClause Bound">amountSent</a><a id="18936" class="CatchallClause Symbol">)</a><a id="18937" class="CatchallClause"> </a><a id="18938" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18938" class="CatchallClause Bound">cost</a><a id="18942" class="CatchallClause"> </a><a id="18943" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18943" class="CatchallClause Bound">cont</a><a id="18947" class="CatchallClause Symbol">)</a><a id="18948" class="CatchallClause"> </a><a id="18949" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18949" class="CatchallClause Bound">gasLeft1</a><a id="18957" class="CatchallClause"> </a><a id="18958" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18958" class="CatchallClause Bound">funNameevalState</a><a id="18974" class="CatchallClause"> </a><a id="18975" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18975" class="CatchallClause Bound">msgevalState</a><a id="18987" class="CatchallClause"> </a><a id="18988" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18988" class="CatchallClause Bound">prevAmountReceived</a><a id="19006" class="CatchallClause"> </a><a id="19007" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19007" class="CatchallClause Bound">listEvent</a><a id="19016" class="CatchallClause Symbol">)</a>
 <a id="19019" class="Symbol">=</a> <a id="19021" href="libraries.natCompare.html#1668" class="Function">refl==r</a> <a id="19029" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#18949" class="Bound">gasLeft1</a>

<a id="19039" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16305" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="19061" class="CatchallClause"> </a><a id="19062" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19062" class="CatchallClause Bound">oldLedger</a><a id="19071" class="CatchallClause"> </a><a id="19072" class="CatchallClause Symbol">(</a><a id="19073" href="libraries.Mainlibrary-new-version.html#1587" class="CatchallClause InductiveConstructor">stateEF</a><a id="19080" class="CatchallClause"> </a><a id="19081" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19081" class="CatchallClause Bound">ledger</a><a id="19087" class="CatchallClause"> </a><a id="19088" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19088" class="CatchallClause Bound">executionStack</a><a id="19102" class="CatchallClause"> </a><a id="19103" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19103" class="CatchallClause Bound">initialAddr</a><a id="19114" class="CatchallClause"> </a><a id="19115" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19115" class="CatchallClause Bound">lastCallAddr</a><a id="19127" class="CatchallClause"> </a><a id="19128" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19128" class="CatchallClause Bound">calledAddr</a>
  <a id="19141" class="CatchallClause Symbol">(</a><a id="19142" href="Complex-Model.ccomand.ccommands-cresponse.html#1889" class="CatchallClause InductiveConstructor">exec</a><a id="19146" class="CatchallClause"> </a><a id="19147" href="Complex-Model.ccomand.ccommands-cresponse.html#1009" class="CatchallClause InductiveConstructor">currentAddrLookupc</a><a id="19165" class="CatchallClause"> </a><a id="19166" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19166" class="CatchallClause Bound">x</a><a id="19167" class="CatchallClause"> </a><a id="19168" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19168" class="CatchallClause Bound">x₁</a><a id="19170" class="CatchallClause Symbol">)</a><a id="19171" class="CatchallClause"> </a><a id="19172" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19172" class="CatchallClause Bound">gasLeft1</a><a id="19180" class="CatchallClause"> </a><a id="19181" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19181" class="CatchallClause Bound">funNameevalState</a><a id="19197" class="CatchallClause"> </a><a id="19198" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19198" class="CatchallClause Bound">msgevalState</a><a id="19210" class="CatchallClause"> </a><a id="19211" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19211" class="CatchallClause Bound">amountSent</a><a id="19221" class="CatchallClause"> </a><a id="19222" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19222" class="CatchallClause Bound">listEvent</a><a id="19231" class="CatchallClause Symbol">)</a>
 <a id="19234" class="Symbol">=</a> <a id="19236" href="libraries.natCompare.html#1668" class="Function">refl==r</a> <a id="19244" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19172" class="Bound">gasLeft1</a>

<a id="19254" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16305" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="19276" class="CatchallClause"> </a><a id="19277" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19277" class="CatchallClause Bound">oldLedger</a><a id="19286" class="CatchallClause"> </a><a id="19287" class="CatchallClause Symbol">(</a><a id="19288" href="libraries.Mainlibrary-new-version.html#1587" class="CatchallClause InductiveConstructor">stateEF</a><a id="19295" class="CatchallClause"> </a><a id="19296" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19296" class="CatchallClause Bound">ledger</a><a id="19302" class="CatchallClause"> </a><a id="19303" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19303" class="CatchallClause Bound">executionStack</a><a id="19317" class="CatchallClause"> </a><a id="19318" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19318" class="CatchallClause Bound">initialAddr</a><a id="19329" class="CatchallClause"> </a><a id="19330" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19330" class="CatchallClause Bound">lastCallAddr</a><a id="19342" class="CatchallClause"> </a><a id="19343" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19343" class="CatchallClause Bound">calledAddr</a>
  <a id="19356" class="CatchallClause Symbol">(</a><a id="19357" href="Complex-Model.ccomand.ccommands-cresponse.html#1889" class="CatchallClause InductiveConstructor">exec</a><a id="19361" class="CatchallClause"> </a><a id="19362" href="Complex-Model.ccomand.ccommands-cresponse.html#1044" class="CatchallClause InductiveConstructor">callAddrLookupc</a><a id="19377" class="CatchallClause"> </a><a id="19378" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19378" class="CatchallClause Bound">x</a><a id="19379" class="CatchallClause"> </a><a id="19380" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19380" class="CatchallClause Bound">x₁</a><a id="19382" class="CatchallClause Symbol">)</a><a id="19383" class="CatchallClause"> </a><a id="19384" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19384" class="CatchallClause Bound">gasLeft1</a><a id="19392" class="CatchallClause"> </a><a id="19393" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19393" class="CatchallClause Bound">funNameevalState</a><a id="19409" class="CatchallClause"> </a><a id="19410" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19410" class="CatchallClause Bound">msgevalState</a><a id="19422" class="CatchallClause"> </a><a id="19423" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19423" class="CatchallClause Bound">amountSent</a><a id="19433" class="CatchallClause"> </a><a id="19434" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19434" class="CatchallClause Bound">listEvent</a><a id="19443" class="CatchallClause Symbol">)</a>
 <a id="19446" class="Symbol">=</a> <a id="19448" href="libraries.natCompare.html#1668" class="Function">refl==r</a> <a id="19456" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19384" class="Bound">gasLeft1</a>

<a id="19466" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16305" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="19488" class="CatchallClause"> </a><a id="19489" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19489" class="CatchallClause Bound">oldLedger</a><a id="19498" class="CatchallClause"> </a><a id="19499" class="CatchallClause Symbol">(</a><a id="19500" href="libraries.Mainlibrary-new-version.html#1587" class="CatchallClause InductiveConstructor">stateEF</a><a id="19507" class="CatchallClause"> </a><a id="19508" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19508" class="CatchallClause Bound">ledger</a><a id="19514" class="CatchallClause"> </a><a id="19515" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19515" class="CatchallClause Bound">executionStack</a><a id="19529" class="CatchallClause"> </a><a id="19530" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19530" class="CatchallClause Bound">initialAddr</a><a id="19541" class="CatchallClause"> </a><a id="19542" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19542" class="CatchallClause Bound">lastCallAddr</a><a id="19554" class="CatchallClause"> </a><a id="19555" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19555" class="CatchallClause Bound">calledAddr</a>
  <a id="19568" class="CatchallClause Symbol">(</a><a id="19569" href="Complex-Model.ccomand.ccommands-cresponse.html#1889" class="CatchallClause InductiveConstructor">exec</a><a id="19573" class="CatchallClause"> </a><a id="19574" class="CatchallClause Symbol">(</a><a id="19575" href="Complex-Model.ccomand.ccommands-cresponse.html#1076" class="CatchallClause InductiveConstructor">getAmountc</a><a id="19585" class="CatchallClause"> </a><a id="19586" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19586" class="CatchallClause Bound">x₂</a><a id="19588" class="CatchallClause Symbol">)</a><a id="19589" class="CatchallClause"> </a><a id="19590" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19590" class="CatchallClause Bound">x</a><a id="19591" class="CatchallClause"> </a><a id="19592" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19592" class="CatchallClause Bound">x₁</a><a id="19594" class="CatchallClause Symbol">)</a><a id="19595" class="CatchallClause"> </a><a id="19596" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19596" class="CatchallClause Bound">gasLeft1</a><a id="19604" class="CatchallClause"> </a><a id="19605" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19605" class="CatchallClause Bound">funNameevalState</a><a id="19621" class="CatchallClause"> </a><a id="19622" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19622" class="CatchallClause Bound">msgevalState</a><a id="19634" class="CatchallClause"> </a><a id="19635" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19635" class="CatchallClause Bound">amountSent</a><a id="19645" class="CatchallClause"> </a><a id="19646" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19646" class="CatchallClause Bound">listEvent</a><a id="19655" class="CatchallClause Symbol">)</a>
 <a id="19658" class="Symbol">=</a> <a id="19660" href="libraries.natCompare.html#1668" class="Function">refl==r</a> <a id="19668" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19596" class="Bound">gasLeft1</a>

<a id="19678" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16305" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="19700" class="CatchallClause"> </a><a id="19701" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19701" class="CatchallClause Bound">oldLedger</a><a id="19710" class="CatchallClause"> </a><a id="19711" class="CatchallClause Symbol">(</a><a id="19712" href="libraries.Mainlibrary-new-version.html#1587" class="CatchallClause InductiveConstructor">stateEF</a><a id="19719" class="CatchallClause"> </a><a id="19720" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19720" class="CatchallClause Bound">ledger</a><a id="19726" class="CatchallClause"> </a><a id="19727" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19727" class="CatchallClause Bound">executionStack</a><a id="19741" class="CatchallClause"> </a><a id="19742" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19742" class="CatchallClause Bound">initialAddr</a><a id="19753" class="CatchallClause"> </a><a id="19754" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19754" class="CatchallClause Bound">lastCallAddr</a><a id="19766" class="CatchallClause"> </a><a id="19767" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19767" class="CatchallClause Bound">calledAddr</a>
  <a id="19780" class="CatchallClause Symbol">(</a><a id="19781" href="Complex-Model.ccomand.ccommands-cresponse.html#1889" class="CatchallClause InductiveConstructor">exec</a><a id="19785" class="CatchallClause"> </a><a id="19786" href="Complex-Model.ccomand.ccommands-cresponse.html#548" class="CatchallClause InductiveConstructor">getTransferAmount</a><a id="19803" class="CatchallClause"> </a><a id="19804" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19804" class="CatchallClause Bound">x</a><a id="19805" class="CatchallClause"> </a><a id="19806" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19806" class="CatchallClause Bound">x₁</a><a id="19808" class="CatchallClause Symbol">)</a><a id="19809" class="CatchallClause"> </a><a id="19810" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19810" class="CatchallClause Bound">gasLeft1</a><a id="19818" class="CatchallClause"> </a><a id="19819" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19819" class="CatchallClause Bound">funNameevalState</a><a id="19835" class="CatchallClause"> </a><a id="19836" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19836" class="CatchallClause Bound">msgevalState</a><a id="19848" class="CatchallClause"> </a><a id="19849" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19849" class="CatchallClause Bound">amountSent</a><a id="19859" class="CatchallClause"> </a><a id="19860" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19860" class="CatchallClause Bound">listEvent</a><a id="19869" class="CatchallClause Symbol">)</a>
 <a id="19872" class="Symbol">=</a> <a id="19874" href="libraries.natCompare.html#1668" class="Function">refl==r</a> <a id="19882" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19810" class="Bound">gasLeft1</a>

<a id="19892" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16305" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="19914" class="CatchallClause"> </a><a id="19915" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19915" class="CatchallClause Bound">oldLedger</a><a id="19924" class="CatchallClause"> </a><a id="19925" class="CatchallClause Symbol">(</a><a id="19926" href="libraries.Mainlibrary-new-version.html#1587" class="CatchallClause InductiveConstructor">stateEF</a><a id="19933" class="CatchallClause"> </a><a id="19934" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19934" class="CatchallClause Bound">ledger</a><a id="19940" class="CatchallClause"> </a><a id="19941" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19941" class="CatchallClause Bound">executionStack</a><a id="19955" class="CatchallClause"> </a><a id="19956" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19956" class="CatchallClause Bound">initialAddr</a><a id="19967" class="CatchallClause"> </a><a id="19968" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19968" class="CatchallClause Bound">lastCallAddr</a><a id="19980" class="CatchallClause"> </a><a id="19981" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#19981" class="CatchallClause Bound">calledAddr</a>
  <a id="19994" class="CatchallClause Symbol">(</a><a id="19995" href="Complex-Model.ccomand.ccommands-cresponse.html#1889" class="CatchallClause InductiveConstructor">exec</a><a id="19999" class="CatchallClause"> </a><a id="20000" class="CatchallClause Symbol">(</a><a id="20001" href="Complex-Model.ccomand.ccommands-cresponse.html#582" class="CatchallClause InductiveConstructor">eventc</a><a id="20007" class="CatchallClause"> </a><a id="20008" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20008" class="CatchallClause Bound">x₂</a><a id="20010" class="CatchallClause Symbol">)</a><a id="20011" class="CatchallClause"> </a><a id="20012" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20012" class="CatchallClause Bound">x</a><a id="20013" class="CatchallClause"> </a><a id="20014" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20014" class="CatchallClause Bound">x₁</a><a id="20016" class="CatchallClause Symbol">)</a><a id="20017" class="CatchallClause"> </a><a id="20018" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20018" class="CatchallClause Bound">gasLeft1</a><a id="20026" class="CatchallClause"> </a><a id="20027" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20027" class="CatchallClause Bound">funNameevalState</a><a id="20043" class="CatchallClause"> </a><a id="20044" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20044" class="CatchallClause Bound">msgevalState</a><a id="20056" class="CatchallClause"> </a><a id="20057" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20057" class="CatchallClause Bound">amountSent</a><a id="20067" class="CatchallClause"> </a><a id="20068" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20068" class="CatchallClause Bound">listEvent</a><a id="20077" class="CatchallClause Symbol">)</a>
 <a id="20080" class="Symbol">=</a> <a id="20082" href="libraries.natCompare.html#1668" class="Function">refl==r</a> <a id="20090" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20018" class="Bound">gasLeft1</a>



<a id="lemmaStepEFpreserveGas2"></a><a id="20102" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20102" class="Function">lemmaStepEFpreserveGas2</a> <a id="20126" class="Symbol">:</a> <a id="20128" class="Symbol">(</a><a id="20129" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20129" class="Bound">oldLedger</a> <a id="20139" class="Symbol">:</a> <a id="20141" href="libraries.Mainlibrary-new-version.html#1040" class="Function">Ledger</a><a id="20147" class="Symbol">)</a> <a id="20149" class="Symbol">→</a> <a id="20151" class="Symbol">(</a><a id="20152" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20152" class="Bound">state</a> <a id="20158" class="Symbol">:</a> <a id="20160" href="libraries.Mainlibrary-new-version.html#1548" class="Record">StateExecFun</a><a id="20172" class="Symbol">)</a> <a id="20174" class="Symbol">→</a>
                          <a id="20202" href="libraries.Mainlibrary-new-version.html#1797" class="Field">gasLeft</a> <a id="20210" class="Symbol">(</a><a id="20211" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9703" class="Function">stepEF</a> <a id="20218" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20129" class="Bound">oldLedger</a> <a id="20228" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20152" class="Bound">state</a><a id="20233" class="Symbol">)</a> <a id="20235" href="libraries.natCompare.html#517" class="Function Operator">==r</a> <a id="20239" href="libraries.Mainlibrary-new-version.html#1797" class="Field">gasLeft</a> <a id="20247" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20152" class="Bound">state</a>
<a id="20253" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20102" class="Function">lemmaStepEFpreserveGas2</a> <a id="20277" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20277" class="Bound">oldLedger</a> <a id="20287" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20287" class="Bound">state</a> <a id="20293" class="Symbol">=</a> <a id="20295" href="libraries.natCompare.html#2214" class="Function">sym==</a> <a id="20301" class="Symbol">(</a><a id="20302" href="libraries.Mainlibrary-new-version.html#1797" class="Field">gasLeft</a> <a id="20310" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20287" class="Bound">state</a><a id="20315" class="Symbol">)</a> <a id="20317" class="Symbol">(</a><a id="20318" href="libraries.Mainlibrary-new-version.html#1797" class="Field">gasLeft</a> <a id="20326" class="Symbol">(</a><a id="20327" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9703" class="Function">stepEF</a> <a id="20334" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20277" class="Bound">oldLedger</a> <a id="20344" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20287" class="Bound">state</a><a id="20349" class="Symbol">))</a>
                                          <a id="20394" class="Symbol">(</a><a id="20395" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#16305" class="Function">lemmaStepEFpreserveGas</a> <a id="20418" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20277" class="Bound">oldLedger</a> <a id="20428" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20287" class="Bound">state</a><a id="20433" class="Symbol">)</a>


<a id="20437" class="Comment">-- stepEFgasAvailable which returns gasLeft</a>
<a id="stepEFgasAvailable"></a><a id="20481" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20481" class="Function">stepEFgasAvailable</a> <a id="20500" class="Symbol">:</a> <a id="20502" href="libraries.Mainlibrary-new-version.html#1548" class="Record">StateExecFun</a> <a id="20515" class="Symbol">→</a> <a id="20517" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="20519" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20481" class="Function">stepEFgasAvailable</a> <a id="20538" class="Symbol">(</a><a id="20539" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="20547" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20547" class="Bound">ledger</a> <a id="20554" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20554" class="Bound">executionStack</a> <a id="20569" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20569" class="Bound">initialAddr</a>
                   <a id="20600" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20600" class="Bound">lastCallAddr</a> <a id="20613" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20613" class="Bound">calledAddr</a>
                   <a id="20643" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20643" class="Bound">nextstep</a> <a id="20652" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20652" class="Bound">gasLeft</a>  <a id="20661" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20661" class="Bound">funNameevalState</a> <a id="20678" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20678" class="Bound">msgevalState</a> <a id="20691" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20691" class="Bound">amountSent</a> <a id="20702" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20702" class="Bound">listEvent</a><a id="20711" class="Symbol">)</a>
                   <a id="20732" class="Symbol">=</a> <a id="20734" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20652" class="Bound">gasLeft</a>


<a id="20744" class="Comment">--this function simliar to stepEF and deduct the gasleft</a>
<a id="20801" class="Comment">--which returns the gas deducted</a>
<a id="stepEFgasNeeded"></a><a id="20834" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20834" class="Function">stepEFgasNeeded</a> <a id="20850" class="Symbol">:</a> <a id="20852" href="libraries.Mainlibrary-new-version.html#1548" class="Record">StateExecFun</a> <a id="20865" class="Symbol">→</a> <a id="20867" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="20869" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20834" class="Function">stepEFgasNeeded</a> <a id="20885" class="Symbol">(</a><a id="20886" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="20894" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20894" class="Bound">currentLedger</a> <a id="20908" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="20911" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20911" class="Bound">initialAddr</a> <a id="20923" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20923" class="Bound">lastCallAddr</a> <a id="20936" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20936" class="Bound">calledAddr</a>
                 <a id="20964" class="Symbol">(</a><a id="20965" href="Complex-Model.ccomand.ccommands-cresponse.html#1802" class="InductiveConstructor">return</a> <a id="20972" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20972" class="Bound">result</a><a id="20978" class="Symbol">)</a> <a id="20980" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20980" class="Bound">gasLeft</a>  <a id="20989" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20989" class="Bound">funNameevalState</a> <a id="21006" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21006" class="Bound">msgevalState</a> <a id="21019" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21019" class="Bound">amountSent</a> <a id="21030" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21030" class="Bound">listEvent</a><a id="21039" class="Symbol">)</a>
       <a id="21048" class="Symbol">=</a> <a id="21050" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#115" class="Bound">param</a> <a id="21056" class="Symbol">.</a><a id="21057" href="constantparameters.html#474" class="Field">costreturn</a> <a id="21068" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21006" class="Bound">msgevalState</a>
<a id="21081" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20834" class="Function">stepEFgasNeeded</a>  <a id="21098" class="Symbol">(</a><a id="21099" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="21107" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21107" class="Bound">currentLedger</a> <a id="21121" class="Symbol">(</a><a id="21122" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21122" class="Bound">execSEl</a> <a id="21130" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="21132" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21132" class="Bound">executionStack</a><a id="21146" class="Symbol">)</a> <a id="21148" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21148" class="Bound">initialAddr</a> <a id="21160" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21160" class="Bound">lastCallAddr</a> <a id="21173" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21173" class="Bound">calledAddr</a>
                 <a id="21201" class="Symbol">(</a><a id="21202" href="Complex-Model.ccomand.ccommands-cresponse.html#1802" class="InductiveConstructor">return</a> <a id="21209" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21209" class="Bound">result</a><a id="21215" class="Symbol">)</a> <a id="21217" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21217" class="Bound">gasLeft</a>  <a id="21226" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21226" class="Bound">funNameevalState</a> <a id="21243" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21243" class="Bound">msgevalState</a> <a id="21256" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21256" class="Bound">amountSent</a> <a id="21267" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21267" class="Bound">listEvent</a><a id="21276" class="Symbol">)</a>
       <a id="21285" class="Symbol">=</a> <a id="21287" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#115" class="Bound">param</a> <a id="21293" class="Symbol">.</a><a id="21294" href="constantparameters.html#474" class="Field">costreturn</a> <a id="21305" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21243" class="Bound">msgevalState</a>

<a id="21319" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20834" class="CatchallClause Function">stepEFgasNeeded</a><a id="21334" class="CatchallClause"> </a><a id="21335" class="CatchallClause Symbol">(</a><a id="21336" href="libraries.Mainlibrary-new-version.html#1587" class="CatchallClause InductiveConstructor">stateEF</a><a id="21343" class="CatchallClause"> </a><a id="21344" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21344" class="CatchallClause Bound">currentLedger</a><a id="21357" class="CatchallClause"> </a><a id="21358" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21358" class="CatchallClause Bound">executionStack</a><a id="21372" class="CatchallClause"> </a><a id="21373" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21373" class="CatchallClause Bound">initialAddr</a><a id="21384" class="CatchallClause"> </a><a id="21385" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21385" class="CatchallClause Bound">lastCallAddr</a><a id="21397" class="CatchallClause"> </a><a id="21398" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21398" class="CatchallClause Bound">calledAddr</a>
                 <a id="21426" class="CatchallClause Symbol">(</a><a id="21427" href="Complex-Model.ccomand.ccommands-cresponse.html#1889" class="CatchallClause InductiveConstructor">exec</a><a id="21431" class="CatchallClause"> </a><a id="21432" href="Complex-Model.ccomand.ccommands-cresponse.html#1009" class="CatchallClause InductiveConstructor">currentAddrLookupc</a><a id="21450" class="CatchallClause"> </a><a id="21451" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21451" class="CatchallClause Bound">costcomputecont</a><a id="21466" class="CatchallClause"> </a><a id="21467" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21467" class="CatchallClause Bound">cont</a><a id="21471" class="CatchallClause Symbol">)</a>
                 <a id="21490" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21490" class="CatchallClause Bound">gasLeft</a><a id="21497" class="CatchallClause">  </a><a id="21499" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21499" class="CatchallClause Bound">funNameevalState</a><a id="21515" class="CatchallClause"> </a><a id="21516" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21516" class="CatchallClause Bound">msgevalState</a><a id="21528" class="CatchallClause"> </a><a id="21529" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21529" class="CatchallClause Bound">amountSent</a><a id="21539" class="CatchallClause"> </a><a id="21540" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21540" class="CatchallClause Bound">listEvent</a><a id="21549" class="CatchallClause Symbol">)</a>
       <a id="21558" class="Symbol">=</a> <a id="21560" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21451" class="Bound">costcomputecont</a> <a id="21576" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21398" class="Bound">calledAddr</a>

<a id="21588" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20834" class="CatchallClause Function">stepEFgasNeeded</a><a id="21603" class="CatchallClause"> </a><a id="21604" class="CatchallClause Symbol">(</a><a id="21605" href="libraries.Mainlibrary-new-version.html#1587" class="CatchallClause InductiveConstructor">stateEF</a><a id="21612" class="CatchallClause"> </a><a id="21613" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21613" class="CatchallClause Bound">currentLedger</a><a id="21626" class="CatchallClause"> </a><a id="21627" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21627" class="CatchallClause Bound">executionStack</a><a id="21641" class="CatchallClause"> </a><a id="21642" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21642" class="CatchallClause Bound">initialAddr</a><a id="21653" class="CatchallClause"> </a><a id="21654" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21654" class="CatchallClause Bound">lastCallAddr</a><a id="21666" class="CatchallClause"> </a><a id="21667" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21667" class="CatchallClause Bound">calledAddr</a>
                 <a id="21695" class="CatchallClause Symbol">(</a><a id="21696" href="Complex-Model.ccomand.ccommands-cresponse.html#1889" class="CatchallClause InductiveConstructor">exec</a><a id="21700" class="CatchallClause"> </a><a id="21701" href="Complex-Model.ccomand.ccommands-cresponse.html#1044" class="CatchallClause InductiveConstructor">callAddrLookupc</a><a id="21716" class="CatchallClause"> </a><a id="21717" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21717" class="CatchallClause Bound">costcomputecont</a><a id="21732" class="CatchallClause"> </a><a id="21733" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21733" class="CatchallClause Bound">cont</a><a id="21737" class="CatchallClause Symbol">)</a>
                 <a id="21756" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21756" class="CatchallClause Bound">gasLeft</a><a id="21763" class="CatchallClause">  </a><a id="21765" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21765" class="CatchallClause Bound">funNameevalState</a><a id="21781" class="CatchallClause"> </a><a id="21782" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21782" class="CatchallClause Bound">msgevalState</a><a id="21794" class="CatchallClause"> </a><a id="21795" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21795" class="CatchallClause Bound">amountSent</a><a id="21805" class="CatchallClause"> </a><a id="21806" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21806" class="CatchallClause Bound">listEvent</a><a id="21815" class="CatchallClause Symbol">)</a>
       <a id="21824" class="Symbol">=</a> <a id="21826" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21717" class="Bound">costcomputecont</a> <a id="21842" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21654" class="Bound">lastCallAddr</a>

<a id="21856" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20834" class="CatchallClause Function">stepEFgasNeeded</a><a id="21871" class="CatchallClause"> </a><a id="21872" class="CatchallClause Symbol">(</a><a id="21873" href="libraries.Mainlibrary-new-version.html#1587" class="CatchallClause InductiveConstructor">stateEF</a><a id="21880" class="CatchallClause"> </a><a id="21881" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21881" class="CatchallClause Bound">currentLedger</a><a id="21894" class="CatchallClause"> </a><a id="21895" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21895" class="CatchallClause Bound">executionStack</a><a id="21909" class="CatchallClause"> </a><a id="21910" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21910" class="CatchallClause Bound">initialAddr</a><a id="21921" class="CatchallClause"> </a><a id="21922" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21922" class="CatchallClause Bound">lastCallAddr</a><a id="21934" class="CatchallClause"> </a><a id="21935" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21935" class="CatchallClause Bound">calledAddr</a>
                 <a id="21963" class="CatchallClause Symbol">(</a><a id="21964" href="Complex-Model.ccomand.ccommands-cresponse.html#1889" class="CatchallClause InductiveConstructor">exec</a><a id="21968" class="CatchallClause"> </a><a id="21969" class="CatchallClause Symbol">(</a><a id="21970" href="Complex-Model.ccomand.ccommands-cresponse.html#672" class="CatchallClause InductiveConstructor">updatec</a><a id="21977" class="CatchallClause"> </a><a id="21978" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21978" class="CatchallClause Bound">changedFname</a><a id="21990" class="CatchallClause"> </a><a id="21991" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21991" class="CatchallClause Bound">changedPufun</a><a id="22003" class="CatchallClause"> </a><a id="22004" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22004" class="CatchallClause Bound">cost</a><a id="22008" class="CatchallClause Symbol">)</a><a id="22009" class="CatchallClause"> </a><a id="22010" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22010" class="CatchallClause Bound">costcomputecont</a><a id="22025" class="CatchallClause"> </a><a id="22026" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22026" class="CatchallClause Bound">cont</a><a id="22030" class="CatchallClause Symbol">)</a>
                 <a id="22049" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22049" class="CatchallClause Bound">gasLeft</a><a id="22056" class="CatchallClause">  </a><a id="22058" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22058" class="CatchallClause Bound">funNameevalState</a><a id="22074" class="CatchallClause"> </a><a id="22075" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22075" class="CatchallClause Bound">msgevalState</a><a id="22087" class="CatchallClause"> </a><a id="22088" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22088" class="CatchallClause Bound">amountSent</a><a id="22098" class="CatchallClause"> </a><a id="22099" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22099" class="CatchallClause Bound">listEvent</a><a id="22108" class="CatchallClause Symbol">)</a>
       <a id="22117" class="Symbol">=</a> <a id="22119" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22004" class="Bound">cost</a> <a id="22124" class="Symbol">(</a><a id="22125" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21881" class="Bound">currentLedger</a> <a id="22139" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21935" class="Bound">calledAddr</a> <a id="22150" class="Symbol">.</a><a id="22151" href="libraries.Mainlibrary-new-version.html#901" class="Field">viewFunction</a> <a id="22164" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21978" class="Bound">changedFname</a><a id="22176" class="Symbol">)</a> <a id="22178" class="Symbol">(</a><a id="22179" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21881" class="Bound">currentLedger</a> <a id="22193" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21935" class="Bound">calledAddr</a> <a id="22204" class="Symbol">.</a><a id="22205" href="libraries.Mainlibrary-new-version.html#952" class="Field">viewFunctionCost</a> <a id="22222" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#21978" class="Bound">changedFname</a><a id="22234" class="Symbol">)</a> <a id="22236" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22075" class="Bound">msgevalState</a> <a id="22249" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="22251" class="Symbol">(</a><a id="22252" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22010" class="Bound">costcomputecont</a> <a id="22268" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="22270" class="Symbol">)</a>

<a id="22273" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20834" class="CatchallClause Function">stepEFgasNeeded</a><a id="22288" class="CatchallClause"> </a><a id="22289" class="CatchallClause Symbol">(</a><a id="22290" href="libraries.Mainlibrary-new-version.html#1587" class="CatchallClause InductiveConstructor">stateEF</a><a id="22297" class="CatchallClause"> </a><a id="22298" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22298" class="CatchallClause Bound">currentLedger</a><a id="22311" class="CatchallClause"> </a><a id="22312" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22312" class="CatchallClause Bound">executionStack</a><a id="22326" class="CatchallClause"> </a><a id="22327" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22327" class="CatchallClause Bound">initialAddr</a><a id="22338" class="CatchallClause"> </a><a id="22339" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22339" class="CatchallClause Bound">oldlastCallAddr</a><a id="22354" class="CatchallClause"> </a><a id="22355" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22355" class="CatchallClause Bound">oldcalledAddr</a>
                 <a id="22386" class="CatchallClause Symbol">(</a><a id="22387" href="Complex-Model.ccomand.ccommands-cresponse.html#1889" class="CatchallClause InductiveConstructor">exec</a><a id="22391" class="CatchallClause"> </a><a id="22392" class="CatchallClause Symbol">(</a><a id="22393" href="Complex-Model.ccomand.ccommands-cresponse.html#486" class="CatchallClause InductiveConstructor">callc</a><a id="22398" class="CatchallClause"> </a><a id="22399" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22399" class="CatchallClause Bound">newaddr</a><a id="22406" class="CatchallClause"> </a><a id="22407" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22407" class="CatchallClause Bound">fname</a><a id="22412" class="CatchallClause"> </a><a id="22413" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22413" class="CatchallClause Bound">msg</a><a id="22416" class="CatchallClause"> </a><a id="22417" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22417" class="CatchallClause Bound">amount</a><a id="22423" class="CatchallClause Symbol">)</a><a id="22424" class="CatchallClause"> </a><a id="22425" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22425" class="CatchallClause Bound">costcomputecont</a><a id="22440" class="CatchallClause"> </a><a id="22441" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22441" class="CatchallClause Bound">cont</a><a id="22445" class="CatchallClause Symbol">)</a>
                 <a id="22464" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22464" class="CatchallClause Bound">gasLeft</a><a id="22471" class="CatchallClause">  </a><a id="22473" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22473" class="CatchallClause Bound">funNameevalState</a><a id="22489" class="CatchallClause"> </a><a id="22490" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22490" class="CatchallClause Bound">msgevalState</a><a id="22502" class="CatchallClause"> </a><a id="22503" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22503" class="CatchallClause Bound">amountSent</a><a id="22513" class="CatchallClause"> </a><a id="22514" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22514" class="CatchallClause Bound">listEvent</a><a id="22523" class="CatchallClause Symbol">)</a>
       <a id="22532" class="Symbol">=</a> <a id="22534" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22425" class="Bound">costcomputecont</a> <a id="22550" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22413" class="Bound">msg</a>

<a id="22555" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20834" class="CatchallClause Function">stepEFgasNeeded</a><a id="22570" class="CatchallClause"> </a><a id="22571" class="CatchallClause Symbol">(</a><a id="22572" href="libraries.Mainlibrary-new-version.html#1587" class="CatchallClause InductiveConstructor">stateEF</a><a id="22579" class="CatchallClause"> </a><a id="22580" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22580" class="CatchallClause Bound">currentLedger</a><a id="22593" class="CatchallClause"> </a><a id="22594" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22594" class="CatchallClause Bound">executionStack</a><a id="22608" class="CatchallClause"> </a><a id="22609" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22609" class="CatchallClause Bound">initialAddr</a><a id="22620" class="CatchallClause"> </a><a id="22621" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22621" class="CatchallClause Bound">oldlastCallAddr</a><a id="22636" class="CatchallClause"> </a><a id="22637" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22637" class="CatchallClause Bound">oldcalledAddr</a>
                 <a id="22668" class="CatchallClause Symbol">(</a><a id="22669" href="Complex-Model.ccomand.ccommands-cresponse.html#1889" class="CatchallClause InductiveConstructor">exec</a><a id="22673" class="CatchallClause"> </a><a id="22674" class="CatchallClause Symbol">(</a><a id="22675" href="Complex-Model.ccomand.ccommands-cresponse.html#929" class="CatchallClause InductiveConstructor">callcAssumingTransferc</a><a id="22697" class="CatchallClause"> </a><a id="22698" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22698" class="CatchallClause Bound">newaddr</a><a id="22705" class="CatchallClause"> </a><a id="22706" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22706" class="CatchallClause Bound">fname</a><a id="22711" class="CatchallClause"> </a><a id="22712" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22712" class="CatchallClause Bound">msg</a><a id="22715" class="CatchallClause"> </a><a id="22716" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22716" class="CatchallClause Bound">amount</a><a id="22722" class="CatchallClause Symbol">)</a><a id="22723" class="CatchallClause"> </a><a id="22724" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22724" class="CatchallClause Bound">costcomputecont</a><a id="22739" class="CatchallClause"> </a><a id="22740" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22740" class="CatchallClause Bound">cont</a><a id="22744" class="CatchallClause Symbol">)</a>
                 <a id="22763" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22763" class="CatchallClause Bound">gasLeft</a><a id="22770" class="CatchallClause">  </a><a id="22772" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22772" class="CatchallClause Bound">funNameevalState</a><a id="22788" class="CatchallClause"> </a><a id="22789" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22789" class="CatchallClause Bound">msgevalState</a><a id="22801" class="CatchallClause"> </a><a id="22802" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22802" class="CatchallClause Bound">amountSent</a><a id="22812" class="CatchallClause"> </a><a id="22813" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22813" class="CatchallClause Bound">listEvent</a><a id="22822" class="CatchallClause Symbol">)</a>
       <a id="22831" class="Symbol">=</a> <a id="22833" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22724" class="Bound">costcomputecont</a> <a id="22849" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22712" class="Bound">msg</a>


<a id="22855" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20834" class="CatchallClause Function">stepEFgasNeeded</a><a id="22870" class="CatchallClause"> </a><a id="22871" class="CatchallClause Symbol">(</a><a id="22872" href="libraries.Mainlibrary-new-version.html#1587" class="CatchallClause InductiveConstructor">stateEF</a><a id="22879" class="CatchallClause"> </a><a id="22880" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22880" class="CatchallClause Bound">currentLedger</a><a id="22893" class="CatchallClause"> </a><a id="22894" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22894" class="CatchallClause Bound">executionStack</a><a id="22908" class="CatchallClause"> </a><a id="22909" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22909" class="CatchallClause Bound">initialAddr</a><a id="22920" class="CatchallClause"> </a><a id="22921" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22921" class="CatchallClause Bound">lastCallAddr</a><a id="22933" class="CatchallClause"> </a><a id="22934" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22934" class="CatchallClause Bound">calledAddr</a>
                 <a id="22962" class="CatchallClause Symbol">(</a><a id="22963" href="Complex-Model.ccomand.ccommands-cresponse.html#1889" class="CatchallClause InductiveConstructor">exec</a><a id="22967" class="CatchallClause"> </a><a id="22968" class="CatchallClause Symbol">(</a><a id="22969" href="Complex-Model.ccomand.ccommands-cresponse.html#818" class="CatchallClause InductiveConstructor">transferc</a><a id="22978" class="CatchallClause"> </a><a id="22979" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22979" class="CatchallClause Bound">amount</a><a id="22985" class="CatchallClause"> </a><a id="22986" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#22986" class="CatchallClause Bound">destinationAddr</a><a id="23001" class="CatchallClause Symbol">)</a><a id="23002" class="CatchallClause"> </a><a id="23003" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23003" class="CatchallClause Bound">costcomputecont</a><a id="23018" class="CatchallClause"> </a><a id="23019" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23019" class="CatchallClause Bound">cont</a><a id="23023" class="CatchallClause Symbol">)</a>
                 <a id="23042" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23042" class="CatchallClause Bound">gasLeft</a><a id="23049" class="CatchallClause">  </a><a id="23051" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23051" class="CatchallClause Bound">funNameevalState</a><a id="23067" class="CatchallClause"> </a><a id="23068" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23068" class="CatchallClause Bound">msgevalState</a><a id="23080" class="CatchallClause"> </a><a id="23081" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23081" class="CatchallClause Bound">amountSent</a><a id="23091" class="CatchallClause"> </a><a id="23092" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23092" class="CatchallClause Bound">listEvent</a><a id="23101" class="CatchallClause Symbol">)</a>
       <a id="23110" class="Symbol">=</a> <a id="23112" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23003" class="Bound">costcomputecont</a> <a id="23128" href="Complex-Model.ccomand.ccommands-cresponse.html#2002" class="Function">emptymsg</a>

<a id="23138" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20834" class="CatchallClause Function">stepEFgasNeeded</a><a id="23153" class="CatchallClause"> </a><a id="23154" class="CatchallClause Symbol">(</a><a id="23155" href="libraries.Mainlibrary-new-version.html#1587" class="CatchallClause InductiveConstructor">stateEF</a><a id="23162" class="CatchallClause"> </a><a id="23163" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23163" class="CatchallClause Bound">currentLedger</a><a id="23176" class="CatchallClause"> </a><a id="23177" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23177" class="CatchallClause Bound">executionStack</a><a id="23191" class="CatchallClause"> </a><a id="23192" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23192" class="CatchallClause Bound">initialAddr</a><a id="23203" class="CatchallClause"> </a><a id="23204" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23204" class="CatchallClause Bound">lastCallAddr</a><a id="23216" class="CatchallClause"> </a><a id="23217" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23217" class="CatchallClause Bound">calledAddr</a>
                 <a id="23245" class="CatchallClause Symbol">(</a><a id="23246" href="Complex-Model.ccomand.ccommands-cresponse.html#1889" class="CatchallClause InductiveConstructor">exec</a><a id="23250" class="CatchallClause"> </a><a id="23251" class="CatchallClause Symbol">(</a><a id="23252" href="Complex-Model.ccomand.ccommands-cresponse.html#864" class="CatchallClause InductiveConstructor">transfercWithoutFallBack</a><a id="23276" class="CatchallClause"> </a><a id="23277" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23277" class="CatchallClause Bound">amount</a><a id="23283" class="CatchallClause"> </a><a id="23284" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23284" class="CatchallClause Bound">destinationAddr</a><a id="23299" class="CatchallClause Symbol">)</a><a id="23300" class="CatchallClause"> </a><a id="23301" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23301" class="CatchallClause Bound">costcomputecont</a><a id="23316" class="CatchallClause"> </a><a id="23317" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23317" class="CatchallClause Bound">cont</a><a id="23321" class="CatchallClause Symbol">)</a>
                 <a id="23340" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23340" class="CatchallClause Bound">gasLeft</a><a id="23347" class="CatchallClause">  </a><a id="23349" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23349" class="CatchallClause Bound">funNameevalState</a><a id="23365" class="CatchallClause"> </a><a id="23366" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23366" class="CatchallClause Bound">msgevalState</a><a id="23378" class="CatchallClause"> </a><a id="23379" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23379" class="CatchallClause Bound">amountSent</a><a id="23389" class="CatchallClause"> </a><a id="23390" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23390" class="CatchallClause Bound">listEvent</a><a id="23399" class="CatchallClause Symbol">)</a>
       <a id="23408" class="Symbol">=</a> <a id="23410" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23301" class="Bound">costcomputecont</a> <a id="23426" href="Complex-Model.ccomand.ccommands-cresponse.html#2002" class="Function">emptymsg</a>

<a id="23436" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20834" class="CatchallClause Function">stepEFgasNeeded</a><a id="23451" class="CatchallClause"> </a><a id="23452" class="CatchallClause Symbol">(</a><a id="23453" href="libraries.Mainlibrary-new-version.html#1587" class="CatchallClause InductiveConstructor">stateEF</a><a id="23460" class="CatchallClause"> </a><a id="23461" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23461" class="CatchallClause Bound">currentLedger</a><a id="23474" class="CatchallClause"> </a><a id="23475" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23475" class="CatchallClause Bound">executionStack</a><a id="23489" class="CatchallClause"> </a><a id="23490" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23490" class="CatchallClause Bound">initialAddr</a><a id="23501" class="CatchallClause"> </a><a id="23502" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23502" class="CatchallClause Bound">lastCallAddr</a><a id="23514" class="CatchallClause"> </a><a id="23515" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23515" class="CatchallClause Bound">calledAddr</a>
                 <a id="23543" class="CatchallClause Symbol">(</a><a id="23544" href="Complex-Model.ccomand.ccommands-cresponse.html#1889" class="CatchallClause InductiveConstructor">exec</a><a id="23548" class="CatchallClause"> </a><a id="23549" class="CatchallClause Symbol">(</a><a id="23550" href="Complex-Model.ccomand.ccommands-cresponse.html#1076" class="CatchallClause InductiveConstructor">getAmountc</a><a id="23560" class="CatchallClause">  </a><a id="23562" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23562" class="CatchallClause Bound">addrLookedUp</a><a id="23574" class="CatchallClause Symbol">)</a><a id="23575" class="CatchallClause"> </a><a id="23576" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23576" class="CatchallClause Bound">costcomputecont</a><a id="23591" class="CatchallClause"> </a><a id="23592" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23592" class="CatchallClause Bound">cont</a><a id="23596" class="CatchallClause Symbol">)</a>
                 <a id="23615" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23615" class="CatchallClause Bound">gasLeft</a><a id="23622" class="CatchallClause">  </a><a id="23624" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23624" class="CatchallClause Bound">funNameevalState</a><a id="23640" class="CatchallClause"> </a><a id="23641" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23641" class="CatchallClause Bound">msgevalState</a><a id="23653" class="CatchallClause"> </a><a id="23654" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23654" class="CatchallClause Bound">amountSent</a><a id="23664" class="CatchallClause"> </a><a id="23665" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23665" class="CatchallClause Bound">listEvent</a><a id="23674" class="CatchallClause Symbol">)</a>
       <a id="23683" class="Symbol">=</a> <a id="23685" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23576" class="Bound">costcomputecont</a> <a id="23701" class="Symbol">(</a><a id="23702" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23461" class="Bound">currentLedger</a> <a id="23716" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23562" class="Bound">addrLookedUp</a> <a id="23729" class="Symbol">.</a><a id="23730" href="libraries.Mainlibrary-new-version.html#827" class="Field">amount</a><a id="23736" class="Symbol">)</a>

<a id="23739" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20834" class="CatchallClause Function">stepEFgasNeeded</a><a id="23754" class="CatchallClause"> </a><a id="23755" class="CatchallClause Symbol">(</a><a id="23756" href="libraries.Mainlibrary-new-version.html#1587" class="CatchallClause InductiveConstructor">stateEF</a><a id="23763" class="CatchallClause"> </a><a id="23764" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23764" class="CatchallClause Bound">ledger</a><a id="23770" class="CatchallClause"> </a><a id="23771" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23771" class="CatchallClause Bound">executionStack</a><a id="23785" class="CatchallClause"> </a><a id="23786" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23786" class="CatchallClause Bound">initialAddr</a><a id="23797" class="CatchallClause"> </a><a id="23798" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23798" class="CatchallClause Bound">lastCallAddr</a><a id="23810" class="CatchallClause"> </a><a id="23811" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23811" class="CatchallClause Bound">calledAddr</a>
                <a id="23838" class="CatchallClause Symbol">(</a><a id="23839" href="Complex-Model.ccomand.ccommands-cresponse.html#1889" class="CatchallClause InductiveConstructor">exec</a><a id="23843" class="CatchallClause"> </a><a id="23844" href="Complex-Model.ccomand.ccommands-cresponse.html#548" class="CatchallClause InductiveConstructor">getTransferAmount</a><a id="23861" class="CatchallClause"> </a><a id="23862" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23862" class="CatchallClause Bound">costcomputecont</a><a id="23877" class="CatchallClause"> </a><a id="23878" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23878" class="CatchallClause Bound">cont</a><a id="23882" class="CatchallClause Symbol">)</a><a id="23883" class="CatchallClause"> </a><a id="23884" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23884" class="CatchallClause Bound">gasLeft</a><a id="23891" class="CatchallClause"> </a><a id="23892" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23892" class="CatchallClause Bound">funNameevalState</a><a id="23908" class="CatchallClause"> </a><a id="23909" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23909" class="CatchallClause Bound">msgevalState</a><a id="23921" class="CatchallClause"> </a><a id="23922" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23922" class="CatchallClause Bound">amountSent</a><a id="23932" class="CatchallClause"> </a><a id="23933" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23933" class="CatchallClause Bound">listEvent</a><a id="23942" class="CatchallClause Symbol">)</a>
                <a id="23960" class="Symbol">=</a> <a id="23962" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23862" class="Bound">costcomputecont</a> <a id="23978" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#23922" class="Bound">amountSent</a>

<a id="23990" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20834" class="CatchallClause Function">stepEFgasNeeded</a><a id="24005" class="CatchallClause"> </a><a id="24006" class="CatchallClause Symbol">(</a><a id="24007" href="libraries.Mainlibrary-new-version.html#1587" class="CatchallClause InductiveConstructor">stateEF</a><a id="24014" class="CatchallClause"> </a><a id="24015" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24015" class="CatchallClause Bound">currentLedger</a><a id="24028" class="CatchallClause"> </a><a id="24029" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24029" class="CatchallClause Bound">executionStack</a><a id="24043" class="CatchallClause"> </a><a id="24044" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24044" class="CatchallClause Bound">initialAddr</a><a id="24055" class="CatchallClause"> </a><a id="24056" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24056" class="CatchallClause Bound">lastCallAddr</a><a id="24068" class="CatchallClause"> </a><a id="24069" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24069" class="CatchallClause Bound">calledAddr</a>
                 <a id="24097" class="CatchallClause Symbol">(</a><a id="24098" href="Complex-Model.ccomand.ccommands-cresponse.html#1889" class="CatchallClause InductiveConstructor">exec</a><a id="24102" class="CatchallClause"> </a><a id="24103" class="CatchallClause Symbol">(</a><a id="24104" href="Complex-Model.ccomand.ccommands-cresponse.html#614" class="CatchallClause InductiveConstructor">callView</a><a id="24112" class="CatchallClause"> </a><a id="24113" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24113" class="CatchallClause Bound">addr</a><a id="24117" class="CatchallClause"> </a><a id="24118" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24118" class="CatchallClause Bound">fname</a><a id="24123" class="CatchallClause"> </a><a id="24124" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24124" class="CatchallClause Bound">msg</a><a id="24127" class="CatchallClause Symbol">)</a><a id="24128" class="CatchallClause"> </a><a id="24129" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24129" class="CatchallClause Bound">costcompute</a><a id="24140" class="CatchallClause"> </a><a id="24141" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24141" class="CatchallClause Bound">cont</a><a id="24145" class="CatchallClause Symbol">)</a>
                 <a id="24164" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24164" class="CatchallClause Bound">gasLeft</a><a id="24171" class="CatchallClause">  </a><a id="24173" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24173" class="CatchallClause Bound">funNameevalState</a><a id="24189" class="CatchallClause"> </a><a id="24190" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24190" class="CatchallClause Bound">msgevalState</a><a id="24202" class="CatchallClause"> </a><a id="24203" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24203" class="CatchallClause Bound">amountSent</a><a id="24213" class="CatchallClause"> </a><a id="24214" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24214" class="CatchallClause Bound">listEvent</a><a id="24223" class="CatchallClause Symbol">)</a>
       <a id="24232" class="Symbol">=</a> <a id="24234" class="Symbol">(</a><a id="24235" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24015" class="Bound">currentLedger</a> <a id="24249" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24069" class="Bound">calledAddr</a> <a id="24260" class="Symbol">.</a><a id="24261" href="libraries.Mainlibrary-new-version.html#952" class="Field">viewFunctionCost</a> <a id="24278" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24118" class="Bound">fname</a> <a id="24284" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24124" class="Bound">msg</a><a id="24287" class="Symbol">)</a> <a id="24289" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="24291" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24129" class="Bound">costcompute</a> <a id="24303" class="Symbol">(</a><a id="24304" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24015" class="Bound">currentLedger</a> <a id="24318" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24069" class="Bound">calledAddr</a> <a id="24329" class="Symbol">.</a><a id="24330" href="libraries.Mainlibrary-new-version.html#901" class="Field">viewFunction</a> <a id="24343" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24118" class="Bound">fname</a> <a id="24349" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24124" class="Bound">msg</a><a id="24352" class="Symbol">)</a>

<a id="24355" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20834" class="CatchallClause Function">stepEFgasNeeded</a><a id="24370" class="CatchallClause"> </a><a id="24371" class="CatchallClause Symbol">(</a><a id="24372" href="libraries.Mainlibrary-new-version.html#1587" class="CatchallClause InductiveConstructor">stateEF</a><a id="24379" class="CatchallClause"> </a><a id="24380" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24380" class="CatchallClause Bound">currentLedger</a><a id="24393" class="CatchallClause"> </a><a id="24394" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24394" class="CatchallClause Bound">executionStack</a><a id="24408" class="CatchallClause"> </a><a id="24409" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24409" class="CatchallClause Bound">initialAddr</a><a id="24420" class="CatchallClause"> </a><a id="24421" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24421" class="CatchallClause Bound">lastCallAddr</a><a id="24433" class="CatchallClause"> </a><a id="24434" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24434" class="CatchallClause Bound">calledAddr</a>
                 <a id="24462" class="CatchallClause Symbol">(</a><a id="24463" href="Complex-Model.ccomand.ccommands-cresponse.html#1836" class="CatchallClause InductiveConstructor">error</a><a id="24468" class="CatchallClause"> </a><a id="24469" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24469" class="CatchallClause Bound">errorMsg</a><a id="24477" class="CatchallClause"> </a><a id="24478" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24478" class="CatchallClause Bound">debuginfo</a><a id="24487" class="CatchallClause Symbol">)</a><a id="24488" class="CatchallClause"> </a><a id="24489" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24489" class="CatchallClause Bound">gasLeft</a><a id="24496" class="CatchallClause">  </a><a id="24498" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24498" class="CatchallClause Bound">funNameevalState</a><a id="24514" class="CatchallClause"> </a><a id="24515" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24515" class="CatchallClause Bound">msgevalState</a><a id="24527" class="CatchallClause"> </a><a id="24528" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24528" class="CatchallClause Bound">amountSent</a><a id="24538" class="CatchallClause"> </a><a id="24539" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24539" class="CatchallClause Bound">listEvent</a><a id="24548" class="CatchallClause Symbol">)</a>
       <a id="24557" class="Symbol">=</a> <a id="24559" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#115" class="Bound">param</a> <a id="24565" class="Symbol">.</a><a id="24566" href="constantparameters.html#511" class="Field">costerror</a> <a id="24576" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24469" class="Bound">errorMsg</a>

<a id="24586" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20834" class="CatchallClause Function">stepEFgasNeeded</a><a id="24601" class="CatchallClause"> </a><a id="24602" class="CatchallClause Symbol">(</a><a id="24603" href="libraries.Mainlibrary-new-version.html#1587" class="CatchallClause InductiveConstructor">stateEF</a><a id="24610" class="CatchallClause"> </a><a id="24611" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24611" class="CatchallClause Bound">currentLedger</a><a id="24624" class="CatchallClause"> </a><a id="24625" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24625" class="CatchallClause Bound">executionStack</a><a id="24639" class="CatchallClause"> </a><a id="24640" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24640" class="CatchallClause Bound">initialAddr</a><a id="24651" class="CatchallClause"> </a><a id="24652" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24652" class="CatchallClause Bound">lastCallAddr</a><a id="24664" class="CatchallClause"> </a><a id="24665" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24665" class="CatchallClause Bound">calledAddr</a>
                 <a id="24693" class="CatchallClause Symbol">(</a><a id="24694" href="Complex-Model.ccomand.ccommands-cresponse.html#1889" class="CatchallClause InductiveConstructor">exec</a><a id="24698" class="CatchallClause"> </a><a id="24699" class="CatchallClause Symbol">(</a><a id="24700" href="Complex-Model.ccomand.ccommands-cresponse.html#582" class="CatchallClause InductiveConstructor">eventc</a><a id="24706" class="CatchallClause">  </a><a id="24708" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24708" class="CatchallClause Bound">str</a><a id="24711" class="CatchallClause Symbol">)</a><a id="24712" class="CatchallClause"> </a><a id="24713" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24713" class="CatchallClause Bound">costcomputecont</a><a id="24728" class="CatchallClause"> </a><a id="24729" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24729" class="CatchallClause Bound">cont</a><a id="24733" class="CatchallClause Symbol">)</a>
                 <a id="24752" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24752" class="CatchallClause Bound">gasLeft</a><a id="24759" class="CatchallClause">  </a><a id="24761" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24761" class="CatchallClause Bound">funNameevalState</a><a id="24777" class="CatchallClause"> </a><a id="24778" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24778" class="CatchallClause Bound">msgevalState</a><a id="24790" class="CatchallClause"> </a><a id="24791" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24791" class="CatchallClause Bound">amountSent</a><a id="24801" class="CatchallClause"> </a><a id="24802" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24802" class="CatchallClause Bound">listEvent</a><a id="24811" class="CatchallClause Symbol">)</a>
       <a id="24820" class="Symbol">=</a> <a id="24822" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24713" class="Bound">costcomputecont</a> <a id="24838" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a>


<a id="24843" class="Comment">--This function we use it to deduct gas from evalstate not ledger</a>
<a id="deductGas"></a><a id="24909" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24909" class="Function">deductGas</a> <a id="24919" class="Symbol">:</a>  <a id="24922" class="Symbol">(</a><a id="24923" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24923" class="Bound">statefun</a> <a id="24932" class="Symbol">:</a> <a id="24934" href="libraries.Mainlibrary-new-version.html#1548" class="Record">StateExecFun</a><a id="24946" class="Symbol">)</a> <a id="24948" class="Symbol">(</a><a id="24949" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24949" class="Bound">gasDeducted</a> <a id="24961" class="Symbol">:</a> <a id="24963" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="24964" class="Symbol">)</a> <a id="24966" class="Symbol">→</a> <a id="24968" href="libraries.Mainlibrary-new-version.html#1548" class="Record">StateExecFun</a>
<a id="24981" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24909" class="Function">deductGas</a> <a id="24991" class="Symbol">(</a><a id="24992" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="25000" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25000" class="Bound">ledger</a> <a id="25007" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25007" class="Bound">executionStack</a> <a id="25022" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25022" class="Bound">initialAddr</a> <a id="25034" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25034" class="Bound">lastCallAddr</a> <a id="25047" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25047" class="Bound">calledAddr</a> <a id="25058" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25058" class="Bound">nextstep</a>
            <a id="25079" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25079" class="Bound">gasLeft</a>  <a id="25088" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25088" class="Bound">funNameevalState</a> <a id="25105" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25105" class="Bound">msgevalState</a> <a id="25118" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25118" class="Bound">amountSent</a> <a id="25129" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25129" class="Bound">listEvent</a><a id="25138" class="Symbol">)</a> <a id="25140" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25140" class="Bound">gasDeducted</a>
       <a id="25159" class="Symbol">=</a> <a id="25161" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="25169" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25000" class="Bound">ledger</a> <a id="25176" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25007" class="Bound">executionStack</a> <a id="25191" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25022" class="Bound">initialAddr</a> <a id="25203" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25034" class="Bound">lastCallAddr</a> <a id="25216" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25047" class="Bound">calledAddr</a> <a id="25227" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25058" class="Bound">nextstep</a>
       <a id="25243" class="Symbol">(</a><a id="25244" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25079" class="Bound">gasLeft</a> <a id="25252" href="Agda.Builtin.Nat.html#426" class="Primitive Operator">-</a> <a id="25254" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25140" class="Bound">gasDeducted</a><a id="25265" class="Symbol">)</a>  <a id="25268" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25088" class="Bound">funNameevalState</a> <a id="25285" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25105" class="Bound">msgevalState</a> <a id="25298" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25118" class="Bound">amountSent</a> <a id="25309" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25129" class="Bound">listEvent</a>


<a id="25321" class="Comment">-- this function we use it to cpmare gas in stepEFgasNeeded with stepEFgasAvailable</a>
<a id="stepEFAuxCompare"></a><a id="25405" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25405" class="Function">stepEFAuxCompare</a> <a id="25422" class="Symbol">:</a> <a id="25424" class="Symbol">(</a><a id="25425" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25425" class="Bound">oldLedger</a> <a id="25435" class="Symbol">:</a> <a id="25437" href="libraries.Mainlibrary-new-version.html#1040" class="Function">Ledger</a><a id="25443" class="Symbol">)</a> <a id="25445" class="Symbol">→</a> <a id="25447" class="Symbol">(</a><a id="25448" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25448" class="Bound">statefun</a> <a id="25457" class="Symbol">:</a> <a id="25459" href="libraries.Mainlibrary-new-version.html#1548" class="Record">StateExecFun</a><a id="25471" class="Symbol">)</a>
  <a id="25475" class="Symbol">→</a> <a id="25477" href="libraries.natCompare.html#644" class="Datatype">OrderingLeq</a> <a id="25489" class="Symbol">(</a><a id="25490" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="25494" class="Symbol">(</a><a id="25495" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20834" class="Function">stepEFgasNeeded</a> <a id="25511" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25448" class="Bound">statefun</a><a id="25519" class="Symbol">))(</a><a id="25522" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20481" class="Function">stepEFgasAvailable</a> <a id="25541" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25448" class="Bound">statefun</a><a id="25549" class="Symbol">)</a>
  <a id="25553" class="Symbol">→</a> <a id="25555" href="libraries.Mainlibrary-new-version.html#1548" class="Record">StateExecFun</a>
<a id="25568" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25405" class="Function">stepEFAuxCompare</a> <a id="25585" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25585" class="Bound">oldLedger</a> <a id="25595" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25595" class="Bound">statefun</a> <a id="25604" class="Symbol">(</a><a id="25605" href="libraries.natCompare.html#682" class="InductiveConstructor">leq</a> <a id="25609" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25609" class="Bound">x</a><a id="25610" class="Symbol">)</a> <a id="25612" class="Symbol">=</a> <a id="25614" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#24909" class="Function">deductGas</a> <a id="25624" class="Symbol">(</a><a id="25625" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#9703" class="Function">stepEF</a> <a id="25632" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25585" class="Bound">oldLedger</a> <a id="25642" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25595" class="Bound">statefun</a><a id="25650" class="Symbol">)</a> <a id="25652" class="Symbol">(</a><a id="25653" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="25657" class="Symbol">(</a><a id="25658" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20834" class="Function">stepEFgasNeeded</a> <a id="25674" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25595" class="Bound">statefun</a><a id="25682" class="Symbol">))</a>
<a id="25685" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25405" class="Function">stepEFAuxCompare</a> <a id="25702" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25702" class="Bound">oldLedger</a> <a id="25712" class="Symbol">(</a><a id="25713" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="25721" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25721" class="Bound">ledger</a> <a id="25728" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25728" class="Bound">executionStack</a> <a id="25743" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25743" class="Bound">initialAddr</a> <a id="25755" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25755" class="Bound">lastCallAddr</a> <a id="25768" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25768" class="Bound">calledAddr</a> <a id="25779" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25779" class="Bound">nextstep</a>
                           <a id="25815" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25815" class="Bound">gasLeft</a>  <a id="25824" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25824" class="Bound">funNameevalState</a> <a id="25841" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25841" class="Bound">msgevalState</a> <a id="25854" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25854" class="Bound">amountSent</a> <a id="25865" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25865" class="Bound">listEvent</a><a id="25874" class="Symbol">)</a> <a id="25876" class="Symbol">(</a><a id="25877" href="libraries.natCompare.html#720" class="InductiveConstructor">greater</a> <a id="25885" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25885" class="Bound">x</a><a id="25886" class="Symbol">)</a>
        <a id="25896" class="Symbol">=</a> <a id="25898" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="25906" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25702" class="Bound">oldLedger</a> <a id="25916" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25728" class="Bound">executionStack</a> <a id="25931" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25743" class="Bound">initialAddr</a> <a id="25943" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25755" class="Bound">lastCallAddr</a> <a id="25956" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25768" class="Bound">calledAddr</a>
        <a id="25975" class="Symbol">(</a><a id="25976" href="Complex-Model.ccomand.ccommands-cresponse.html#1836" class="InductiveConstructor">error</a> <a id="25982" href="basicDataStructure.html#779" class="InductiveConstructor">outOfGasError</a> <a id="25996" href="basicDataStructure.html#892" class="InductiveConstructor Operator">⟨</a> <a id="25998" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25755" class="Bound">lastCallAddr</a> <a id="26011" href="basicDataStructure.html#892" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="26014" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25743" class="Bound">initialAddr</a> <a id="26026" href="basicDataStructure.html#892" class="InductiveConstructor Operator">∙</a> <a id="26028" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25824" class="Bound">funNameevalState</a> <a id="26045" href="basicDataStructure.html#892" class="InductiveConstructor Operator">[</a> <a id="26047" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25841" class="Bound">msgevalState</a> <a id="26060" href="basicDataStructure.html#892" class="InductiveConstructor Operator">]∙</a> <a id="26063" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25865" class="Bound">listEvent</a> <a id="26073" href="basicDataStructure.html#892" class="InductiveConstructor Operator">⟩</a><a id="26074" class="Symbol">)</a>
           <a id="26087" class="Number">0</a> <a id="26089" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25824" class="Bound">funNameevalState</a> <a id="26106" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25841" class="Bound">msgevalState</a> <a id="26119" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25854" class="Bound">amountSent</a> <a id="26130" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25865" class="Bound">listEvent</a>


<a id="26142" class="Comment">-- definition of stepEFwithGasError</a>
<a id="stepEFwithGasError"></a><a id="26178" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26178" class="Function">stepEFwithGasError</a> <a id="26197" class="Symbol">:</a> <a id="26199" class="Symbol">(</a><a id="26200" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26200" class="Bound">oldLedger</a> <a id="26210" class="Symbol">:</a> <a id="26212" href="libraries.Mainlibrary-new-version.html#1040" class="Function">Ledger</a><a id="26218" class="Symbol">)</a> <a id="26220" class="Symbol">→</a> <a id="26222" class="Symbol">(</a><a id="26223" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26223" class="Bound">evals</a> <a id="26229" class="Symbol">:</a> <a id="26231" href="libraries.Mainlibrary-new-version.html#1548" class="Record">StateExecFun</a><a id="26243" class="Symbol">)</a> <a id="26245" class="Symbol">→</a> <a id="26247" href="libraries.Mainlibrary-new-version.html#1548" class="Record">StateExecFun</a>
<a id="26260" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26178" class="Function">stepEFwithGasError</a> <a id="26279" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26279" class="Bound">oldLedger</a> <a id="26289" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26289" class="Bound">evals</a>  <a id="26296" class="Symbol">=</a> <a id="26298" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#25405" class="Function">stepEFAuxCompare</a> <a id="26315" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26279" class="Bound">oldLedger</a> <a id="26325" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26289" class="Bound">evals</a>
                                      <a id="26369" class="Symbol">(</a><a id="26370" href="libraries.natCompare.html#901" class="Function">compareLeq</a> <a id="26381" class="Symbol">(</a><a id="26382" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="26386" class="Symbol">(</a><a id="26387" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20834" class="Function">stepEFgasNeeded</a> <a id="26403" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26289" class="Bound">evals</a><a id="26408" class="Symbol">))</a>
                                      <a id="26449" class="Symbol">(</a><a id="26450" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#20481" class="Function">stepEFgasAvailable</a> <a id="26469" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26289" class="Bound">evals</a><a id="26474" class="Symbol">))</a>

<a id="26478" class="Comment">-- definition of stepEFntimes</a>
<a id="stepEFntimes"></a><a id="26508" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26508" class="Function">stepEFntimes</a> <a id="26521" class="Symbol">:</a> <a id="26523" href="libraries.Mainlibrary-new-version.html#1040" class="Function">Ledger</a> <a id="26530" class="Symbol">→</a> <a id="26532" href="libraries.Mainlibrary-new-version.html#1548" class="Record">StateExecFun</a> <a id="26545" class="Symbol">→</a> <a id="26547" class="Symbol">(</a><a id="26548" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26548" class="Bound">ntimes</a> <a id="26555" class="Symbol">:</a> <a id="26557" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="26558" class="Symbol">)</a> <a id="26560" class="Symbol">→</a> <a id="26562" href="libraries.Mainlibrary-new-version.html#1548" class="Record">StateExecFun</a>
<a id="26575" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26508" class="Function">stepEFntimes</a> <a id="26588" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26588" class="Bound">oldLedger</a> <a id="26598" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26598" class="Bound">ledgerstateexecfun</a> <a id="26617" class="Number">0</a>
             <a id="26632" class="Symbol">=</a> <a id="26634" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26598" class="Bound">ledgerstateexecfun</a>
<a id="26653" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26508" class="Function">stepEFntimes</a> <a id="26666" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26666" class="Bound">oldLedger</a> <a id="26676" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26676" class="Bound">ledgerstateexecfun</a> <a id="26695" class="Symbol">(</a><a id="26696" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="26700" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26700" class="Bound">n</a><a id="26701" class="Symbol">)</a>
             <a id="26716" class="Symbol">=</a> <a id="26718" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26178" class="Function">stepEFwithGasError</a> <a id="26737" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26666" class="Bound">oldLedger</a> <a id="26747" class="Symbol">(</a><a id="26748" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26508" class="Function">stepEFntimes</a> <a id="26761" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26666" class="Bound">oldLedger</a> <a id="26771" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26676" class="Bound">ledgerstateexecfun</a> <a id="26790" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26700" class="Bound">n</a><a id="26791" class="Symbol">)</a>
  


<a id="26798" class="Comment">-- definition of stepEFntimes list</a>
<a id="stepEFntimesList"></a><a id="26833" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26833" class="Function">stepEFntimesList</a> <a id="26850" class="Symbol">:</a> <a id="26852" href="libraries.Mainlibrary-new-version.html#1040" class="Function">Ledger</a> <a id="26859" class="Symbol">→</a> <a id="26861" href="libraries.Mainlibrary-new-version.html#1548" class="Record">StateExecFun</a> <a id="26874" class="Symbol">→</a> <a id="26876" class="Symbol">(</a><a id="26877" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26877" class="Bound">ntimes</a> <a id="26884" class="Symbol">:</a> <a id="26886" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="26887" class="Symbol">)</a> <a id="26889" class="Symbol">→</a> <a id="26891" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="26896" href="libraries.Mainlibrary-new-version.html#1548" class="Record">StateExecFun</a>
<a id="26909" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26833" class="Function">stepEFntimesList</a> <a id="26926" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26926" class="Bound">oldLedger</a> <a id="26936" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26936" class="Bound">ledgerstateexecfun</a> <a id="26955" class="Number">0</a>
                 <a id="26974" class="Symbol">=</a> <a id="26976" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26936" class="Bound">ledgerstateexecfun</a> <a id="26995" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="26997" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
<a id="27000" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26833" class="Function">stepEFntimesList</a> <a id="27017" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27017" class="Bound">oldLedger</a> <a id="27027" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27027" class="Bound">ledgerstateexecfun</a> <a id="27046" class="Symbol">(</a><a id="27047" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="27051" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27051" class="Bound">n</a><a id="27052" class="Symbol">)</a>
                 <a id="27071" class="Symbol">=</a> <a id="27073" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26508" class="Function">stepEFntimes</a> <a id="27086" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27017" class="Bound">oldLedger</a> <a id="27096" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27027" class="Bound">ledgerstateexecfun</a> <a id="27115" class="Symbol">(</a><a id="27116" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="27120" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27051" class="Bound">n</a><a id="27121" class="Symbol">)</a>
                   <a id="27142" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="27144" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26833" class="Function">stepEFntimesList</a> <a id="27161" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27017" class="Bound">oldLedger</a> <a id="27171" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27027" class="Bound">ledgerstateexecfun</a> <a id="27190" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27051" class="Bound">n</a>


<a id="27194" class="Comment">--this function below we use it to refund as a part of septEF</a>
<a id="27256" class="Comment">---- we use stepEFwithGasError instead of stepEF in refund and stepEFntimesWithRefund</a>
<a id="refund"></a><a id="27342" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27342" class="Function">refund</a> <a id="27349" class="Symbol">:</a> <a id="27351" href="libraries.Mainlibrary-new-version.html#1548" class="Record">StateExecFun</a> <a id="27364" class="Symbol">→</a> <a id="27366" href="libraries.Mainlibrary-new-version.html#1548" class="Record">StateExecFun</a>
<a id="27379" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27342" class="Function">refund</a> <a id="27386" class="Symbol">(</a><a id="27387" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="27395" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27395" class="Bound">currentLedger</a> <a id="27409" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="27412" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27412" class="Bound">initialAddr</a> <a id="27424" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27424" class="Bound">lastCallAddr</a> <a id="27437" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27437" class="Bound">calledAddr</a> <a id="27448" class="Symbol">(</a><a id="27449" href="Complex-Model.ccomand.ccommands-cresponse.html#1802" class="InductiveConstructor">return</a> <a id="27456" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27456" class="Bound">result</a><a id="27462" class="Symbol">)</a>
        <a id="27472" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27472" class="Bound">gasLeft</a>  <a id="27481" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27481" class="Bound">funNameevalState</a> <a id="27498" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27498" class="Bound">msgevalState</a> <a id="27511" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27511" class="Bound">amountSent</a> <a id="27522" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27522" class="Bound">listEvent</a><a id="27531" class="Symbol">)</a>
            <a id="27545" class="Symbol">=</a> <a id="27547" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="27555" class="Symbol">(</a><a id="27556" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3373" class="Function">addWeiToLedger</a> <a id="27571" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27395" class="Bound">currentLedger</a> <a id="27585" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27424" class="Bound">lastCallAddr</a> <a id="27598" class="Symbol">(</a><a id="27599" href="constantparameters.html#599" class="Function">GastoWei</a> <a id="27608" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#115" class="Bound">param</a> <a id="27614" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27472" class="Bound">gasLeft</a><a id="27621" class="Symbol">))</a>
              <a id="27638" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="27641" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27412" class="Bound">initialAddr</a> <a id="27653" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27424" class="Bound">lastCallAddr</a> <a id="27666" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27437" class="Bound">calledAddr</a> <a id="27677" class="Symbol">(</a><a id="27678" href="Complex-Model.ccomand.ccommands-cresponse.html#1802" class="InductiveConstructor">return</a> <a id="27685" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27456" class="Bound">result</a><a id="27691" class="Symbol">)</a>
               <a id="27708" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27472" class="Bound">gasLeft</a>
               <a id="27731" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27481" class="Bound">funNameevalState</a> <a id="27748" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27498" class="Bound">msgevalState</a> <a id="27761" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27511" class="Bound">amountSent</a> <a id="27772" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27522" class="Bound">listEvent</a>

<a id="27783" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27342" class="CatchallClause Function">refund</a><a id="27789" class="CatchallClause"> </a><a id="27790" class="CatchallClause Symbol">(</a><a id="27791" href="libraries.Mainlibrary-new-version.html#1587" class="CatchallClause InductiveConstructor">stateEF</a><a id="27798" class="CatchallClause"> </a><a id="27799" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27799" class="CatchallClause Bound">ledger</a><a id="27805" class="CatchallClause"> </a><a id="27806" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27806" class="CatchallClause Bound">executionStack</a><a id="27820" class="CatchallClause"> </a><a id="27821" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27821" class="CatchallClause Bound">initialAddr</a><a id="27832" class="CatchallClause"> </a><a id="27833" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27833" class="CatchallClause Bound">lastCallAddr</a><a id="27845" class="CatchallClause"> </a><a id="27846" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27846" class="CatchallClause Bound">calledAddr</a>
        <a id="27865" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27865" class="CatchallClause Bound">nextstep</a><a id="27873" class="CatchallClause"> </a><a id="27874" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27874" class="CatchallClause Bound">gasLeft</a><a id="27881" class="CatchallClause">  </a><a id="27883" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27883" class="CatchallClause Bound">funNameevalState</a><a id="27899" class="CatchallClause"> </a><a id="27900" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27900" class="CatchallClause Bound">msgevalState</a><a id="27912" class="CatchallClause"> </a><a id="27913" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27913" class="CatchallClause Bound">amountSent</a><a id="27923" class="CatchallClause"> </a><a id="27924" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27924" class="CatchallClause Bound">listEvent</a><a id="27933" class="CatchallClause Symbol">)</a>
            <a id="27947" class="Symbol">=</a> <a id="27949" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26178" class="Function">stepEFwithGasError</a> <a id="27968" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27799" class="Bound">ledger</a> <a id="27975" class="Symbol">(</a><a id="27976" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="27984" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27799" class="Bound">ledger</a> <a id="27991" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27806" class="Bound">executionStack</a>
              <a id="28020" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27821" class="Bound">initialAddr</a> <a id="28032" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27833" class="Bound">lastCallAddr</a> <a id="28045" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27846" class="Bound">calledAddr</a> <a id="28056" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27865" class="Bound">nextstep</a> <a id="28065" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27874" class="Bound">gasLeft</a>
                <a id="28089" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27883" class="Bound">funNameevalState</a> <a id="28106" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27900" class="Bound">msgevalState</a> <a id="28119" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27913" class="Bound">amountSent</a> <a id="28130" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27924" class="Bound">listEvent</a><a id="28139" class="Symbol">)</a>



<a id="stepEFntimesWithRefund"></a><a id="28144" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#28144" class="Function">stepEFntimesWithRefund</a> <a id="28167" class="Symbol">:</a> <a id="28169" href="libraries.Mainlibrary-new-version.html#1040" class="Function">Ledger</a> <a id="28176" class="Symbol">→</a> <a id="28178" href="libraries.Mainlibrary-new-version.html#1548" class="Record">StateExecFun</a> <a id="28191" class="Symbol">→</a> <a id="28193" class="Symbol">(</a><a id="28194" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#28194" class="Bound">ntimes</a> <a id="28201" class="Symbol">:</a> <a id="28203" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="28204" class="Symbol">)</a> <a id="28206" class="Symbol">→</a> <a id="28208" href="libraries.Mainlibrary-new-version.html#1548" class="Record">StateExecFun</a>
<a id="28221" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#28144" class="Function">stepEFntimesWithRefund</a> <a id="28244" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#28244" class="Bound">oldLedger</a> <a id="28254" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#28254" class="Bound">ledgerstateexecfun</a> <a id="28273" class="Number">0</a>
                       <a id="28298" class="Symbol">=</a> <a id="28300" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#28254" class="Bound">ledgerstateexecfun</a>
<a id="28319" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#28144" class="Function">stepEFntimesWithRefund</a> <a id="28342" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#28342" class="Bound">oldLedger</a> <a id="28352" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#28352" class="Bound">ledgerstateexecfun</a> <a id="28371" class="Symbol">(</a><a id="28372" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="28376" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#28376" class="Bound">n</a><a id="28377" class="Symbol">)</a>
                       <a id="28402" class="Symbol">=</a> <a id="28404" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#27342" class="Function">refund</a> <a id="28411" class="Symbol">(</a><a id="28412" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26508" class="Function">stepEFntimes</a> <a id="28425" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#28342" class="Bound">oldLedger</a> <a id="28435" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#28352" class="Bound">ledgerstateexecfun</a> <a id="28454" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#28376" class="Bound">n</a><a id="28455" class="Symbol">)</a>


<a id="28459" class="Comment">---## similar to above but we use it with the new version of stepEFwithGasError</a>
<a id="28539" class="Comment">--initialAddr lastCallAddr calledAddr</a>
<a id="stepLedgerFunntimesAux"></a><a id="28577" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#28577" class="Function">stepLedgerFunntimesAux</a> <a id="28600" class="Symbol">:</a> <a id="28602" class="Symbol">(</a><a id="28603" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#28603" class="Bound">ledger</a> <a id="28610" class="Symbol">:</a> <a id="28612" href="libraries.Mainlibrary-new-version.html#1040" class="Function">Ledger</a><a id="28618" class="Symbol">)</a> <a id="28620" class="Symbol">→</a> <a id="28622" class="Symbol">(</a><a id="28623" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#28623" class="Bound">initialAddr</a> <a id="28635" class="Symbol">:</a> <a id="28637" href="basicDataStructure.html#387" class="Function">Address</a><a id="28644" class="Symbol">)</a> <a id="28646" class="Symbol">→</a> <a id="28648" class="Symbol">(</a><a id="28649" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#28649" class="Bound">lastCallAddr</a> <a id="28662" class="Symbol">:</a> <a id="28664" href="basicDataStructure.html#387" class="Function">Address</a><a id="28671" class="Symbol">)</a> <a id="28673" class="Symbol">→</a> <a id="28675" class="Symbol">(</a><a id="28676" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#28676" class="Bound">calledAddr</a> <a id="28687" class="Symbol">:</a> <a id="28689" href="basicDataStructure.html#387" class="Function">Address</a><a id="28696" class="Symbol">)</a> <a id="28698" class="Symbol">→</a> <a id="28700" href="basicDataStructure.html#173" class="Function">FunctionName</a>
                        <a id="28737" class="Symbol">→</a> <a id="28739" href="basicDataStructure.html#511" class="Datatype">Msg</a>  <a id="28744" class="Symbol">→</a> <a id="28746" href="basicDataStructure.html#360" class="Function">Amount</a> <a id="28753" class="Symbol">→</a> <a id="28755" class="Symbol">(</a><a id="28756" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#28756" class="Bound">listEvent</a> <a id="28766" class="Symbol">:</a> <a id="28768" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="28773" href="Agda.Builtin.String.html#335" class="Postulate">String</a><a id="28779" class="Symbol">)</a> <a id="28781" class="Symbol">→</a> <a id="28783" class="Symbol">(</a><a id="28784" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#28784" class="Bound">gascost</a> <a id="28792" class="Symbol">:</a> <a id="28794" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="28795" class="Symbol">)</a>  <a id="28798" class="Symbol">→</a> <a id="28800" class="Symbol">(</a><a id="28801" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#28801" class="Bound">ntimes</a> <a id="28808" class="Symbol">:</a> <a id="28810" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="28811" class="Symbol">)</a>
                        <a id="28837" class="Symbol">→</a> <a id="28839" class="Symbol">(</a><a id="28840" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#28840" class="Bound">cp</a>  <a id="28844" class="Symbol">:</a> <a id="28846" href="libraries.natCompare.html#644" class="Datatype">OrderingLeq</a> <a id="28858" class="Symbol">(</a><a id="28859" href="constantparameters.html#599" class="Function">GastoWei</a> <a id="28868" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#115" class="Bound">param</a> <a id="28874" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#28784" class="Bound">gascost</a><a id="28881" class="Symbol">)</a> <a id="28883" class="Symbol">(</a><a id="28884" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#28603" class="Bound">ledger</a> <a id="28891" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#28649" class="Bound">lastCallAddr</a> <a id="28904" class="Symbol">.</a><a id="28905" href="libraries.Mainlibrary-new-version.html#827" class="Field">amount</a><a id="28911" class="Symbol">))</a>
                        <a id="28938" class="Symbol">→</a> <a id="28940" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="28946" href="libraries.Mainlibrary-new-version.html#1548" class="Record">StateExecFun</a>
<a id="28959" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#28577" class="Function">stepLedgerFunntimesAux</a> <a id="28982" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#28982" class="Bound">ledger</a> <a id="28989" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#28989" class="Bound">initialAddr</a> <a id="29001" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29001" class="Bound">lastCallAddr</a> <a id="29014" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29014" class="Bound">calledAddr</a> <a id="29025" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29025" class="Bound">funname</a> <a id="29033" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29033" class="Bound">msg</a> <a id="29037" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29037" class="Bound">amounttransfered</a> <a id="29054" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29054" class="Bound">listEvent</a> <a id="29064" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29064" class="Bound">gascost</a>  <a id="29073" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29073" class="Bound">ntimes</a>  <a id="29081" class="Symbol">(</a><a id="29082" href="libraries.natCompare.html#682" class="InductiveConstructor">leq</a> <a id="29086" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29086" class="Bound">leqpro</a><a id="29092" class="Symbol">)</a>
                             <a id="29123" class="Symbol">=</a> <a id="29125" class="Keyword">let</a>
                                 <a id="29162" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29162" class="Bound">ledgerDeducted</a> <a id="29177" class="Symbol">:</a> <a id="29179" href="libraries.Mainlibrary-new-version.html#1040" class="Function">Ledger</a>
                                 <a id="29219" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29162" class="Bound">ledgerDeducted</a> <a id="29234" class="Symbol">=</a> <a id="29236" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2543" class="Function">deductGasFromLedger</a> <a id="29256" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#28982" class="Bound">ledger</a> <a id="29263" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29001" class="Bound">lastCallAddr</a> <a id="29276" class="Symbol">(</a><a id="29277" href="constantparameters.html#599" class="Function">GastoWei</a> <a id="29286" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#115" class="Bound">param</a> <a id="29292" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29064" class="Bound">gascost</a><a id="29299" class="Symbol">)</a> <a id="29301" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29086" class="Bound">leqpro</a>
                               <a id="29339" class="Keyword">in</a> <a id="29342" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="29347" class="Symbol">((</a><a id="29349" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26508" class="Function">stepEFntimes</a> <a id="29362" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29162" class="Bound">ledgerDeducted</a>
                               <a id="29408" class="Symbol">(</a><a id="29409" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="29417" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29162" class="Bound">ledgerDeducted</a> <a id="29432" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="29435" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#28989" class="Bound">initialAddr</a> <a id="29447" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29001" class="Bound">lastCallAddr</a> <a id="29460" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29014" class="Bound">calledAddr</a>
                               <a id="29502" class="Symbol">(</a><a id="29503" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29162" class="Bound">ledgerDeducted</a> <a id="29518" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29014" class="Bound">calledAddr</a> <a id="29529" class="Symbol">.</a><a id="29530" href="libraries.Mainlibrary-new-version.html#847" class="Field">fun</a> <a id="29534" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29025" class="Bound">funname</a> <a id="29542" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29033" class="Bound">msg</a><a id="29545" class="Symbol">)</a>
                               <a id="29578" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29064" class="Bound">gascost</a> <a id="29586" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29025" class="Bound">funname</a> <a id="29594" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29033" class="Bound">msg</a> <a id="29598" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29037" class="Bound">amounttransfered</a> <a id="29615" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29054" class="Bound">listEvent</a><a id="29624" class="Symbol">)</a>
                               <a id="29657" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29073" class="Bound">ntimes</a><a id="29663" class="Symbol">))</a>

<a id="29667" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#28577" class="Function">stepLedgerFunntimesAux</a> <a id="29690" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29690" class="Bound">ledger</a> <a id="29697" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29697" class="Bound">initialAddr</a> <a id="29709" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29709" class="Bound">lastCallAddr</a> <a id="29722" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29722" class="Bound">calledAddr</a> <a id="29733" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29733" class="Bound">funname</a> <a id="29741" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29741" class="Bound">msg</a> <a id="29745" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29745" class="Bound">amounttransfered</a> <a id="29762" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29762" class="Bound">listEvent</a> <a id="29772" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29772" class="Bound">gascost</a> <a id="29780" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29780" class="Bound">ntimes</a> <a id="29787" class="Symbol">(</a><a id="29788" href="libraries.natCompare.html#720" class="InductiveConstructor">greater</a> <a id="29796" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#29796" class="Bound">greaterpro</a><a id="29806" class="Symbol">)</a>
                             <a id="29837" class="Symbol">=</a> <a id="29839" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>



<a id="29850" class="Comment">--stepLedgerFunntimesAux ledger callAddr currentAddr funname msg gasreserved ntimes</a>
<a id="29934" class="Comment">--                       (compareLeq (GastoWei param gasreserved) (ledger callAddr .amount))</a>
<a id="30027" class="Comment">-- NNN here we need before running stepEFntimes  deduct the gas from ledger</a>
<a id="30103" class="Comment">-- NNN    it needs as argument just one gas parameter which is set to both oldgas and newgas</a>
<a id="30196" class="Comment">-- NNN    if there is not enough money in the account, then we should fail (not an error but fail)</a>
<a id="30295" class="Comment">-- NNN    so return type  should be Maybe StateExecFun</a>

<a id="stepLedgerFunntimes"></a><a id="30351" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#30351" class="Function">stepLedgerFunntimes</a> <a id="30371" class="Symbol">:</a> <a id="30373" class="Symbol">(</a><a id="30374" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#30374" class="Bound">ledger</a> <a id="30381" class="Symbol">:</a> <a id="30383" href="libraries.Mainlibrary-new-version.html#1040" class="Function">Ledger</a><a id="30389" class="Symbol">)</a>
                      <a id="30413" class="Symbol">→</a> <a id="30415" class="Symbol">(</a><a id="30416" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#30416" class="Bound">initialAddr</a> <a id="30428" class="Symbol">:</a> <a id="30430" href="basicDataStructure.html#387" class="Function">Address</a><a id="30437" class="Symbol">)</a>
                      <a id="30461" class="Symbol">→</a> <a id="30463" class="Symbol">(</a><a id="30464" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#30464" class="Bound">lastCallAddr</a> <a id="30477" class="Symbol">:</a> <a id="30479" href="basicDataStructure.html#387" class="Function">Address</a><a id="30486" class="Symbol">)</a>
                      <a id="30510" class="Symbol">→</a> <a id="30512" class="Symbol">(</a><a id="30513" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#30513" class="Bound">calledAddr</a> <a id="30524" class="Symbol">:</a> <a id="30526" href="basicDataStructure.html#387" class="Function">Address</a><a id="30533" class="Symbol">)</a>
                      <a id="30557" class="Symbol">→</a> <a id="30559" href="basicDataStructure.html#173" class="Function">FunctionName</a>
                      <a id="30594" class="Symbol">→</a> <a id="30596" href="basicDataStructure.html#511" class="Datatype">Msg</a>
                      <a id="30622" class="Symbol">→</a> <a id="30624" href="basicDataStructure.html#360" class="Function">Amount</a>
                      <a id="30653" class="Symbol">→</a> <a id="30655" class="Symbol">(</a><a id="30656" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#30656" class="Bound">listEvent</a> <a id="30666" class="Symbol">:</a> <a id="30668" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="30673" href="Agda.Builtin.String.html#335" class="Postulate">String</a><a id="30679" class="Symbol">)</a>                      
                      <a id="30725" class="Symbol">→</a> <a id="30727" class="Symbol">(</a><a id="30728" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#30728" class="Bound">gasreserved</a> <a id="30740" class="Symbol">:</a> <a id="30742" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="30743" class="Symbol">)</a>
                      <a id="30767" class="Symbol">→</a> <a id="30769" class="Symbol">(</a><a id="30770" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#30770" class="Bound">ntimes</a> <a id="30777" class="Symbol">:</a> <a id="30779" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="30780" class="Symbol">)</a>
                      <a id="30804" class="Symbol">→</a> <a id="30806" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="30812" href="libraries.Mainlibrary-new-version.html#1548" class="Record">StateExecFun</a>
<a id="30825" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#30351" class="Function">stepLedgerFunntimes</a> <a id="30845" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#30845" class="Bound">ledger</a> <a id="30852" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#30852" class="Bound">initialAddr</a> <a id="30864" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#30864" class="Bound">lastCallAddr</a> <a id="30877" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#30877" class="Bound">calledAddr</a> <a id="30888" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#30888" class="Bound">funname</a> <a id="30896" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#30896" class="Bound">msg</a> <a id="30900" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#30900" class="Bound">amounttransfered</a> <a id="30917" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#30917" class="Bound">listEvent</a> <a id="30927" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#30927" class="Bound">gasreserved</a>  <a id="30940" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#30940" class="Bound">ntimes</a>
                     <a id="30968" class="Symbol">=</a> <a id="30970" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#28577" class="Function">stepLedgerFunntimesAux</a> <a id="30993" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#30845" class="Bound">ledger</a> <a id="31000" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#30852" class="Bound">initialAddr</a> <a id="31012" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#30864" class="Bound">lastCallAddr</a> <a id="31025" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#30877" class="Bound">calledAddr</a>
                       <a id="31059" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#30888" class="Bound">funname</a> <a id="31067" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#30896" class="Bound">msg</a> <a id="31071" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#30900" class="Bound">amounttransfered</a> <a id="31088" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#30917" class="Bound">listEvent</a> <a id="31098" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#30927" class="Bound">gasreserved</a>  <a id="31111" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#30940" class="Bound">ntimes</a>
                       <a id="31141" class="Symbol">(</a><a id="31142" href="libraries.natCompare.html#901" class="Function">compareLeq</a> <a id="31153" class="Symbol">(</a><a id="31154" href="constantparameters.html#599" class="Function">GastoWei</a> <a id="31163" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#115" class="Bound">param</a> <a id="31169" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#30927" class="Bound">gasreserved</a><a id="31180" class="Symbol">)</a> <a id="31182" class="Symbol">(</a><a id="31183" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#30845" class="Bound">ledger</a> <a id="31190" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#30864" class="Bound">lastCallAddr</a> <a id="31203" class="Symbol">.</a><a id="31204" href="libraries.Mainlibrary-new-version.html#827" class="Field">amount</a><a id="31210" class="Symbol">))</a>


<a id="31215" class="Comment">--with list</a>
<a id="stepLedgerFunntimesListAux"></a><a id="31227" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31227" class="Function">stepLedgerFunntimesListAux</a> <a id="31254" class="Symbol">:</a> <a id="31256" class="Symbol">(</a><a id="31257" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31257" class="Bound">ledger</a> <a id="31264" class="Symbol">:</a> <a id="31266" href="libraries.Mainlibrary-new-version.html#1040" class="Function">Ledger</a><a id="31272" class="Symbol">)</a>
                           <a id="31301" class="Symbol">→</a> <a id="31303" class="Symbol">(</a><a id="31304" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31304" class="Bound">initialAddr</a> <a id="31316" class="Symbol">:</a> <a id="31318" href="basicDataStructure.html#387" class="Function">Address</a><a id="31325" class="Symbol">)</a>
                           <a id="31354" class="Symbol">→</a> <a id="31356" class="Symbol">(</a><a id="31357" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31357" class="Bound">lastCallAddr</a> <a id="31370" class="Symbol">:</a> <a id="31372" href="basicDataStructure.html#387" class="Function">Address</a><a id="31379" class="Symbol">)</a>
                           <a id="31408" class="Symbol">→</a> <a id="31410" class="Symbol">(</a><a id="31411" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31411" class="Bound">calledAddr</a> <a id="31422" class="Symbol">:</a> <a id="31424" href="basicDataStructure.html#387" class="Function">Address</a><a id="31431" class="Symbol">)</a>
                           <a id="31460" class="Symbol">→</a> <a id="31462" href="basicDataStructure.html#173" class="Function">FunctionName</a>
                           <a id="31502" class="Symbol">→</a> <a id="31504" href="basicDataStructure.html#511" class="Datatype">Msg</a>
                           <a id="31535" class="Symbol">→</a> <a id="31537" href="basicDataStructure.html#360" class="Function">Amount</a>
                           <a id="31571" class="Symbol">→</a> <a id="31573" class="Symbol">(</a><a id="31574" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31574" class="Bound">listEvent</a> <a id="31584" class="Symbol">:</a> <a id="31586" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="31591" href="Agda.Builtin.String.html#335" class="Postulate">String</a><a id="31597" class="Symbol">)</a>
                           <a id="31626" class="Symbol">→</a> <a id="31628" class="Symbol">(</a><a id="31629" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31629" class="Bound">gasreserved</a> <a id="31641" class="Symbol">:</a> <a id="31643" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="31644" class="Symbol">)</a>
                           <a id="31673" class="Symbol">→</a> <a id="31675" class="Symbol">(</a><a id="31676" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31676" class="Bound">ntimes</a> <a id="31683" class="Symbol">:</a> <a id="31685" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="31686" class="Symbol">)</a>
                           <a id="31715" class="Symbol">→</a> <a id="31717" class="Symbol">(</a><a id="31718" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31718" class="Bound">cp</a>  <a id="31722" class="Symbol">:</a> <a id="31724" href="libraries.natCompare.html#644" class="Datatype">OrderingLeq</a> <a id="31736" class="Symbol">(</a><a id="31737" href="constantparameters.html#599" class="Function">GastoWei</a> <a id="31746" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#115" class="Bound">param</a> <a id="31752" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31629" class="Bound">gasreserved</a><a id="31763" class="Symbol">)</a> <a id="31765" class="Symbol">(</a><a id="31766" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31257" class="Bound">ledger</a> <a id="31773" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31357" class="Bound">lastCallAddr</a> <a id="31786" class="Symbol">.</a><a id="31787" href="libraries.Mainlibrary-new-version.html#827" class="Field">amount</a><a id="31793" class="Symbol">))</a>
                           <a id="31823" class="Symbol">→</a> <a id="31825" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="31831" class="Symbol">(</a><a id="31832" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="31837" href="libraries.Mainlibrary-new-version.html#1548" class="Record">StateExecFun</a><a id="31849" class="Symbol">)</a>
<a id="31851" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31227" class="Function">stepLedgerFunntimesListAux</a> <a id="31878" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31878" class="Bound">ledger</a> <a id="31885" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31885" class="Bound">initialAddr</a> <a id="31897" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31897" class="Bound">lastCallAddr</a> <a id="31910" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31910" class="Bound">calledAddr</a> <a id="31921" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31921" class="Bound">funname</a> <a id="31929" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31929" class="Bound">msg</a> <a id="31933" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31933" class="Bound">amounttransfered</a> <a id="31950" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31950" class="Bound">listEvent</a> <a id="31960" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31960" class="Bound">gasreserved</a>  <a id="31973" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31973" class="Bound">ntimes</a> <a id="31980" class="Symbol">(</a><a id="31981" href="libraries.natCompare.html#682" class="InductiveConstructor">leq</a> <a id="31985" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31985" class="Bound">leqpro</a><a id="31991" class="Symbol">)</a>
                            <a id="32021" class="Symbol">=</a> <a id="32023" class="Keyword">let</a>
                               <a id="32058" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#32058" class="Bound">ledgerDeducted</a> <a id="32073" class="Symbol">:</a> <a id="32075" href="libraries.Mainlibrary-new-version.html#1040" class="Function">Ledger</a>
                               <a id="32113" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#32058" class="Bound">ledgerDeducted</a> <a id="32128" class="Symbol">=</a> <a id="32130" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#2543" class="Function">deductGasFromLedger</a> <a id="32150" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31878" class="Bound">ledger</a> <a id="32157" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31897" class="Bound">lastCallAddr</a> <a id="32170" class="Symbol">(</a><a id="32171" href="constantparameters.html#599" class="Function">GastoWei</a> <a id="32180" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#115" class="Bound">param</a> <a id="32186" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31960" class="Bound">gasreserved</a><a id="32197" class="Symbol">)</a> <a id="32199" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31985" class="Bound">leqpro</a>
                            <a id="32234" class="Keyword">in</a>
                              <a id="32267" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="32272" class="Symbol">((</a><a id="32274" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#26833" class="Function">stepEFntimesList</a> <a id="32291" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#32058" class="Bound">ledgerDeducted</a>
                                   <a id="32341" class="Symbol">(</a><a id="32342" href="libraries.Mainlibrary-new-version.html#1587" class="InductiveConstructor">stateEF</a> <a id="32350" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#32058" class="Bound">ledgerDeducted</a> <a id="32365" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="32368" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31885" class="Bound">initialAddr</a> <a id="32380" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31897" class="Bound">lastCallAddr</a> <a id="32393" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31910" class="Bound">calledAddr</a>
                                   <a id="32439" class="Symbol">(</a><a id="32440" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#32058" class="Bound">ledgerDeducted</a> <a id="32455" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31910" class="Bound">calledAddr</a> <a id="32466" class="Symbol">.</a><a id="32467" href="libraries.Mainlibrary-new-version.html#847" class="Field">fun</a> <a id="32471" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31921" class="Bound">funname</a> <a id="32479" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31929" class="Bound">msg</a><a id="32482" class="Symbol">)</a> <a id="32484" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31960" class="Bound">gasreserved</a> <a id="32496" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31921" class="Bound">funname</a> <a id="32504" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31929" class="Bound">msg</a> <a id="32508" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31933" class="Bound">amounttransfered</a> <a id="32525" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31950" class="Bound">listEvent</a><a id="32534" class="Symbol">)</a> <a id="32536" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31973" class="Bound">ntimes</a><a id="32542" class="Symbol">))</a>
<a id="32545" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31227" class="Function">stepLedgerFunntimesListAux</a> <a id="32572" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#32572" class="Bound">ledger</a> <a id="32579" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#32579" class="Bound">initialAddr</a> <a id="32591" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#32591" class="Bound">lastCallAddr</a> <a id="32604" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#32604" class="Bound">calledAddr</a> <a id="32615" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#32615" class="Bound">funname</a> <a id="32623" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#32623" class="Bound">msg</a> <a id="32627" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#32627" class="Bound">amounttransfered</a> <a id="32644" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#32644" class="Bound">listEvent</a> <a id="32654" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#32654" class="Bound">gasreserved</a> <a id="32666" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#32666" class="Bound">ntimes</a> <a id="32673" class="Symbol">(</a><a id="32674" href="libraries.natCompare.html#720" class="InductiveConstructor">greater</a> <a id="32682" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#32682" class="Bound">greaterpro</a><a id="32692" class="Symbol">)</a>
                            <a id="32722" class="Symbol">=</a> <a id="32724" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>


<a id="stepLedgerFunntimesList"></a><a id="32734" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#32734" class="Function">stepLedgerFunntimesList</a> <a id="32758" class="Symbol">:</a> <a id="32760" class="Symbol">(</a><a id="32761" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#32761" class="Bound">ledger</a> <a id="32768" class="Symbol">:</a> <a id="32770" href="libraries.Mainlibrary-new-version.html#1040" class="Function">Ledger</a><a id="32776" class="Symbol">)</a>
                          <a id="32804" class="Symbol">→</a> <a id="32806" class="Symbol">(</a><a id="32807" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#32807" class="Bound">initialAddr</a> <a id="32819" class="Symbol">:</a> <a id="32821" href="basicDataStructure.html#387" class="Function">Address</a><a id="32828" class="Symbol">)</a>
                          <a id="32856" class="Symbol">→</a> <a id="32858" class="Symbol">(</a><a id="32859" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#32859" class="Bound">lastCallAddr</a> <a id="32872" class="Symbol">:</a> <a id="32874" href="basicDataStructure.html#387" class="Function">Address</a><a id="32881" class="Symbol">)</a>
                          <a id="32909" class="Symbol">→</a> <a id="32911" class="Symbol">(</a><a id="32912" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#32912" class="Bound">calledAddr</a> <a id="32923" class="Symbol">:</a> <a id="32925" href="basicDataStructure.html#387" class="Function">Address</a><a id="32932" class="Symbol">)</a>
                          <a id="32960" class="Symbol">→</a> <a id="32962" class="Symbol">(</a><a id="32963" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#32963" class="Bound">funname</a> <a id="32971" class="Symbol">:</a> <a id="32973" href="basicDataStructure.html#173" class="Function">FunctionName</a><a id="32985" class="Symbol">)</a>
                          <a id="33013" class="Symbol">→</a> <a id="33015" class="Symbol">(</a><a id="33016" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#33016" class="Bound">msg</a> <a id="33020" class="Symbol">:</a> <a id="33022" href="basicDataStructure.html#511" class="Datatype">Msg</a><a id="33025" class="Symbol">)</a>
                          <a id="33053" class="Symbol">→</a> <a id="33055" class="Symbol">(</a><a id="33056" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#33056" class="Bound">amounttransfered</a> <a id="33073" class="Symbol">:</a> <a id="33075" href="basicDataStructure.html#360" class="Function">Amount</a><a id="33081" class="Symbol">)</a>
                          <a id="33109" class="Symbol">→</a> <a id="33111" class="Symbol">(</a><a id="33112" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#33112" class="Bound">listEvent</a> <a id="33122" class="Symbol">:</a> <a id="33124" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="33129" href="Agda.Builtin.String.html#335" class="Postulate">String</a><a id="33135" class="Symbol">)</a>
                          <a id="33163" class="Symbol">→</a> <a id="33165" class="Symbol">(</a><a id="33166" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#33166" class="Bound">gasreserved</a> <a id="33178" class="Symbol">:</a> <a id="33180" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="33181" class="Symbol">)</a>
                          <a id="33209" class="Symbol">→</a> <a id="33211" class="Symbol">(</a><a id="33212" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#33212" class="Bound">ntimes</a> <a id="33219" class="Symbol">:</a> <a id="33221" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="33222" class="Symbol">)</a>
                          <a id="33250" class="Symbol">→</a> <a id="33252" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="33258" class="Symbol">(</a><a id="33259" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="33264" href="libraries.Mainlibrary-new-version.html#1548" class="Record">StateExecFun</a><a id="33276" class="Symbol">)</a>
<a id="33278" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#32734" class="Function">stepLedgerFunntimesList</a> <a id="33302" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#33302" class="Bound">ledger</a> <a id="33309" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#33309" class="Bound">initialAddr</a> <a id="33321" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#33321" class="Bound">lastCallAddr</a> <a id="33334" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#33334" class="Bound">calledAddr</a> <a id="33345" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#33345" class="Bound">funname</a> <a id="33353" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#33353" class="Bound">msg</a> <a id="33357" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#33357" class="Bound">amounttransfered</a> <a id="33374" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#33374" class="Bound">listEvent</a> <a id="33384" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#33384" class="Bound">gasreserved</a>  <a id="33397" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#33397" class="Bound">ntimes</a>
                        <a id="33428" class="Symbol">=</a> <a id="33430" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#31227" class="Function">stepLedgerFunntimesListAux</a> <a id="33457" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#33302" class="Bound">ledger</a> <a id="33464" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#33309" class="Bound">initialAddr</a> <a id="33476" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#33321" class="Bound">lastCallAddr</a> <a id="33489" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#33334" class="Bound">calledAddr</a> <a id="33500" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#33345" class="Bound">funname</a> <a id="33508" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#33353" class="Bound">msg</a> <a id="33512" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#33357" class="Bound">amounttransfered</a> <a id="33529" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#33374" class="Bound">listEvent</a> <a id="33539" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#33384" class="Bound">gasreserved</a>  <a id="33552" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#33397" class="Bound">ntimes</a>
                       <a id="33582" class="Symbol">(</a><a id="33583" href="libraries.natCompare.html#901" class="Function">compareLeq</a> <a id="33594" class="Symbol">(</a><a id="33595" href="constantparameters.html#599" class="Function">GastoWei</a> <a id="33604" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#115" class="Bound">param</a> <a id="33610" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#33384" class="Bound">gasreserved</a><a id="33621" class="Symbol">)</a> <a id="33623" class="Symbol">(</a><a id="33624" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#33302" class="Bound">ledger</a> <a id="33631" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#33321" class="Bound">lastCallAddr</a> <a id="33644" class="Symbol">.</a><a id="33645" href="libraries.Mainlibrary-new-version.html#827" class="Field">amount</a><a id="33651" class="Symbol">))</a>



<a id="33657" class="Comment">-- the below is the final step and we use it to solve the return cost</a>

<a id="evaluateAuxfinalStep3"></a><a id="33728" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#33728" class="Function">evaluateAuxfinalStep3</a> <a id="33750" class="Symbol">:</a> <a id="33752" class="Symbol">(</a><a id="33753" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#33753" class="Bound">oldLedger</a> <a id="33763" class="Symbol">:</a> <a id="33765" href="libraries.Mainlibrary-new-version.html#1040" class="Function">Ledger</a><a id="33771" class="Symbol">)</a>
                          <a id="33799" class="Symbol">→</a> <a id="33801" class="Symbol">(</a><a id="33802" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#33802" class="Bound">currentLedger</a> <a id="33816" class="Symbol">:</a> <a id="33818" href="libraries.Mainlibrary-new-version.html#1040" class="Function">Ledger</a><a id="33824" class="Symbol">)</a>
                          <a id="33852" class="Symbol">→</a> <a id="33854" class="Symbol">(</a><a id="33855" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#33855" class="Bound">initialAddr</a> <a id="33867" class="Symbol">:</a> <a id="33869" href="basicDataStructure.html#387" class="Function">Address</a><a id="33876" class="Symbol">)</a>
                          <a id="33904" class="Symbol">→</a> <a id="33906" class="Symbol">(</a><a id="33907" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#33907" class="Bound">lastCallAddr</a> <a id="33920" class="Symbol">:</a> <a id="33922" href="basicDataStructure.html#387" class="Function">Address</a><a id="33929" class="Symbol">)</a>
                          <a id="33957" class="Symbol">→</a> <a id="33959" class="Symbol">(</a><a id="33960" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#33960" class="Bound">calledAddr</a> <a id="33971" class="Symbol">:</a> <a id="33973" href="basicDataStructure.html#387" class="Function">Address</a><a id="33980" class="Symbol">)</a>
                          <a id="34008" class="Symbol">→</a> <a id="34010" class="Symbol">(</a><a id="34011" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34011" class="Bound">cost</a> <a id="34016" class="Symbol">:</a> <a id="34018" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="34019" class="Symbol">)</a>
                          <a id="34047" class="Symbol">→</a> <a id="34049" class="Symbol">(</a><a id="34050" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34050" class="Bound">returnvalue</a> <a id="34062" class="Symbol">:</a> <a id="34064" href="basicDataStructure.html#511" class="Datatype">Msg</a><a id="34067" class="Symbol">)</a>
                          <a id="34095" class="Symbol">→</a> <a id="34097" class="Symbol">(</a><a id="34098" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34098" class="Bound">gasLeft</a> <a id="34106" class="Symbol">:</a> <a id="34108" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="34109" class="Symbol">)</a>
                          <a id="34137" class="Symbol">→</a> <a id="34139" class="Symbol">(</a><a id="34140" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34140" class="Bound">funNameevalState</a> <a id="34157" class="Symbol">:</a> <a id="34159" href="basicDataStructure.html#173" class="Function">FunctionName</a><a id="34171" class="Symbol">)</a>
                          <a id="34199" class="Symbol">→</a> <a id="34201" class="Symbol">(</a><a id="34202" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34202" class="Bound">msgevalState</a> <a id="34215" class="Symbol">:</a> <a id="34217" href="basicDataStructure.html#511" class="Datatype">Msg</a><a id="34220" class="Symbol">)</a>
                          <a id="34248" class="Symbol">→</a> <a id="34250" class="Symbol">(</a><a id="34251" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34251" class="Bound">amountReceived</a> <a id="34266" class="Symbol">:</a> <a id="34268" href="basicDataStructure.html#360" class="Function">Amount</a><a id="34274" class="Symbol">)</a>
                          <a id="34302" class="Symbol">→</a> <a id="34304" class="Symbol">(</a><a id="34305" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34305" class="Bound">listEvent</a> <a id="34315" class="Symbol">:</a> <a id="34317" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="34322" href="Agda.Builtin.String.html#335" class="Postulate">String</a><a id="34328" class="Symbol">)</a>
                          <a id="34356" class="Symbol">→</a> <a id="34358" class="Symbol">(</a><a id="34359" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34359" class="Bound">cp</a>  <a id="34363" class="Symbol">:</a> <a id="34365" href="libraries.natCompare.html#644" class="Datatype">OrderingLeq</a> <a id="34377" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34011" class="Bound">cost</a> <a id="34382" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34098" class="Bound">gasLeft</a><a id="34389" class="Symbol">)</a>
                          <a id="34417" class="Symbol">→</a> <a id="34419" class="Symbol">(</a><a id="34420" href="libraries.Mainlibrary-new-version.html#1040" class="Function">Ledger</a> <a id="34427" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="34429" href="basicDataStructure.html#1700" class="Record">MsgOrErrorWithGas</a><a id="34446" class="Symbol">)</a>
<a id="34448" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#33728" class="Function">evaluateAuxfinalStep3</a> <a id="34470" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34470" class="Bound">oldLedger</a> <a id="34480" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34480" class="Bound">currentLedger</a> <a id="34494" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34494" class="Bound">initialAddr</a> <a id="34506" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34506" class="Bound">lastCallAddr</a> <a id="34519" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34519" class="Bound">calledAddr</a> <a id="34530" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34530" class="Bound">cost</a> <a id="34535" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34535" class="Bound">ms</a> <a id="34538" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34538" class="Bound">gasLeft</a> <a id="34546" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34546" class="Bound">funNameevalState</a> <a id="34563" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34563" class="Bound">msgevalState</a> <a id="34576" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34576" class="Bound">amountReceived</a> <a id="34591" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34591" class="Bound">listEvent</a> <a id="34601" class="Symbol">(</a><a id="34602" href="libraries.natCompare.html#682" class="InductiveConstructor">leq</a> <a id="34606" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34606" class="Bound">x</a><a id="34607" class="Symbol">)</a>
                               <a id="34640" class="Symbol">=</a>  <a id="34643" class="Symbol">(</a><a id="34644" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#3373" class="Function">addWeiToLedger</a> <a id="34659" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34480" class="Bound">currentLedger</a> <a id="34673" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34494" class="Bound">initialAddr</a>
                                   <a id="34720" class="Symbol">(</a><a id="34721" href="constantparameters.html#599" class="Function">GastoWei</a> <a id="34730" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#115" class="Bound">param</a> <a id="34736" class="Symbol">(</a><a id="34737" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34538" class="Bound">gasLeft</a> <a id="34745" href="Agda.Builtin.Nat.html#426" class="Primitive Operator">-</a> <a id="34747" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34530" class="Bound">cost</a><a id="34751" class="Symbol">)))</a> <a id="34755" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#490" class="InductiveConstructor Operator">,,</a> <a id="34758" class="Symbol">((</a><a id="34760" href="basicDataStructure.html#1587" class="InductiveConstructor">theMsg</a> <a id="34767" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34535" class="Bound">ms</a><a id="34769" class="Symbol">)</a> <a id="34771" href="basicDataStructure.html#1751" class="InductiveConstructor Operator">,</a> <a id="34773" class="Symbol">((</a><a id="34775" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34538" class="Bound">gasLeft</a> <a id="34783" href="Agda.Builtin.Nat.html#426" class="Primitive Operator">-</a> <a id="34785" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34530" class="Bound">cost</a><a id="34789" class="Symbol">))</a> <a id="34792" href="basicDataStructure.html#1751" class="InductiveConstructor Operator">gas,</a> <a id="34797" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34591" class="Bound">listEvent</a><a id="34806" class="Symbol">)</a>
                              
<a id="34839" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#33728" class="Function">evaluateAuxfinalStep3</a> <a id="34861" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34861" class="Bound">oldLedger</a> <a id="34871" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34871" class="Bound">currentLedger</a> <a id="34885" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34885" class="Bound">initialAddr</a> <a id="34897" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34897" class="Bound">lastCallAddr</a> <a id="34910" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34910" class="Bound">calledAddr</a> <a id="34921" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34921" class="Bound">cost</a> <a id="34926" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34926" class="Bound">returnvalue</a> <a id="34938" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34938" class="Bound">gasLeft</a> <a id="34946" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34946" class="Bound">funNameevalState</a> <a id="34963" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34963" class="Bound">msgevalState</a> <a id="34976" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34976" class="Bound">amountReceived</a> <a id="34991" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34991" class="Bound">listEvent</a> <a id="35001" class="Symbol">(</a><a id="35002" href="libraries.natCompare.html#720" class="InductiveConstructor">greater</a> <a id="35010" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#35010" class="Bound">x</a><a id="35011" class="Symbol">)</a>
                               <a id="35044" class="Symbol">=</a> <a id="35046" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34861" class="Bound">oldLedger</a> <a id="35056" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#490" class="InductiveConstructor Operator">,,</a> <a id="35059" class="Symbol">(((</a><a id="35062" href="basicDataStructure.html#1615" class="InductiveConstructor">err</a> <a id="35066" class="Symbol">(</a><a id="35067" href="basicDataStructure.html#697" class="InductiveConstructor">strErr</a> <a id="35074" class="String">&quot; Out Of Gass &quot;</a><a id="35089" class="Symbol">)</a>
                                 <a id="35124" href="basicDataStructure.html#892" class="InductiveConstructor Operator">⟨</a> <a id="35126" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34897" class="Bound">lastCallAddr</a> <a id="35139" href="basicDataStructure.html#892" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="35142" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34885" class="Bound">initialAddr</a> <a id="35154" href="basicDataStructure.html#892" class="InductiveConstructor Operator">∙</a> <a id="35156" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34946" class="Bound">funNameevalState</a> <a id="35173" href="basicDataStructure.html#892" class="InductiveConstructor Operator">[</a> <a id="35175" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34963" class="Bound">msgevalState</a> <a id="35188" href="basicDataStructure.html#892" class="InductiveConstructor Operator">]∙</a> <a id="35191" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34991" class="Bound">listEvent</a> <a id="35201" href="basicDataStructure.html#892" class="InductiveConstructor Operator">⟩</a><a id="35202" class="Symbol">)</a> <a id="35204" href="basicDataStructure.html#1751" class="InductiveConstructor Operator">,</a> <a id="35206" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34938" class="Bound">gasLeft</a> <a id="35214" href="basicDataStructure.html#1751" class="InductiveConstructor Operator">gas,</a> <a id="35219" href="Complex-Model.ledgerversion.Ledger-Complex-Model-with-reentrancy-attack.html#34991" class="Bound">listEvent</a><a id="35228" class="Symbol">))</a>





























</pre></body></html>