<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Complex-Model.terminating.example.executedvotingexample-multi-candidates</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="constantparameters.html" class="Module">constantparameters</a>

<a id="33" class="Keyword">module</a> <a id="40" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html" class="Module">Complex-Model.terminating.example.executedvotingexample-multi-candidates</a>  <a id="114" class="Keyword">where</a>
<a id="120" class="Keyword">open</a> <a id="125" class="Keyword">import</a> <a id="132" href="Data.List.html" class="Module">Data.List</a>
<a id="142" class="Keyword">open</a> <a id="147" class="Keyword">import</a> <a id="154" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a> 
<a id="170" class="Keyword">open</a> <a id="175" class="Keyword">import</a> <a id="182" href="Agda.Builtin.Unit.html" class="Module">Agda.Builtin.Unit</a>
<a id="200" class="Keyword">open</a> <a id="205" class="Keyword">import</a> <a id="212" href="Data.Product.html" class="Module">Data.Product</a> <a id="225" class="Keyword">renaming</a> <a id="234" class="Symbol">(</a><a id="235" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a> <a id="239" class="Symbol">to</a> <a id="242" class="InductiveConstructor Operator">_,,_</a> <a id="247" class="Symbol">)</a>
<a id="249" class="Keyword">open</a> <a id="254" class="Keyword">import</a> <a id="261" href="Data.Maybe.html" class="Module">Data.Maybe</a> <a id="272" class="Keyword">hiding</a> <a id="279" class="Symbol">(</a><a id="280" href="Data.Maybe.Base.html#2256" class="Function Operator">_&gt;&gt;=_</a><a id="285" class="Symbol">)</a>
<a id="287" class="Keyword">open</a> <a id="292" class="Keyword">import</a> <a id="299" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> 
<a id="314" class="Keyword">open</a> <a id="319" class="Keyword">import</a> <a id="326" href="Data.Nat.Show.html" class="Module">Data.Nat.Show</a>
<a id="340" class="Keyword">open</a> <a id="345" class="Keyword">import</a> <a id="352" href="Data.Fin.Base.html" class="Module">Data.Fin.Base</a> <a id="366" class="Keyword">hiding</a> <a id="373" class="Symbol">(</a><a id="374" href="Data.Fin.Base.html#5934" class="Function Operator">_+_</a><a id="377" class="Symbol">;</a> <a id="379" href="Data.Fin.Base.html#6064" class="Function Operator">_-_</a><a id="382" class="Symbol">)</a>
<a id="384" class="Keyword">import</a> <a id="391" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="429" class="Symbol">as</a> <a id="432" class="Module">Eq</a>
<a id="435" class="Keyword">open</a> <a id="440" href="Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="443" class="Keyword">using</a> <a id="449" class="Symbol">(</a><a id="450" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a> <a id="454" class="Symbol">;</a> <a id="456" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="461" class="Symbol">;</a> <a id="463" href="Relation.Binary.PropositionalEquality.Core.html#1712" class="Function">sym</a> <a id="467" class="Symbol">;</a> <a id="469" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a><a id="473" class="Symbol">)</a>
<a id="475" class="Keyword">open</a> <a id="480" class="Keyword">import</a> <a id="487" href="Agda.Builtin.Nat.html" class="Module">Agda.Builtin.Nat</a> <a id="504" class="Keyword">using</a> <a id="510" class="Symbol">(</a><a id="511" href="Agda.Builtin.Nat.html#426" class="Primitive Operator">_-_</a><a id="514" class="Symbol">;</a> <a id="516" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">_*_</a><a id="519" class="Symbol">)</a>
<a id="521" class="Keyword">open</a> <a id="526" class="Keyword">import</a> <a id="533" href="Data.String.html" class="Module">Data.String</a> <a id="545" class="Keyword">hiding</a> <a id="552" class="Symbol">(</a><a id="553" href="Data.String.Base.html#2468" class="Function">length</a><a id="559" class="Symbol">;</a> <a id="561" href="Data.String.Base.html#1605" class="Primitive">show</a><a id="565" class="Symbol">)</a> <a id="567" class="Keyword">renaming</a> <a id="576" class="Symbol">(</a><a id="577" href="Data.String.Base.html#2404" class="Function Operator">_++_</a> <a id="582" class="Symbol">to</a> <a id="585" class="Function Operator">_++str_</a><a id="592" class="Symbol">)</a>
<a id="594" class="Keyword">open</a> <a id="599" class="Keyword">import</a> <a id="606" href="Data.Unit.html" class="Module">Data.Unit</a>
<a id="616" class="Keyword">open</a> <a id="621" class="Keyword">import</a> <a id="628" href="Data.Empty.html" class="Module">Data.Empty</a>



<a id="642" class="Comment">--our work</a>
<a id="653" class="Keyword">open</a> <a id="658" class="Keyword">import</a>  <a id="666" href="libraries.natCompare.html" class="Module">libraries.natCompare</a>
<a id="687" class="Keyword">open</a> <a id="692" class="Keyword">import</a> <a id="699" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html" class="Module">Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate</a> <a id="772" href="constantparameters.html#837" class="Function">exampleParameters</a>
<a id="790" class="Keyword">open</a> <a id="795" class="Keyword">import</a> <a id="802" href="Complex-Model.ccomand.ccommands-cresponse.html" class="Module">Complex-Model.ccomand.ccommands-cresponse</a>
<a id="844" class="Keyword">open</a> <a id="849" class="Keyword">import</a> <a id="856" href="basicDataStructure.html" class="Module">basicDataStructure</a>
<a id="875" class="Keyword">open</a> <a id="880" class="Keyword">import</a> <a id="887" href="libraries.Mainlibrary.html" class="Module">libraries.Mainlibrary</a>
<a id="909" class="Keyword">open</a> <a id="914" class="Keyword">import</a> <a id="921" href="Complex-Model.terminating.example.votingexample-multi-candidates.html" class="Module">Complex-Model.terminating.example.votingexample-multi-candidates</a>


<a id="IsJust"></a><a id="988" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#988" class="Function">IsJust</a> <a id="995" class="Symbol">:</a> <a id="997" class="Symbol">{</a><a id="998" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#998" class="Bound">A</a> <a id="1000" class="Symbol">:</a> <a id="1002" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="1005" class="Symbol">}</a> <a id="1007" class="Symbol">→</a> <a id="1009" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1015" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#998" class="Bound">A</a> <a id="1017" class="Symbol">→</a> <a id="1019" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="1023" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#988" class="Function">IsJust</a> <a id="1030" class="Symbol">(</a><a id="1031" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1036" class="Symbol">_)</a> <a id="1039" class="Symbol">=</a> <a id="1041" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="1043" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#988" class="Function">IsJust</a> <a id="1050" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>  <a id="1059" class="Symbol">=</a> <a id="1061" href="Data.Empty.html#895" class="Function">⊥</a>


<a id="fromJust"></a><a id="1065" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#1065" class="Function">fromJust</a> <a id="1074" class="Symbol">:</a> <a id="1076" class="Symbol">{</a><a id="1077" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#1077" class="Bound">A</a> <a id="1079" class="Symbol">:</a> <a id="1081" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="1084" class="Symbol">}</a> <a id="1086" class="Symbol">→</a> <a id="1088" class="Symbol">(</a><a id="1089" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#1089" class="Bound">p</a> <a id="1091" class="Symbol">:</a> <a id="1093" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1099" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#1077" class="Bound">A</a><a id="1100" class="Symbol">)</a> <a id="1102" class="Symbol">→</a> <a id="1104" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#988" class="Function">IsJust</a> <a id="1111" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#1089" class="Bound">p</a> <a id="1113" class="Symbol">→</a> <a id="1115" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#1077" class="Bound">A</a>
<a id="1117" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#1065" class="Function">fromJust</a> <a id="1126" class="Symbol">(</a><a id="1127" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1132" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#1132" class="Bound">a</a><a id="1133" class="Symbol">)</a> <a id="1135" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a> <a id="1138" class="Symbol">=</a> <a id="1140" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#1132" class="Bound">a</a>

<a id="1143" class="Comment">--------------------------- First test   (adding voter)</a>
<a id="1199" class="Comment">-- using function &quot;AddVoter&quot; with (nat 1) on testLedger</a>

<a id="resultAfterAddVoter1"></a><a id="1256" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#1256" class="Function">resultAfterAddVoter1</a> <a id="1277" class="Symbol">:</a> <a id="1279" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a> <a id="1286" href="Data.Product.Base.html#1618" class="Function Operator">×</a>  <a id="1289" href="basicDataStructure.html#1675" class="Record">MsgOrErrorWithGas</a>
<a id="1307" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#1256" class="Function">resultAfterAddVoter1</a> <a id="1328" class="Symbol">=</a> <a id="1330" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#5512" class="Function">evaluateTerminatingfinal</a> <a id="1355" href="Complex-Model.terminating.example.votingexample-multi-candidates.html#3579" class="Function">testLedger</a> <a id="1366" class="Number">1</a> <a id="1368" class="Number">1</a> <a id="1370" class="Number">1</a> <a id="1372" class="String">&quot;addVoter&quot;</a> <a id="1383" class="Symbol">(</a><a id="1384" href="basicDataStructure.html#542" class="InductiveConstructor">nat</a> <a id="1388" class="Number">1</a><a id="1389" class="Symbol">)</a> <a id="1391" class="Number">20</a>


<a id="resultReturnedAddVoter1"></a><a id="1396" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#1396" class="Function">resultReturnedAddVoter1</a> <a id="1420" class="Symbol">:</a> <a id="1422" href="basicDataStructure.html#1675" class="Record">MsgOrErrorWithGas</a>
<a id="1440" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#1396" class="Function">resultReturnedAddVoter1</a> <a id="1464" class="Symbol">=</a> <a id="1466" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="1472" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#1256" class="Function">resultAfterAddVoter1</a>
<a id="1493" class="Comment">{-
evaluate to
theMsg (nat 1) , 16 gas
so executing addVoter (nat 1) returned (nat 1)
-}</a>

<a id="ledgerAfterAdd1"></a><a id="1583" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#1583" class="Function">ledgerAfterAdd1</a> <a id="1599" class="Symbol">:</a> <a id="1601" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a>
<a id="1608" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#1583" class="Function">ledgerAfterAdd1</a> <a id="1624" class="Symbol">=</a> <a id="1626" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="1632" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#1256" class="Function">resultAfterAddVoter1</a>


<a id="1655" class="Comment">-- check the view function with (nat 1) after adding voter to our ledger</a>
<a id="checkVoter1afterAdd1"></a><a id="1728" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#1728" class="Function">checkVoter1afterAdd1</a> <a id="1749" class="Symbol">:</a> <a id="1751" href="basicDataStructure.html#1431" class="Datatype">MsgOrError</a>
<a id="1762" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#1728" class="Function">checkVoter1afterAdd1</a> <a id="1783" class="Symbol">=</a> <a id="1785" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#1583" class="Function">ledgerAfterAdd1</a> <a id="1801" class="Number">1</a> <a id="1803" class="Symbol">.</a><a id="1804" href="libraries.Mainlibrary.html#895" class="Field">viewFunction</a> <a id="1817" class="String">&quot;checkVoter&quot;</a> <a id="1830" class="Symbol">(</a><a id="1831" href="basicDataStructure.html#542" class="InductiveConstructor">nat</a> <a id="1835" class="Number">1</a><a id="1836" class="Symbol">)</a>
<a id="1838" class="Comment">{-
evaluate to
theMsg (nat 1)
which means true
-}</a>


<a id="checkVoter3AfterAdd1"></a><a id="1890" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#1890" class="Function">checkVoter3AfterAdd1</a> <a id="1911" class="Symbol">:</a> <a id="1913" href="basicDataStructure.html#1431" class="Datatype">MsgOrError</a>
<a id="1924" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#1890" class="Function">checkVoter3AfterAdd1</a> <a id="1945" class="Symbol">=</a> <a id="1947" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#1583" class="Function">ledgerAfterAdd1</a> <a id="1963" class="Number">1</a> <a id="1965" class="Symbol">.</a><a id="1966" href="libraries.Mainlibrary.html#895" class="Field">viewFunction</a> <a id="1979" class="String">&quot;checkVoter&quot;</a> <a id="1992" class="Symbol">(</a><a id="1993" href="basicDataStructure.html#542" class="InductiveConstructor">nat</a> <a id="1997" class="Number">3</a><a id="1998" class="Symbol">)</a>
<a id="2000" class="Comment">{-
evaluate to
theMsg (nat 0)
which means false
our ledger only includes (nat 1)
-}</a>



<a id="2087" class="Comment">----------------------------- Second test   (vote)</a>
<a id="2138" class="Comment">-- using function &quot;vote&quot; with (nat 4) on ledgerAfterAdd5</a>

<a id="resultAfterVote"></a><a id="2196" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#2196" class="Function">resultAfterVote</a> <a id="2212" class="Symbol">:</a> <a id="2214" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a> <a id="2221" href="Data.Product.Base.html#1618" class="Function Operator">×</a>  <a id="2224" href="basicDataStructure.html#1675" class="Record">MsgOrErrorWithGas</a>
<a id="2242" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#2196" class="Function">resultAfterVote</a> <a id="2258" class="Symbol">=</a> <a id="2260" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#5512" class="Function">evaluateTerminatingfinal</a> <a id="2285" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#1583" class="Function">ledgerAfterAdd1</a> <a id="2301" class="Number">1</a> <a id="2303" class="Number">1</a> <a id="2305" class="Number">1</a> <a id="2307" class="String">&quot;vote&quot;</a> <a id="2314" class="Symbol">(</a><a id="2315" href="basicDataStructure.html#542" class="InductiveConstructor">nat</a> <a id="2319" class="Number">4</a><a id="2320" class="Symbol">)</a> <a id="2322" class="Number">50</a>

<a id="resultReturnedVote"></a><a id="2326" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#2326" class="Function">resultReturnedVote</a> <a id="2345" class="Symbol">:</a> <a id="2347" href="basicDataStructure.html#1675" class="Record">MsgOrErrorWithGas</a>
<a id="2365" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#2326" class="Function">resultReturnedVote</a> <a id="2384" class="Symbol">=</a> <a id="2386" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2392" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#2196" class="Function">resultAfterVote</a>

<a id="2409" class="Comment">{- evaluates to

theMsg (nat 4) , 39 gas

-}</a>


<a id="ledgerAfterVote"></a><a id="2456" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#2456" class="Function">ledgerAfterVote</a> <a id="2472" class="Symbol">:</a> <a id="2474" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a>
<a id="2481" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#2456" class="Function">ledgerAfterVote</a> <a id="2497" class="Symbol">=</a> <a id="2499" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2505" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#2196" class="Function">resultAfterVote</a>

<a id="2522" class="Comment">-- check the view function &quot;counter&quot; with (nat 4) after adding voter to our ledger</a>
<a id="checkCounterAfterVote"></a><a id="2605" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#2605" class="Function">checkCounterAfterVote</a> <a id="2627" class="Symbol">:</a> <a id="2629" href="basicDataStructure.html#1431" class="Datatype">MsgOrError</a>
<a id="2640" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#2605" class="Function">checkCounterAfterVote</a> <a id="2662" class="Symbol">=</a> <a id="2664" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#2456" class="Function">ledgerAfterVote</a> <a id="2680" class="Number">1</a> <a id="2682" class="Symbol">.</a><a id="2683" href="libraries.Mainlibrary.html#895" class="Field">viewFunction</a> <a id="2696" class="String">&quot;counter&quot;</a> <a id="2706" class="Symbol">(</a><a id="2707" href="basicDataStructure.html#542" class="InductiveConstructor">nat</a> <a id="2711" class="Number">4</a><a id="2712" class="Symbol">)</a>
<a id="2714" class="Comment">-- evaluates to</a>
<a id="2730" class="Comment">-- theMsg (nat 1) which means our counter has one </a>


<a id="2783" class="Comment">-- check the view function &quot;counter&quot; with (nat 3) after adding voter to our ledger</a>
<a id="checkCounterWith3"></a><a id="2866" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#2866" class="Function">checkCounterWith3</a> <a id="2884" class="Symbol">:</a> <a id="2886" href="basicDataStructure.html#1431" class="Datatype">MsgOrError</a>
<a id="2897" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#2866" class="Function">checkCounterWith3</a> <a id="2915" class="Symbol">=</a> <a id="2917" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#2456" class="Function">ledgerAfterVote</a> <a id="2933" class="Number">1</a> <a id="2935" class="Symbol">.</a><a id="2936" href="libraries.Mainlibrary.html#895" class="Field">viewFunction</a> <a id="2949" class="String">&quot;counter&quot;</a> <a id="2959" class="Symbol">(</a><a id="2960" href="basicDataStructure.html#542" class="InductiveConstructor">nat</a> <a id="2964" class="Number">3</a><a id="2965" class="Symbol">)</a>
<a id="2967" class="Comment">-- evaluates to</a>
<a id="2983" class="Comment">-- theMsg (nat 0) which means we do not have (nat 3) in our counter</a>





<a id="3056" class="Comment">--------------------------- Third test   (adding voter)</a>
<a id="3112" class="Comment">-- using function &quot;AddVoter&quot; with (nat 1) on ledgerAfterVote</a>

<a id="resultAfterAddVoter1&#39;"></a><a id="3174" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#3174" class="Function">resultAfterAddVoter1&#39;</a> <a id="3196" class="Symbol">:</a> <a id="3198" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a> <a id="3205" href="Data.Product.Base.html#1618" class="Function Operator">×</a>  <a id="3208" href="basicDataStructure.html#1675" class="Record">MsgOrErrorWithGas</a>
<a id="3226" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#3174" class="Function">resultAfterAddVoter1&#39;</a> <a id="3248" class="Symbol">=</a> <a id="3250" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#5512" class="Function">evaluateTerminatingfinal</a> <a id="3275" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#2456" class="Function">ledgerAfterVote</a> <a id="3291" class="Number">1</a> <a id="3293" class="Number">1</a> <a id="3295" class="Number">1</a> <a id="3297" class="String">&quot;addVoter&quot;</a> <a id="3308" class="Symbol">(</a><a id="3309" href="basicDataStructure.html#542" class="InductiveConstructor">nat</a> <a id="3313" class="Number">1</a><a id="3314" class="Symbol">)</a> <a id="3316" class="Number">20</a>


<a id="resultReturnedAddVoter1&#39;"></a><a id="3321" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#3321" class="Function">resultReturnedAddVoter1&#39;</a> <a id="3346" class="Symbol">:</a> <a id="3348" href="basicDataStructure.html#1675" class="Record">MsgOrErrorWithGas</a>
<a id="3366" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#3321" class="Function">resultReturnedAddVoter1&#39;</a> <a id="3391" class="Symbol">=</a> <a id="3393" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="3399" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#3174" class="Function">resultAfterAddVoter1&#39;</a>
<a id="3421" class="Comment">{-
evaluate to
theMsg (nat 1) , 16 gas
so executing addVoter (nat 1) returned (nat 1)
-}</a>

<a id="ledgerAfterAdd1&#39;"></a><a id="3511" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#3511" class="Function">ledgerAfterAdd1&#39;</a> <a id="3528" class="Symbol">:</a> <a id="3530" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a>
<a id="3537" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#3511" class="Function">ledgerAfterAdd1&#39;</a> <a id="3554" class="Symbol">=</a> <a id="3556" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="3562" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#3174" class="Function">resultAfterAddVoter1&#39;</a>


<a id="3586" class="Comment">-- check the view function with (nat 1) after adding voter to our ledger</a>
<a id="checkVoter1afterAdd1&#39;"></a><a id="3659" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#3659" class="Function">checkVoter1afterAdd1&#39;</a> <a id="3681" class="Symbol">:</a> <a id="3683" href="basicDataStructure.html#1431" class="Datatype">MsgOrError</a>
<a id="3694" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#3659" class="Function">checkVoter1afterAdd1&#39;</a> <a id="3716" class="Symbol">=</a> <a id="3718" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#3511" class="Function">ledgerAfterAdd1&#39;</a> <a id="3735" class="Number">1</a> <a id="3737" class="Symbol">.</a><a id="3738" href="libraries.Mainlibrary.html#895" class="Field">viewFunction</a> <a id="3751" class="String">&quot;checkVoter&quot;</a> <a id="3764" class="Symbol">(</a><a id="3765" href="basicDataStructure.html#542" class="InductiveConstructor">nat</a> <a id="3769" class="Number">1</a><a id="3770" class="Symbol">)</a>
<a id="3772" class="Comment">{-
evaluate to
theMsg (nat 1)
which means true
-}</a>


<a id="checkVoter3AfterAdd1&#39;"></a><a id="3824" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#3824" class="Function">checkVoter3AfterAdd1&#39;</a> <a id="3846" class="Symbol">:</a> <a id="3848" href="basicDataStructure.html#1431" class="Datatype">MsgOrError</a>
<a id="3859" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#3824" class="Function">checkVoter3AfterAdd1&#39;</a> <a id="3881" class="Symbol">=</a> <a id="3883" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#3511" class="Function">ledgerAfterAdd1&#39;</a> <a id="3900" class="Number">1</a> <a id="3902" class="Symbol">.</a><a id="3903" href="libraries.Mainlibrary.html#895" class="Field">viewFunction</a> <a id="3916" class="String">&quot;checkVoter&quot;</a> <a id="3929" class="Symbol">(</a><a id="3930" href="basicDataStructure.html#542" class="InductiveConstructor">nat</a> <a id="3934" class="Number">3</a><a id="3935" class="Symbol">)</a>
<a id="3937" class="Comment">{-
evaluate to
theMsg (nat 0)
which means false
our ledger only includes (nat 1)
-}</a>



<a id="4024" class="Comment">----------------------------- Fourth test   (vote)</a>
<a id="4075" class="Comment">-- using function &quot;vote&quot; with (nat 4) on ledgerAfterAdd5</a>

<a id="resultAfterVote&#39;"></a><a id="4133" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#4133" class="Function">resultAfterVote&#39;</a> <a id="4150" class="Symbol">:</a> <a id="4152" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a> <a id="4159" href="Data.Product.Base.html#1618" class="Function Operator">×</a>  <a id="4162" href="basicDataStructure.html#1675" class="Record">MsgOrErrorWithGas</a>
<a id="4180" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#4133" class="Function">resultAfterVote&#39;</a> <a id="4197" class="Symbol">=</a> <a id="4199" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#5512" class="Function">evaluateTerminatingfinal</a> <a id="4224" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#3511" class="Function">ledgerAfterAdd1&#39;</a> <a id="4241" class="Number">1</a> <a id="4243" class="Number">1</a> <a id="4245" class="Number">1</a> <a id="4247" class="String">&quot;vote&quot;</a> <a id="4254" class="Symbol">(</a><a id="4255" href="basicDataStructure.html#542" class="InductiveConstructor">nat</a> <a id="4259" class="Number">4</a><a id="4260" class="Symbol">)</a> <a id="4262" class="Number">50</a>

<a id="resultReturnedVote&#39;"></a><a id="4266" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#4266" class="Function">resultReturnedVote&#39;</a> <a id="4286" class="Symbol">:</a> <a id="4288" href="basicDataStructure.html#1675" class="Record">MsgOrErrorWithGas</a>
<a id="4306" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#4266" class="Function">resultReturnedVote&#39;</a> <a id="4326" class="Symbol">=</a> <a id="4328" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="4334" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#4133" class="Function">resultAfterVote&#39;</a>

<a id="4352" class="Comment">{- evaluates to

theMsg (nat 4) , 39 gas

-}</a>


<a id="ledgerAfterVote&#39;"></a><a id="4399" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#4399" class="Function">ledgerAfterVote&#39;</a> <a id="4416" class="Symbol">:</a> <a id="4418" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a>
<a id="4425" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#4399" class="Function">ledgerAfterVote&#39;</a> <a id="4442" class="Symbol">=</a> <a id="4444" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="4450" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#4133" class="Function">resultAfterVote&#39;</a>

<a id="4468" class="Comment">-- check the view function &quot;counter&quot; with (nat 4) after adding voter to our ledger</a>
<a id="checkCounterAfterVote&#39;"></a><a id="4551" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#4551" class="Function">checkCounterAfterVote&#39;</a> <a id="4574" class="Symbol">:</a> <a id="4576" href="basicDataStructure.html#1431" class="Datatype">MsgOrError</a>
<a id="4587" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#4551" class="Function">checkCounterAfterVote&#39;</a> <a id="4610" class="Symbol">=</a> <a id="4612" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#4399" class="Function">ledgerAfterVote&#39;</a> <a id="4629" class="Number">1</a> <a id="4631" class="Symbol">.</a><a id="4632" href="libraries.Mainlibrary.html#895" class="Field">viewFunction</a> <a id="4645" class="String">&quot;counter&quot;</a> <a id="4655" class="Symbol">(</a><a id="4656" href="basicDataStructure.html#542" class="InductiveConstructor">nat</a> <a id="4660" class="Number">4</a><a id="4661" class="Symbol">)</a>
<a id="4663" class="Comment">-- evaluates to</a>
<a id="4679" class="Comment">-- theMsg (nat 2) which means our counter have 2 </a>

<a id="4730" class="Comment">-- check the view function &quot;counter&quot; with (nat 3) after adding voter to our ledger</a>
<a id="checkCounterWith3&#39;"></a><a id="4813" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#4813" class="Function">checkCounterWith3&#39;</a> <a id="4832" class="Symbol">:</a> <a id="4834" href="basicDataStructure.html#1431" class="Datatype">MsgOrError</a>
<a id="4845" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#4813" class="Function">checkCounterWith3&#39;</a> <a id="4864" class="Symbol">=</a> <a id="4866" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#4399" class="Function">ledgerAfterVote&#39;</a> <a id="4883" class="Number">1</a> <a id="4885" class="Symbol">.</a><a id="4886" href="libraries.Mainlibrary.html#895" class="Field">viewFunction</a> <a id="4899" class="String">&quot;counter&quot;</a> <a id="4909" class="Symbol">(</a><a id="4910" href="basicDataStructure.html#542" class="InductiveConstructor">nat</a> <a id="4914" class="Number">3</a><a id="4915" class="Symbol">)</a>
<a id="4917" class="Comment">-- evaluates to</a>
<a id="4933" class="Comment">-- theMsg (nat 0) which means we do not have (nat 3) in our counter</a>





<a id="5006" class="Comment">--------------------------- Fifith test   (adding voter)</a>
<a id="5063" class="Comment">-- using function &quot;AddVoter&quot; with (nat 1) on ledgerAfterAdd1&#39;</a>

<a id="resultAfterAddVoter1&#39;&#39;"></a><a id="5126" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#5126" class="Function">resultAfterAddVoter1&#39;&#39;</a> <a id="5149" class="Symbol">:</a> <a id="5151" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a> <a id="5158" href="Data.Product.Base.html#1618" class="Function Operator">×</a>  <a id="5161" href="basicDataStructure.html#1675" class="Record">MsgOrErrorWithGas</a>
<a id="5179" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#5126" class="Function">resultAfterAddVoter1&#39;&#39;</a> <a id="5202" class="Symbol">=</a> <a id="5204" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#5512" class="Function">evaluateTerminatingfinal</a> <a id="5229" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#4399" class="Function">ledgerAfterVote&#39;</a> <a id="5246" class="Number">1</a> <a id="5248" class="Number">1</a> <a id="5250" class="Number">1</a> <a id="5252" class="String">&quot;addVoter&quot;</a> <a id="5263" class="Symbol">(</a><a id="5264" href="basicDataStructure.html#542" class="InductiveConstructor">nat</a> <a id="5268" class="Number">1</a><a id="5269" class="Symbol">)</a> <a id="5271" class="Number">20</a>


<a id="resultReturnedAddVoter1&#39;&#39;"></a><a id="5276" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#5276" class="Function">resultReturnedAddVoter1&#39;&#39;</a> <a id="5302" class="Symbol">:</a> <a id="5304" href="basicDataStructure.html#1675" class="Record">MsgOrErrorWithGas</a>
<a id="5322" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#5276" class="Function">resultReturnedAddVoter1&#39;&#39;</a> <a id="5348" class="Symbol">=</a> <a id="5350" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="5356" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#3174" class="Function">resultAfterAddVoter1&#39;</a>
<a id="5378" class="Comment">{-
evaluate to
theMsg (nat 1) , 16 gas
so executing addVoter (nat 1) returned (nat 1)
-}</a>

<a id="ledgerAfterAdd1&#39;&#39;"></a><a id="5468" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#5468" class="Function">ledgerAfterAdd1&#39;&#39;</a> <a id="5486" class="Symbol">:</a> <a id="5488" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a>
<a id="5495" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#5468" class="Function">ledgerAfterAdd1&#39;&#39;</a> <a id="5513" class="Symbol">=</a> <a id="5515" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="5521" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#5126" class="Function">resultAfterAddVoter1&#39;&#39;</a>


<a id="5546" class="Comment">-- check the view function with (nat 1) after adding voter to our ledger</a>
<a id="checkVoter1AfterAdd1&#39;&#39;"></a><a id="5619" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#5619" class="Function">checkVoter1AfterAdd1&#39;&#39;</a> <a id="5642" class="Symbol">:</a> <a id="5644" href="basicDataStructure.html#1431" class="Datatype">MsgOrError</a>
<a id="5655" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#5619" class="Function">checkVoter1AfterAdd1&#39;&#39;</a> <a id="5678" class="Symbol">=</a> <a id="5680" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#5468" class="Function">ledgerAfterAdd1&#39;&#39;</a> <a id="5698" class="Number">1</a> <a id="5700" class="Symbol">.</a><a id="5701" href="libraries.Mainlibrary.html#895" class="Field">viewFunction</a> <a id="5714" class="String">&quot;checkVoter&quot;</a> <a id="5727" class="Symbol">(</a><a id="5728" href="basicDataStructure.html#542" class="InductiveConstructor">nat</a> <a id="5732" class="Number">1</a><a id="5733" class="Symbol">)</a>
<a id="5735" class="Comment">{-
evaluate to
theMsg (nat 1)
which means true
-}</a>


<a id="checkVoter3AfterAdd1&#39;&#39;"></a><a id="5787" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#5787" class="Function">checkVoter3AfterAdd1&#39;&#39;</a> <a id="5810" class="Symbol">:</a> <a id="5812" href="basicDataStructure.html#1431" class="Datatype">MsgOrError</a>
<a id="5823" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#5787" class="Function">checkVoter3AfterAdd1&#39;&#39;</a> <a id="5846" class="Symbol">=</a> <a id="5848" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#5468" class="Function">ledgerAfterAdd1&#39;&#39;</a> <a id="5866" class="Number">1</a> <a id="5868" class="Symbol">.</a><a id="5869" href="libraries.Mainlibrary.html#895" class="Field">viewFunction</a> <a id="5882" class="String">&quot;checkVoter&quot;</a> <a id="5895" class="Symbol">(</a><a id="5896" href="basicDataStructure.html#542" class="InductiveConstructor">nat</a> <a id="5900" class="Number">3</a><a id="5901" class="Symbol">)</a>
<a id="5903" class="Comment">{-
evaluate to
theMsg (nat 0)
which means false
our ledger only includes (nat 1)
-}</a>





<a id="5992" class="Comment">----------------------------- Sixth test   (vote)</a>
<a id="6042" class="Comment">-- using function &quot;vote&quot; with (nat 4) on ledgerAfterAdd5</a>

<a id="resultAfterVote&#39;&#39;"></a><a id="6100" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#6100" class="Function">resultAfterVote&#39;&#39;</a> <a id="6118" class="Symbol">:</a> <a id="6120" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a> <a id="6127" href="Data.Product.Base.html#1618" class="Function Operator">×</a>  <a id="6130" href="basicDataStructure.html#1675" class="Record">MsgOrErrorWithGas</a>
<a id="6148" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#6100" class="Function">resultAfterVote&#39;&#39;</a> <a id="6166" class="Symbol">=</a> <a id="6168" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#5512" class="Function">evaluateTerminatingfinal</a> <a id="6193" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#5468" class="Function">ledgerAfterAdd1&#39;&#39;</a> <a id="6211" class="Number">1</a> <a id="6213" class="Number">1</a> <a id="6215" class="Number">1</a> <a id="6217" class="String">&quot;vote&quot;</a> <a id="6224" class="Symbol">(</a><a id="6225" href="basicDataStructure.html#542" class="InductiveConstructor">nat</a> <a id="6229" class="Number">4</a><a id="6230" class="Symbol">)</a> <a id="6232" class="Number">50</a>

<a id="resultReturnedVote&#39;&#39;"></a><a id="6236" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#6236" class="Function">resultReturnedVote&#39;&#39;</a> <a id="6257" class="Symbol">:</a> <a id="6259" href="basicDataStructure.html#1675" class="Record">MsgOrErrorWithGas</a>
<a id="6277" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#6236" class="Function">resultReturnedVote&#39;&#39;</a> <a id="6298" class="Symbol">=</a> <a id="6300" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="6306" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#6100" class="Function">resultAfterVote&#39;&#39;</a>

<a id="6325" class="Comment">{- evaluates to

theMsg (nat 4) , 39 gas

-}</a>


<a id="ledgerAfterVote&#39;&#39;"></a><a id="6372" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#6372" class="Function">ledgerAfterVote&#39;&#39;</a> <a id="6390" class="Symbol">:</a> <a id="6392" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a>
<a id="6399" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#6372" class="Function">ledgerAfterVote&#39;&#39;</a> <a id="6417" class="Symbol">=</a> <a id="6419" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="6425" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#6100" class="Function">resultAfterVote&#39;&#39;</a>

<a id="6444" class="Comment">-- check the view function &quot;counter&quot; with (nat 4) after adding voter to our ledger</a>
<a id="checkCounterAfterVote&#39;&#39;"></a><a id="6527" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#6527" class="Function">checkCounterAfterVote&#39;&#39;</a> <a id="6551" class="Symbol">:</a> <a id="6553" href="basicDataStructure.html#1431" class="Datatype">MsgOrError</a>
<a id="6564" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#6527" class="Function">checkCounterAfterVote&#39;&#39;</a> <a id="6588" class="Symbol">=</a> <a id="6590" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#6372" class="Function">ledgerAfterVote&#39;&#39;</a> <a id="6608" class="Number">1</a> <a id="6610" class="Symbol">.</a><a id="6611" href="libraries.Mainlibrary.html#895" class="Field">viewFunction</a> <a id="6624" class="String">&quot;counter&quot;</a> <a id="6634" class="Symbol">(</a><a id="6635" href="basicDataStructure.html#542" class="InductiveConstructor">nat</a> <a id="6639" class="Number">4</a><a id="6640" class="Symbol">)</a>
<a id="6642" class="Comment">-- evaluates to</a>
<a id="6658" class="Comment">-- theMsg (nat 3) which means our counter have 3 </a>

<a id="6709" class="Comment">-- check the view function &quot;counter&quot; with (nat 3) after adding voter to our ledger</a>
<a id="checkCounterWith3&#39;&#39;"></a><a id="6792" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#6792" class="Function">checkCounterWith3&#39;&#39;</a> <a id="6812" class="Symbol">:</a> <a id="6814" href="basicDataStructure.html#1431" class="Datatype">MsgOrError</a>
<a id="6825" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#6792" class="Function">checkCounterWith3&#39;&#39;</a> <a id="6845" class="Symbol">=</a> <a id="6847" href="Complex-Model.terminating.example.executedvotingexample-multi-candidates.html#6372" class="Function">ledgerAfterVote&#39;&#39;</a> <a id="6865" class="Number">1</a> <a id="6867" class="Symbol">.</a><a id="6868" href="libraries.Mainlibrary.html#895" class="Field">viewFunction</a> <a id="6881" class="String">&quot;counter&quot;</a> <a id="6891" class="Symbol">(</a><a id="6892" href="basicDataStructure.html#542" class="InductiveConstructor">nat</a> <a id="6896" class="Number">3</a><a id="6897" class="Symbol">)</a>
<a id="6899" class="Comment">-- evaluates to</a>
<a id="6915" class="Comment">-- theMsg (nat 0) which means we do not have (nat 3) in our counter</a>
</pre></body></html>