<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Complex-Model.ledgerversion.Ledger-Complex-Model</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="constantparameters.html" class="Module">constantparameters</a>

<a id="33" class="Keyword">module</a> <a id="40" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html" class="Module">Complex-Model.ledgerversion.Ledger-Complex-Model</a> <a id="89" class="Symbol">(</a><a id="90" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="96" class="Symbol">:</a> <a id="98" href="constantparameters.html#235" class="Record">ConstantParameters</a><a id="116" class="Symbol">)</a> <a id="118" class="Keyword">where</a>

<a id="125" class="Keyword">open</a> <a id="130" class="Keyword">import</a> <a id="137" href="Data.Nat.html" class="Module">Data.Nat</a>
<a id="146" class="Keyword">open</a> <a id="151" class="Keyword">import</a> <a id="158" href="Agda.Builtin.Nat.html" class="Module">Agda.Builtin.Nat</a> <a id="175" class="Keyword">using</a> <a id="181" class="Symbol">(</a><a id="182" href="Agda.Builtin.Nat.html#426" class="Primitive Operator">_-_</a><a id="185" class="Symbol">;</a> <a id="187" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">_*_</a><a id="190" class="Symbol">)</a>
<a id="192" class="Keyword">open</a> <a id="197" class="Keyword">import</a> <a id="204" href="Data.Unit.html" class="Module">Data.Unit</a>
<a id="214" class="Keyword">open</a> <a id="219" class="Keyword">import</a> <a id="226" href="Data.List.html" class="Module">Data.List</a>
<a id="236" class="Keyword">open</a> <a id="241" class="Keyword">import</a> <a id="248" href="Data.Bool.html" class="Module">Data.Bool</a>
<a id="258" class="Keyword">open</a> <a id="263" class="Keyword">import</a> <a id="270" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a>
<a id="285" class="Keyword">open</a> <a id="290" class="Keyword">import</a> <a id="297" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="311" class="Keyword">open</a> <a id="316" class="Keyword">import</a> <a id="323" href="Data.Maybe.html" class="Module">Data.Maybe</a>  <a id="335" class="Keyword">hiding</a> <a id="342" class="Symbol">(</a><a id="343" href="Data.Maybe.Base.html#2256" class="Function Operator">_&gt;&gt;=_</a><a id="348" class="Symbol">)</a>
<a id="350" class="Keyword">open</a> <a id="355" class="Keyword">import</a> <a id="362" href="Data.String.html" class="Module">Data.String</a> <a id="374" class="Keyword">hiding</a> <a id="381" class="Symbol">(</a><a id="382" href="Data.String.Base.html#2468" class="Function">length</a><a id="388" class="Symbol">;</a> <a id="390" href="Data.String.Base.html#1605" class="Primitive">show</a><a id="394" class="Symbol">)</a> <a id="396" class="Keyword">renaming</a> <a id="405" class="Symbol">(</a><a id="406" href="Data.String.Base.html#2404" class="Function Operator">_++_</a> <a id="411" class="Symbol">to</a> <a id="414" class="Function Operator">_++str_</a><a id="421" class="Symbol">)</a>
<a id="423" class="Keyword">open</a> <a id="428" class="Keyword">import</a> <a id="435" href="Data.Product.html" class="Module">Data.Product</a> <a id="448" class="Keyword">renaming</a> <a id="457" class="Symbol">(</a><a id="458" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a> <a id="462" class="Symbol">to</a> <a id="465" class="InductiveConstructor Operator">_,,_</a> <a id="470" class="Symbol">)</a>
<a id="472" class="Keyword">open</a> <a id="477" class="Keyword">import</a> <a id="484" href="Data.Nat.Show.html" class="Module">Data.Nat.Show</a>
<a id="498" class="Keyword">open</a> <a id="503" class="Keyword">import</a> <a id="510" href="Data.Empty.html" class="Module">Data.Empty</a>


<a id="523" class="Comment">-- our work</a>
<a id="535" class="Keyword">open</a> <a id="540" class="Keyword">import</a> <a id="547" href="Complex-Model.ccomand.ccommands-cresponse.html" class="Module">Complex-Model.ccomand.ccommands-cresponse</a>
<a id="589" class="Keyword">open</a> <a id="594" class="Keyword">import</a> <a id="601" href="basicDataStructure.html" class="Module">basicDataStructure</a>
<a id="620" class="Keyword">open</a> <a id="625" class="Keyword">import</a> <a id="632" href="libraries.natCompare.html" class="Module">libraries.natCompare</a>
<a id="653" class="Keyword">open</a> <a id="658" class="Keyword">import</a> <a id="665" href="libraries.Mainlibrary.html" class="Module">libraries.Mainlibrary</a>




<a id="691" class="Comment">-- update view function in the ledger</a>
<a id="updateLedgerviewfun"></a><a id="729" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#729" class="Function">updateLedgerviewfun</a> <a id="749" class="Symbol">:</a> <a id="751" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a> <a id="758" class="Symbol">→</a> <a id="760" href="basicDataStructure.html#405" class="Function">Address</a>
       <a id="775" class="Symbol">→</a> <a id="777" href="basicDataStructure.html#190" class="Function">FunctionName</a>
       <a id="797" class="Symbol">→</a> <a id="799" class="Symbol">((</a><a id="801" href="basicDataStructure.html#523" class="Datatype">Msg</a> <a id="805" class="Symbol">→</a> <a id="807" href="basicDataStructure.html#1431" class="Datatype">MsgOrError</a><a id="817" class="Symbol">)</a> <a id="819" class="Symbol">→</a> <a id="821" class="Symbol">(</a><a id="822" href="basicDataStructure.html#523" class="Datatype">Msg</a> <a id="826" class="Symbol">→</a> <a id="828" href="basicDataStructure.html#1431" class="Datatype">MsgOrError</a><a id="838" class="Symbol">))</a>
       <a id="848" class="Symbol">→</a> <a id="850" class="Symbol">((</a><a id="852" href="basicDataStructure.html#523" class="Datatype">Msg</a> <a id="856" class="Symbol">→</a> <a id="858" href="basicDataStructure.html#1431" class="Datatype">MsgOrError</a><a id="868" class="Symbol">)</a> <a id="870" class="Symbol">→</a> <a id="872" class="Symbol">(</a><a id="873" href="basicDataStructure.html#523" class="Datatype">Msg</a> <a id="877" class="Symbol">→</a> <a id="879" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="880" class="Symbol">)</a> <a id="882" class="Symbol">→</a> <a id="884" href="basicDataStructure.html#523" class="Datatype">Msg</a> <a id="888" class="Symbol">→</a> <a id="890" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="891" class="Symbol">)</a>
       <a id="900" class="Symbol">→</a> <a id="902" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a>
<a id="909" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#729" class="Function">updateLedgerviewfun</a> <a id="929" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#929" class="Bound">ledger</a> <a id="936" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#936" class="Bound">changedAddr</a> <a id="948" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#948" class="Bound">changedFname</a> <a id="961" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#961" class="Bound">f</a> <a id="963" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#963" class="Bound">g</a> <a id="965" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#965" class="Bound">a</a> <a id="967" class="Symbol">.</a><a id="968" href="libraries.Mainlibrary.html#800" class="Field">amount</a> <a id="975" class="Symbol">=</a> <a id="977" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#929" class="Bound">ledger</a> <a id="984" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#965" class="Bound">a</a> <a id="986" class="Symbol">.</a><a id="987" href="libraries.Mainlibrary.html#800" class="Field">amount</a>
<a id="994" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#729" class="Function">updateLedgerviewfun</a> <a id="1014" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1014" class="Bound">ledger</a> <a id="1021" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1021" class="Bound">changedAddr</a> <a id="1033" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1033" class="Bound">changedFname</a> <a id="1046" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1046" class="Bound">f</a> <a id="1048" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1048" class="Bound">g</a> <a id="1050" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1050" class="Bound">a</a> <a id="1052" class="Symbol">.</a><a id="1053" href="libraries.Mainlibrary.html#826" class="Field">fun</a>  <a id="1058" class="Symbol">=</a> <a id="1060" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1014" class="Bound">ledger</a> <a id="1067" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1050" class="Bound">a</a> <a id="1069" class="Symbol">.</a><a id="1070" href="libraries.Mainlibrary.html#826" class="Field">fun</a>
<a id="1074" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#729" class="Function">updateLedgerviewfun</a> <a id="1094" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1094" class="Bound">ledger</a> <a id="1101" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1101" class="Bound">changedAddr</a> <a id="1113" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1113" class="Bound">changedFname</a> <a id="1126" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1126" class="Bound">f</a> <a id="1128" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1128" class="Bound">g</a> <a id="1130" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1130" class="Bound">a</a> <a id="1132" class="Symbol">.</a><a id="1133" href="libraries.Mainlibrary.html#895" class="Field">viewFunction</a> <a id="1146" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1146" class="Bound">fname</a> <a id="1152" class="Symbol">=</a>
       <a id="1161" href="Data.Bool.Base.html#1505" class="Function Operator">if</a> <a id="1164" class="Symbol">(</a><a id="1165" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1113" class="Bound">changedFname</a> <a id="1178" href="basicDataStructure.html#275" class="Function Operator">≡fun</a> <a id="1183" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1146" class="Bound">fname</a><a id="1188" class="Symbol">)</a> <a id="1190" href="Data.Bool.Base.html#1505" class="Function Operator">then</a>  <a id="1196" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1126" class="Bound">f</a> <a id="1198" class="Symbol">(</a><a id="1199" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1094" class="Bound">ledger</a> <a id="1206" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1130" class="Bound">a</a> <a id="1208" class="Symbol">.</a><a id="1209" href="libraries.Mainlibrary.html#895" class="Field">viewFunction</a> <a id="1222" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1146" class="Bound">fname</a><a id="1227" class="Symbol">)</a>
                         <a id="1254" href="Data.Bool.Base.html#1505" class="Function Operator">else</a>  <a id="1260" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1094" class="Bound">ledger</a> <a id="1267" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1130" class="Bound">a</a> <a id="1269" class="Symbol">.</a><a id="1270" href="libraries.Mainlibrary.html#895" class="Field">viewFunction</a> <a id="1283" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1146" class="Bound">fname</a>
<a id="1289" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#729" class="Function">updateLedgerviewfun</a> <a id="1309" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1309" class="Bound">ledger</a> <a id="1316" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1316" class="Bound">changedAddr</a> <a id="1328" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1328" class="Bound">changedFname</a> <a id="1341" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1341" class="Bound">f</a> <a id="1343" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1343" class="Bound">g</a> <a id="1345" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1345" class="Bound">a</a> <a id="1347" class="Symbol">.</a><a id="1348" href="libraries.Mainlibrary.html#953" class="Field">viewFunctionCost</a> <a id="1365" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1365" class="Bound">fname</a> <a id="1371" class="Symbol">=</a>
          <a id="1383" href="Data.Bool.Base.html#1505" class="Function Operator">if</a> <a id="1386" class="Symbol">(</a><a id="1387" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1328" class="Bound">changedFname</a> <a id="1400" href="basicDataStructure.html#275" class="Function Operator">≡fun</a> <a id="1405" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1365" class="Bound">fname</a><a id="1410" class="Symbol">)</a> <a id="1412" href="Data.Bool.Base.html#1505" class="Function Operator">then</a>  <a id="1418" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1343" class="Bound">g</a> <a id="1420" class="Symbol">(</a><a id="1421" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1309" class="Bound">ledger</a> <a id="1428" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1345" class="Bound">a</a> <a id="1430" class="Symbol">.</a><a id="1431" href="libraries.Mainlibrary.html#895" class="Field">viewFunction</a> <a id="1444" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1365" class="Bound">fname</a><a id="1449" class="Symbol">)</a> <a id="1451" class="Symbol">(</a><a id="1452" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1309" class="Bound">ledger</a> <a id="1459" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1345" class="Bound">a</a> <a id="1461" class="Symbol">.</a><a id="1462" href="libraries.Mainlibrary.html#953" class="Field">viewFunctionCost</a> <a id="1479" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1365" class="Bound">fname</a><a id="1484" class="Symbol">)</a>
                         <a id="1511" href="Data.Bool.Base.html#1505" class="Function Operator">else</a>  <a id="1517" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1309" class="Bound">ledger</a> <a id="1524" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1345" class="Bound">a</a> <a id="1526" class="Symbol">.</a><a id="1527" href="libraries.Mainlibrary.html#953" class="Field">viewFunctionCost</a> <a id="1544" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1365" class="Bound">fname</a>



<a id="1553" class="Comment">--update ledger amount</a>
<a id="updateLedgerAmount"></a><a id="1576" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1576" class="Function">updateLedgerAmount</a> <a id="1595" class="Symbol">:</a> <a id="1597" class="Symbol">(</a><a id="1598" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1598" class="Bound">ledger</a> <a id="1605" class="Symbol">:</a> <a id="1607" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a><a id="1613" class="Symbol">)</a>
                   <a id="1634" class="Symbol">→</a> <a id="1636" class="Symbol">(</a><a id="1637" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1637" class="Bound">calledAddr</a> <a id="1648" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1648" class="Bound">destinationAddr</a> <a id="1664" class="Symbol">:</a> <a id="1666" href="basicDataStructure.html#405" class="Function">Address</a><a id="1673" class="Symbol">)</a> <a id="1675" class="Symbol">(</a><a id="1676" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1676" class="Bound">amount&#39;</a> <a id="1684" class="Symbol">:</a> <a id="1686" href="basicDataStructure.html#378" class="Function">Amount</a><a id="1692" class="Symbol">)</a>
                   <a id="1713" class="Symbol">→</a> <a id="1715" class="Symbol">(</a><a id="1716" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1716" class="Bound">correctAmount</a> <a id="1730" class="Symbol">:</a> <a id="1732" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1676" class="Bound">amount&#39;</a> <a id="1740" href="libraries.natCompare.html#710" class="Function Operator">≦r</a>  <a id="1744" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1598" class="Bound">ledger</a> <a id="1751" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1637" class="Bound">calledAddr</a> <a id="1762" class="Symbol">.</a><a id="1763" href="libraries.Mainlibrary.html#800" class="Field">amount</a><a id="1769" class="Symbol">)</a>
                   <a id="1790" class="Symbol">→</a> <a id="1792" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a>
<a id="1799" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1576" class="Function">updateLedgerAmount</a> <a id="1818" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1818" class="Bound">ledger</a> <a id="1825" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1825" class="Bound">calledAddr</a> <a id="1836" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1836" class="Bound">destinationAddr</a> <a id="1852" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1852" class="Bound">amount&#39;</a> <a id="1860" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1860" class="Bound">correctAmount</a> <a id="1874" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1874" class="Bound">addr</a> <a id="1879" class="Symbol">.</a><a id="1880" href="libraries.Mainlibrary.html#800" class="Field">amount</a>
     <a id="1892" class="Symbol">=</a> <a id="1894" href="Data.Bool.Base.html#1505" class="Function Operator">if</a> <a id="1897" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1874" class="Bound">addr</a> <a id="1902" href="Data.Nat.Base.html#1283" class="Primitive Operator">≡ᵇ</a> <a id="1905" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1825" class="Bound">calledAddr</a>
     <a id="1921" href="Data.Bool.Base.html#1505" class="Function Operator">then</a> <a id="1926" href="libraries.natCompare.html#3557" class="Function">subtract</a> <a id="1935" class="Symbol">(</a><a id="1936" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1818" class="Bound">ledger</a> <a id="1943" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1825" class="Bound">calledAddr</a> <a id="1954" class="Symbol">.</a><a id="1955" href="libraries.Mainlibrary.html#800" class="Field">amount</a><a id="1961" class="Symbol">)</a> <a id="1963" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1852" class="Bound">amount&#39;</a> <a id="1971" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1860" class="Bound">correctAmount</a>
     <a id="1990" href="Data.Bool.Base.html#1505" class="Function Operator">else</a> <a id="1995" class="Symbol">(</a><a id="1996" href="Data.Bool.Base.html#1505" class="Function Operator">if</a> <a id="1999" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1874" class="Bound">addr</a> <a id="2004" href="Data.Nat.Base.html#1283" class="Primitive Operator">≡ᵇ</a> <a id="2007" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1836" class="Bound">destinationAddr</a>
     <a id="2028" href="Data.Bool.Base.html#1505" class="Function Operator">then</a> <a id="2033" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1818" class="Bound">ledger</a> <a id="2040" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1836" class="Bound">destinationAddr</a> <a id="2056" class="Symbol">.</a><a id="2057" href="libraries.Mainlibrary.html#800" class="Field">amount</a> <a id="2064" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="2066" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1852" class="Bound">amount&#39;</a>
       <a id="2081" href="Data.Bool.Base.html#1505" class="Function Operator">else</a> <a id="2086" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1818" class="Bound">ledger</a> <a id="2093" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1874" class="Bound">addr</a> <a id="2098" class="Symbol">.</a><a id="2099" href="libraries.Mainlibrary.html#800" class="Field">amount</a><a id="2105" class="Symbol">)</a>
<a id="2107" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1576" class="Function">updateLedgerAmount</a> <a id="2126" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2126" class="Bound">ledger</a> <a id="2133" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2133" class="Bound">calledAddr</a> <a id="2144" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2144" class="Bound">newAddr</a> <a id="2152" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2152" class="Bound">amount&#39;</a> <a id="2160" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2160" class="Bound">correctAmount</a> <a id="2174" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2174" class="Bound">addr</a> <a id="2179" class="Symbol">.</a><a id="2180" href="libraries.Mainlibrary.html#826" class="Field">fun</a>
     <a id="2189" class="Symbol">=</a>  <a id="2192" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2126" class="Bound">ledger</a> <a id="2199" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2174" class="Bound">addr</a> <a id="2204" class="Symbol">.</a><a id="2205" href="libraries.Mainlibrary.html#826" class="Field">fun</a>

<a id="2210" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1576" class="Function">updateLedgerAmount</a> <a id="2229" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2229" class="Bound">ledger</a> <a id="2236" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2236" class="Bound">calledAddr</a> <a id="2247" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2247" class="Bound">newAddr</a> <a id="2255" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2255" class="Bound">amount&#39;</a> <a id="2263" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2263" class="Bound">correctAmount</a> <a id="2277" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2277" class="Bound">addr</a> <a id="2282" class="Symbol">.</a><a id="2283" href="libraries.Mainlibrary.html#895" class="Field">viewFunction</a>
     <a id="2301" class="Symbol">=</a> <a id="2303" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2229" class="Bound">ledger</a> <a id="2310" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2277" class="Bound">addr</a> <a id="2315" class="Symbol">.</a><a id="2316" href="libraries.Mainlibrary.html#895" class="Field">viewFunction</a>
<a id="2329" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1576" class="Function">updateLedgerAmount</a> <a id="2348" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2348" class="Bound">ledger</a> <a id="2355" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2355" class="Bound">calledAddr</a> <a id="2366" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2366" class="Bound">newAddr</a> <a id="2374" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2374" class="Bound">amount&#39;</a> <a id="2382" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2382" class="Bound">correctAmount</a> <a id="2396" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2396" class="Bound">addr</a> <a id="2401" class="Symbol">.</a><a id="2402" href="libraries.Mainlibrary.html#953" class="Field">viewFunctionCost</a> <a id="2419" class="Symbol">=</a> <a id="2421" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2348" class="Bound">ledger</a> <a id="2428" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2396" class="Bound">addr</a> <a id="2433" class="Symbol">.</a><a id="2434" href="libraries.Mainlibrary.html#953" class="Field">viewFunctionCost</a>



<a id="2454" class="Comment">--This function we use it to update the gas by decucting from the ledger</a>
<a id="2527" class="Comment">--rename gasPrice to gascost</a>
<a id="deductGasFromLedger"></a><a id="2556" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2556" class="Function">deductGasFromLedger</a> <a id="2576" class="Symbol">:</a> <a id="2578" class="Symbol">(</a><a id="2579" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2579" class="Bound">ledger</a> <a id="2586" class="Symbol">:</a> <a id="2588" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a><a id="2594" class="Symbol">)</a>
                    <a id="2616" class="Symbol">→</a> <a id="2618" class="Symbol">(</a><a id="2619" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2619" class="Bound">calledAddr</a> <a id="2630" class="Symbol">:</a> <a id="2632" href="basicDataStructure.html#405" class="Function">Address</a><a id="2639" class="Symbol">)</a> <a id="2641" class="Symbol">(</a><a id="2642" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2642" class="Bound">gascost</a> <a id="2650" class="Symbol">:</a> <a id="2652" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="2653" class="Symbol">)</a>
                    <a id="2675" class="Symbol">→</a> <a id="2677" class="Symbol">(</a><a id="2678" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2678" class="Bound">correctAmount</a> <a id="2692" class="Symbol">:</a> <a id="2694" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2642" class="Bound">gascost</a> <a id="2702" href="libraries.natCompare.html#710" class="Function Operator">≦r</a> <a id="2705" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2579" class="Bound">ledger</a> <a id="2712" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2619" class="Bound">calledAddr</a> <a id="2723" class="Symbol">.</a><a id="2724" href="libraries.Mainlibrary.html#800" class="Field">amount</a><a id="2730" class="Symbol">)</a>
                    <a id="2752" class="Symbol">→</a> <a id="2754" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a>
<a id="2761" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2556" class="Function">deductGasFromLedger</a> <a id="2781" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2781" class="Bound">ledger</a> <a id="2788" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2788" class="Bound">calledAddr</a> <a id="2799" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2799" class="Bound">gascost</a> <a id="2807" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2807" class="Bound">correctAmount</a> <a id="2821" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2821" class="Bound">addr</a> <a id="2826" class="Symbol">.</a><a id="2827" href="libraries.Mainlibrary.html#800" class="Field">amount</a>
     <a id="2839" class="Symbol">=</a> <a id="2841" href="Data.Bool.Base.html#1505" class="Function Operator">if</a> <a id="2844" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2821" class="Bound">addr</a> <a id="2849" href="Data.Nat.Base.html#1283" class="Primitive Operator">≡ᵇ</a> <a id="2852" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2788" class="Bound">calledAddr</a>
     <a id="2868" href="Data.Bool.Base.html#1505" class="Function Operator">then</a> <a id="2873" href="libraries.natCompare.html#3557" class="Function">subtract</a> <a id="2882" class="Symbol">(</a><a id="2883" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2781" class="Bound">ledger</a> <a id="2890" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2788" class="Bound">calledAddr</a> <a id="2901" class="Symbol">.</a><a id="2902" href="libraries.Mainlibrary.html#800" class="Field">amount</a><a id="2908" class="Symbol">)</a> <a id="2910" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2799" class="Bound">gascost</a> <a id="2918" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2807" class="Bound">correctAmount</a>
     <a id="2937" href="Data.Bool.Base.html#1505" class="Function Operator">else</a>  <a id="2943" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2781" class="Bound">ledger</a> <a id="2950" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2821" class="Bound">addr</a> <a id="2955" class="Symbol">.</a><a id="2956" href="libraries.Mainlibrary.html#800" class="Field">amount</a>
<a id="2963" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2556" class="Function">deductGasFromLedger</a> <a id="2983" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2983" class="Bound">ledger</a> <a id="2990" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2990" class="Bound">calledAddr</a> <a id="3001" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3001" class="Bound">gascost</a> <a id="3009" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3009" class="Bound">correctAmount</a> <a id="3023" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3023" class="Bound">addr</a> <a id="3028" class="Symbol">.</a><a id="3029" href="libraries.Mainlibrary.html#826" class="Field">fun</a>
    <a id="3037" class="Symbol">=</a> <a id="3039" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2983" class="Bound">ledger</a> <a id="3046" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3023" class="Bound">addr</a> <a id="3051" class="Symbol">.</a><a id="3052" href="libraries.Mainlibrary.html#826" class="Field">fun</a>
<a id="3056" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2556" class="Function">deductGasFromLedger</a> <a id="3076" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3076" class="Bound">ledger</a> <a id="3083" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3083" class="Bound">calledAddr</a> <a id="3094" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3094" class="Bound">gascost</a> <a id="3102" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3102" class="Bound">correctAmount</a> <a id="3116" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3116" class="Bound">addr</a> <a id="3121" class="Symbol">.</a><a id="3122" href="libraries.Mainlibrary.html#895" class="Field">viewFunction</a>
    <a id="3139" class="Symbol">=</a> <a id="3141" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3076" class="Bound">ledger</a> <a id="3148" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3116" class="Bound">addr</a> <a id="3153" class="Symbol">.</a><a id="3154" href="libraries.Mainlibrary.html#895" class="Field">viewFunction</a>
<a id="3167" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2556" class="Function">deductGasFromLedger</a> <a id="3187" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3187" class="Bound">ledger</a> <a id="3194" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3194" class="Bound">calledAddr</a> <a id="3205" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3205" class="Bound">gascost</a> <a id="3213" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3213" class="Bound">correctAmount</a> <a id="3227" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3227" class="Bound">addr</a> <a id="3232" class="Symbol">.</a><a id="3233" href="libraries.Mainlibrary.html#953" class="Field">viewFunctionCost</a>
    <a id="3254" class="Symbol">=</a> <a id="3256" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3187" class="Bound">ledger</a> <a id="3263" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3227" class="Bound">addr</a> <a id="3268" class="Symbol">.</a><a id="3269" href="libraries.Mainlibrary.html#953" class="Field">viewFunctionCost</a>


<a id="3288" class="Comment">-- this function below we use it to refuend in two cases with steEF</a>
<a id="3356" class="Comment">-- 1) when finish (first case)</a>
<a id="3387" class="Comment">-- 2) when we have error (the last case)</a>
<a id="addWeiToLedger"></a><a id="3428" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3428" class="Function">addWeiToLedger</a> <a id="3443" class="Symbol">:</a> <a id="3445" class="Symbol">(</a><a id="3446" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3446" class="Bound">ledger</a> <a id="3453" class="Symbol">:</a> <a id="3455" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a><a id="3461" class="Symbol">)</a>
               <a id="3478" class="Symbol">→</a> <a id="3480" class="Symbol">(</a><a id="3481" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3481" class="Bound">address</a> <a id="3489" class="Symbol">:</a> <a id="3491" href="basicDataStructure.html#405" class="Function">Address</a><a id="3498" class="Symbol">)</a> <a id="3500" class="Symbol">(</a><a id="3501" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3501" class="Bound">amount&#39;</a> <a id="3509" class="Symbol">:</a> <a id="3511" href="basicDataStructure.html#378" class="Function">Amount</a><a id="3517" class="Symbol">)</a>
               <a id="3534" class="Symbol">→</a> <a id="3536" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a>
<a id="3543" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3428" class="Function">addWeiToLedger</a> <a id="3558" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3558" class="Bound">ledger</a> <a id="3565" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3565" class="Bound">address</a> <a id="3573" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3573" class="Bound">amount&#39;</a> <a id="3581" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3581" class="Bound">addr</a> <a id="3586" class="Symbol">.</a><a id="3587" href="libraries.Mainlibrary.html#800" class="Field">amount</a>
       <a id="3601" class="Symbol">=</a>   <a id="3605" href="Data.Bool.Base.html#1505" class="Function Operator">if</a> <a id="3608" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3581" class="Bound">addr</a> <a id="3613" href="Data.Nat.Base.html#1283" class="Primitive Operator">≡ᵇ</a> <a id="3616" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3565" class="Bound">address</a>
           <a id="3635" href="Data.Bool.Base.html#1505" class="Function Operator">then</a> <a id="3640" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3558" class="Bound">ledger</a> <a id="3647" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3565" class="Bound">address</a> <a id="3655" class="Symbol">.</a><a id="3656" href="libraries.Mainlibrary.html#800" class="Field">amount</a> <a id="3663" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="3665" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3573" class="Bound">amount&#39;</a>
           <a id="3684" href="Data.Bool.Base.html#1505" class="Function Operator">else</a> <a id="3689" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3558" class="Bound">ledger</a> <a id="3696" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3581" class="Bound">addr</a> <a id="3701" class="Symbol">.</a><a id="3702" href="libraries.Mainlibrary.html#800" class="Field">amount</a>
<a id="3709" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3428" class="Function">addWeiToLedger</a> <a id="3724" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3724" class="Bound">ledger</a> <a id="3731" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3731" class="Bound">address</a> <a id="3739" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3739" class="Bound">amount&#39;</a> <a id="3747" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3747" class="Bound">addr</a> <a id="3752" class="Symbol">.</a><a id="3753" href="libraries.Mainlibrary.html#826" class="Field">fun</a>
       <a id="3764" class="Symbol">=</a>   <a id="3768" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3724" class="Bound">ledger</a> <a id="3775" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3747" class="Bound">addr</a> <a id="3780" class="Symbol">.</a><a id="3781" href="libraries.Mainlibrary.html#826" class="Field">fun</a>
<a id="3785" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3428" class="Function">addWeiToLedger</a> <a id="3800" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3800" class="Bound">ledger</a> <a id="3807" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3807" class="Bound">address</a> <a id="3815" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3815" class="Bound">amount&#39;</a> <a id="3823" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3823" class="Bound">addr</a> <a id="3828" class="Symbol">.</a><a id="3829" href="libraries.Mainlibrary.html#895" class="Field">viewFunction</a>
       <a id="3849" class="Symbol">=</a> <a id="3851" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3800" class="Bound">ledger</a> <a id="3858" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3823" class="Bound">addr</a> <a id="3863" class="Symbol">.</a><a id="3864" href="libraries.Mainlibrary.html#895" class="Field">viewFunction</a>
<a id="3877" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3428" class="Function">addWeiToLedger</a> <a id="3892" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3892" class="Bound">ledger</a> <a id="3899" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3899" class="Bound">address</a> <a id="3907" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3907" class="Bound">amount&#39;</a> <a id="3915" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3915" class="Bound">addr</a> <a id="3920" class="Symbol">.</a><a id="3921" href="libraries.Mainlibrary.html#953" class="Field">viewFunctionCost</a> <a id="3938" class="Symbol">=</a> <a id="3940" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3892" class="Bound">ledger</a> <a id="3947" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3915" class="Bound">addr</a> <a id="3952" class="Symbol">.</a><a id="3953" href="libraries.Mainlibrary.html#953" class="Field">viewFunctionCost</a>


<a id="3972" class="Comment">-- execute transfer auxiliary</a>
<a id="executeTransferAux"></a><a id="4002" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4002" class="Function">executeTransferAux</a> <a id="4021" class="Symbol">:</a> <a id="4023" class="Symbol">(</a><a id="4024" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4024" class="Bound">oldLedger</a> <a id="4034" class="Symbol">:</a> <a id="4036" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a><a id="4042" class="Symbol">)</a>
                   <a id="4063" class="Symbol">→</a> <a id="4065" class="Symbol">(</a><a id="4066" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4066" class="Bound">currentledger</a> <a id="4080" class="Symbol">:</a> <a id="4082" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a><a id="4088" class="Symbol">)</a>
                   <a id="4109" class="Symbol">→</a> <a id="4111" class="Symbol">(</a><a id="4112" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4112" class="Bound">executionStack</a> <a id="4127" class="Symbol">:</a> <a id="4129" href="libraries.Mainlibrary.html#2032" class="Function">ExecutionStack</a><a id="4143" class="Symbol">)</a>
                   <a id="4164" class="Symbol">→</a> <a id="4166" class="Symbol">(</a><a id="4167" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4167" class="Bound">initialAddr</a> <a id="4179" class="Symbol">:</a> <a id="4181" href="basicDataStructure.html#405" class="Function">Address</a><a id="4188" class="Symbol">)</a>
                   <a id="4209" class="Symbol">→</a> <a id="4211" class="Symbol">(</a><a id="4212" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4212" class="Bound">lastCallAddr</a> <a id="4225" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4225" class="Bound">calledAddr</a> <a id="4236" class="Symbol">:</a> <a id="4238" href="basicDataStructure.html#405" class="Function">Address</a><a id="4245" class="Symbol">)</a>
                   <a id="4266" class="Symbol">→</a> <a id="4268" class="Symbol">(</a><a id="4269" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4269" class="Bound">cont</a> <a id="4274" class="Symbol">:</a> <a id="4276" href="Complex-Model.ccomand.ccommands-cresponse.html#1546" class="Datatype">SmartContract</a> <a id="4290" href="basicDataStructure.html#523" class="Datatype">Msg</a><a id="4293" class="Symbol">)</a> <a id="4295" class="Symbol">→</a> <a id="4297" class="Symbol">(</a><a id="4298" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4298" class="Bound">gasleft</a> <a id="4306" class="Symbol">:</a> <a id="4308" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="4309" class="Symbol">)</a>
                   <a id="4330" class="Symbol">→</a> <a id="4332" class="Symbol">(</a><a id="4333" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4333" class="Bound">funNameevalState</a> <a id="4350" class="Symbol">:</a> <a id="4352" href="basicDataStructure.html#190" class="Function">FunctionName</a><a id="4364" class="Symbol">)</a>
                   <a id="4385" class="Symbol">→</a> <a id="4387" class="Symbol">(</a><a id="4388" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4388" class="Bound">msgevalState</a> <a id="4401" class="Symbol">:</a> <a id="4403" href="basicDataStructure.html#523" class="Datatype">Msg</a><a id="4406" class="Symbol">)</a>
                   <a id="4427" class="Symbol">→</a> <a id="4429" class="Symbol">(</a><a id="4430" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4430" class="Bound">amount&#39;</a> <a id="4438" class="Symbol">:</a> <a id="4440" href="basicDataStructure.html#378" class="Function">Amount</a><a id="4446" class="Symbol">)</a>
                   <a id="4467" class="Symbol">→</a> <a id="4469" class="Symbol">(</a><a id="4470" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4470" class="Bound">destinationAddr</a> <a id="4486" class="Symbol">:</a> <a id="4488" href="basicDataStructure.html#405" class="Function">Address</a><a id="4495" class="Symbol">)</a>
                   <a id="4516" class="Symbol">→</a> <a id="4518" class="Symbol">(</a><a id="4519" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4519" class="Bound">cp</a>  <a id="4523" class="Symbol">:</a> <a id="4525" href="libraries.natCompare.html#1047" class="Datatype">OrderingLeq</a> <a id="4537" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4430" class="Bound">amount&#39;</a> <a id="4545" class="Symbol">(</a><a id="4546" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4066" class="Bound">currentledger</a> <a id="4560" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4225" class="Bound">calledAddr</a> <a id="4571" class="Symbol">.</a><a id="4572" href="libraries.Mainlibrary.html#800" class="Field">amount</a><a id="4578" class="Symbol">))</a>
                   <a id="4600" class="Symbol">→</a> <a id="4602" href="libraries.Mainlibrary.html#2131" class="Record">StateExecFun</a>
<a id="4615" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4002" class="Function">executeTransferAux</a> <a id="4634" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4634" class="Bound">oldLedger</a> <a id="4644" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4644" class="Bound">currentledger</a> <a id="4658" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4658" class="Bound">executionStack</a> <a id="4673" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4673" class="Bound">initialAddr</a> <a id="4685" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4685" class="Bound">lastCallAddr</a> <a id="4698" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4698" class="Bound">calledAddr</a> <a id="4709" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4709" class="Bound">cont</a> <a id="4714" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4714" class="Bound">gasleft</a>
                   <a id="4741" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4741" class="Bound">funNameevalState</a> <a id="4758" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4758" class="Bound">msgevalState</a> <a id="4771" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4771" class="Bound">amount&#39;</a> <a id="4779" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4779" class="Bound">destinationAddr</a> <a id="4795" class="Symbol">(</a><a id="4796" href="libraries.natCompare.html#1085" class="InductiveConstructor">leq</a> <a id="4800" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4800" class="Bound">x</a><a id="4801" class="Symbol">)</a>
         <a id="4812" class="Symbol">=</a> <a id="4814" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="4822" class="Symbol">(</a><a id="4823" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1576" class="Function">updateLedgerAmount</a> <a id="4842" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4644" class="Bound">currentledger</a> <a id="4856" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4698" class="Bound">calledAddr</a> <a id="4867" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4779" class="Bound">destinationAddr</a> <a id="4883" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4771" class="Bound">amount&#39;</a> <a id="4891" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4800" class="Bound">x</a><a id="4892" class="Symbol">)</a>
          <a id="4904" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4658" class="Bound">executionStack</a> <a id="4919" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4673" class="Bound">initialAddr</a> <a id="4931" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4685" class="Bound">lastCallAddr</a> <a id="4944" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4698" class="Bound">calledAddr</a> <a id="4955" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4709" class="Bound">cont</a> <a id="4960" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4714" class="Bound">gasleft</a> <a id="4968" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4741" class="Bound">funNameevalState</a> <a id="4985" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4758" class="Bound">msgevalState</a>
<a id="4998" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4002" class="Function">executeTransferAux</a> <a id="5017" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5017" class="Bound">oldLedger</a> <a id="5027" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5027" class="Bound">currentledger</a> <a id="5041" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5041" class="Bound">executionStack</a> <a id="5056" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5056" class="Bound">initialAddr</a> <a id="5068" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5068" class="Bound">lastCallAddr</a> <a id="5081" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5081" class="Bound">calledAddr</a> <a id="5092" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5092" class="Bound">cont</a> <a id="5097" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5097" class="Bound">gasleft</a>
                   <a id="5124" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5124" class="Bound">funNameevalState</a> <a id="5141" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5141" class="Bound">msgevalState</a> <a id="5154" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5154" class="Bound">amount&#39;</a> <a id="5162" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5162" class="Bound">destinationAddr</a> <a id="5178" class="Symbol">(</a><a id="5179" href="libraries.natCompare.html#1123" class="InductiveConstructor">greater</a> <a id="5187" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5187" class="Bound">x</a><a id="5188" class="Symbol">)</a>
          <a id="5200" class="Symbol">=</a> <a id="5202" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="5210" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5017" class="Bound">oldLedger</a> <a id="5220" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5041" class="Bound">executionStack</a> <a id="5235" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5056" class="Bound">initialAddr</a> <a id="5247" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5068" class="Bound">lastCallAddr</a> <a id="5260" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5081" class="Bound">calledAddr</a>
            <a id="5283" class="Symbol">(</a><a id="5284" href="Complex-Model.ccomand.ccommands-cresponse.html#1624" class="InductiveConstructor">error</a>  <a id="5291" class="Symbol">(</a><a id="5292" href="basicDataStructure.html#694" class="InductiveConstructor">strErr</a> <a id="5299" class="String">&quot;not enough money&quot;</a><a id="5317" class="Symbol">)</a>
            <a id="5331" href="basicDataStructure.html#881" class="InductiveConstructor Operator">⟨</a> <a id="5333" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5068" class="Bound">lastCallAddr</a> <a id="5346" href="basicDataStructure.html#881" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="5349" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5056" class="Bound">initialAddr</a> <a id="5361" href="basicDataStructure.html#881" class="InductiveConstructor Operator">∙</a> <a id="5363" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5124" class="Bound">funNameevalState</a> <a id="5380" href="basicDataStructure.html#881" class="InductiveConstructor Operator">[</a> <a id="5382" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5141" class="Bound">msgevalState</a> <a id="5395" href="basicDataStructure.html#881" class="InductiveConstructor Operator">]⟩</a><a id="5397" class="Symbol">)</a>
             <a id="5412" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5097" class="Bound">gasleft</a> <a id="5420" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5124" class="Bound">funNameevalState</a> <a id="5437" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5141" class="Bound">msgevalState</a>


<a id="5452" class="Comment">-- proof transfer Aux </a>
<a id="lemmaExecuteTransferAuxGasEq"></a><a id="5475" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5475" class="Function">lemmaExecuteTransferAuxGasEq</a> <a id="5504" class="Symbol">:</a> <a id="5506" class="Symbol">(</a><a id="5507" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5507" class="Bound">oldLedger</a> <a id="5517" class="Symbol">:</a> <a id="5519" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a><a id="5525" class="Symbol">)</a>
                              <a id="5557" class="Symbol">→</a> <a id="5559" class="Symbol">(</a><a id="5560" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5560" class="Bound">currentledger</a> <a id="5574" class="Symbol">:</a> <a id="5576" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a><a id="5582" class="Symbol">)</a>
                              <a id="5614" class="Symbol">→</a> <a id="5616" class="Symbol">(</a><a id="5617" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5617" class="Bound">executionStack</a> <a id="5632" class="Symbol">:</a> <a id="5634" href="libraries.Mainlibrary.html#2032" class="Function">ExecutionStack</a><a id="5648" class="Symbol">)</a>
                              <a id="5680" class="Symbol">→</a> <a id="5682" class="Symbol">(</a><a id="5683" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5683" class="Bound">initialAddr</a> <a id="5695" class="Symbol">:</a> <a id="5697" href="basicDataStructure.html#405" class="Function">Address</a><a id="5704" class="Symbol">)</a>
                              <a id="5736" class="Symbol">→</a> <a id="5738" class="Symbol">(</a><a id="5739" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5739" class="Bound">lastCallAddr</a> <a id="5752" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5752" class="Bound">calledAddr</a> <a id="5763" class="Symbol">:</a> <a id="5765" href="basicDataStructure.html#405" class="Function">Address</a><a id="5772" class="Symbol">)</a>
                              <a id="5804" class="Symbol">→</a> <a id="5806" class="Symbol">(</a><a id="5807" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5807" class="Bound">cont</a> <a id="5812" class="Symbol">:</a> <a id="5814" href="Complex-Model.ccomand.ccommands-cresponse.html#1546" class="Datatype">SmartContract</a> <a id="5828" href="basicDataStructure.html#523" class="Datatype">Msg</a><a id="5831" class="Symbol">)</a> <a id="5833" class="Symbol">→</a> <a id="5835" class="Symbol">(</a><a id="5836" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5836" class="Bound">gasleft1</a> <a id="5845" class="Symbol">:</a> <a id="5847" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="5848" class="Symbol">)</a>
                              <a id="5880" class="Symbol">→</a> <a id="5882" class="Symbol">(</a><a id="5883" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5883" class="Bound">funNameevalState</a> <a id="5900" class="Symbol">:</a> <a id="5902" href="basicDataStructure.html#190" class="Function">FunctionName</a><a id="5914" class="Symbol">)</a>
                              <a id="5946" class="Symbol">→</a> <a id="5948" class="Symbol">(</a><a id="5949" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5949" class="Bound">msgevalState</a> <a id="5962" class="Symbol">:</a> <a id="5964" href="basicDataStructure.html#523" class="Datatype">Msg</a><a id="5967" class="Symbol">)</a>
                              <a id="5999" class="Symbol">→</a> <a id="6001" class="Symbol">(</a><a id="6002" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6002" class="Bound">amount&#39;</a> <a id="6010" class="Symbol">:</a> <a id="6012" href="basicDataStructure.html#378" class="Function">Amount</a><a id="6018" class="Symbol">)</a>
                              <a id="6050" class="Symbol">→</a> <a id="6052" class="Symbol">(</a><a id="6053" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6053" class="Bound">destinationAddr</a> <a id="6069" class="Symbol">:</a> <a id="6071" href="basicDataStructure.html#405" class="Function">Address</a><a id="6078" class="Symbol">)</a>
                              <a id="6110" class="Symbol">→</a> <a id="6112" class="Symbol">(</a><a id="6113" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6113" class="Bound">cp</a>  <a id="6117" class="Symbol">:</a> <a id="6119" href="libraries.natCompare.html#1047" class="Datatype">OrderingLeq</a> <a id="6131" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6002" class="Bound">amount&#39;</a> <a id="6139" class="Symbol">(</a><a id="6140" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5560" class="Bound">currentledger</a> <a id="6154" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5752" class="Bound">calledAddr</a> <a id="6165" class="Symbol">.</a><a id="6166" href="libraries.Mainlibrary.html#800" class="Field">amount</a><a id="6172" class="Symbol">))</a>
                              <a id="6205" class="Symbol">→</a> <a id="6207" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5836" class="Bound">gasleft1</a> <a id="6216" href="libraries.natCompare.html#754" class="Function Operator">==r</a> <a id="6220" href="libraries.Mainlibrary.html#2605" class="Field">gasLeft</a>
                                 <a id="6261" class="Symbol">(</a><a id="6262" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4002" class="Function">executeTransferAux</a> <a id="6281" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5507" class="Bound">oldLedger</a> <a id="6291" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5560" class="Bound">currentledger</a> <a id="6305" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5617" class="Bound">executionStack</a> <a id="6320" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5683" class="Bound">initialAddr</a>
                                  <a id="6366" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5739" class="Bound">lastCallAddr</a> <a id="6379" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5752" class="Bound">calledAddr</a> <a id="6390" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5807" class="Bound">cont</a> <a id="6395" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5836" class="Bound">gasleft1</a> <a id="6404" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5883" class="Bound">funNameevalState</a>
                                  <a id="6455" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5949" class="Bound">msgevalState</a> <a id="6468" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6002" class="Bound">amount&#39;</a> <a id="6476" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6053" class="Bound">destinationAddr</a> <a id="6492" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6113" class="Bound">cp</a><a id="6494" class="Symbol">)</a>
<a id="6496" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5475" class="Function">lemmaExecuteTransferAuxGasEq</a> <a id="6525" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6525" class="Bound">oldLedger</a> <a id="6535" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6535" class="Bound">currentledger</a> <a id="6549" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6549" class="Bound">executionStack</a> <a id="6564" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6564" class="Bound">initialAddr</a> <a id="6576" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6576" class="Bound">lastCallAddr</a> <a id="6589" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6589" class="Bound">calledAddr</a>
                             <a id="6629" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6629" class="Bound">cont</a> <a id="6634" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6634" class="Bound">gasleft1</a> <a id="6643" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6643" class="Bound">funNameevalState</a> <a id="6660" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6660" class="Bound">msgevalState</a> <a id="6673" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6673" class="Bound">amount&#39;</a> <a id="6681" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6681" class="Bound">destinationAddr</a> <a id="6697" class="Symbol">(</a><a id="6698" href="libraries.natCompare.html#1085" class="InductiveConstructor">leq</a> <a id="6702" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6702" class="Bound">x</a><a id="6703" class="Symbol">)</a>     <a id="6709" class="Symbol">=</a> <a id="6711" href="libraries.natCompare.html#3731" class="Function">refl==r</a> <a id="6719" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6634" class="Bound">gasleft1</a>
<a id="6728" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5475" class="Function">lemmaExecuteTransferAuxGasEq</a> <a id="6757" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6757" class="Bound">oldLedger</a> <a id="6767" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6767" class="Bound">currentledger</a> <a id="6781" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6781" class="Bound">executionStack</a> <a id="6796" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6796" class="Bound">initialAddr</a> <a id="6808" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6808" class="Bound">lastCallAddr</a> <a id="6821" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6821" class="Bound">calledAddr</a>
                             <a id="6861" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6861" class="Bound">cont</a> <a id="6866" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6866" class="Bound">gasleft1</a> <a id="6875" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6875" class="Bound">funNameevalState</a> <a id="6892" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6892" class="Bound">msgevalState</a> <a id="6905" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6905" class="Bound">amount&#39;</a> <a id="6913" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6913" class="Bound">destinationAddr</a> <a id="6929" class="Symbol">(</a><a id="6930" href="libraries.natCompare.html#1123" class="InductiveConstructor">greater</a> <a id="6938" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6938" class="Bound">x</a><a id="6939" class="Symbol">)</a> <a id="6941" class="Symbol">=</a> <a id="6943" href="libraries.natCompare.html#3731" class="Function">refl==r</a> <a id="6951" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6866" class="Bound">gasleft1</a>


<a id="6962" class="Comment">-- execute transfer</a>
<a id="executeTransfer"></a><a id="6982" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6982" class="Function">executeTransfer</a> <a id="6998" class="Symbol">:</a> <a id="7000" class="Symbol">(</a><a id="7001" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7001" class="Bound">oldLedger</a> <a id="7011" class="Symbol">:</a> <a id="7013" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a><a id="7019" class="Symbol">)</a>
                <a id="7037" class="Symbol">→</a> <a id="7039" class="Symbol">(</a><a id="7040" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7040" class="Bound">currentledger</a> <a id="7054" class="Symbol">:</a> <a id="7056" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a><a id="7062" class="Symbol">)</a>
                <a id="7080" class="Symbol">→</a> <a id="7082" class="Symbol">(</a><a id="7083" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7083" class="Bound">execStack</a> <a id="7093" class="Symbol">:</a> <a id="7095" href="libraries.Mainlibrary.html#2032" class="Function">ExecutionStack</a><a id="7109" class="Symbol">)</a>
                <a id="7127" class="Symbol">→</a> <a id="7129" class="Symbol">(</a><a id="7130" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7130" class="Bound">initialAddr</a> <a id="7142" class="Symbol">:</a> <a id="7144" href="basicDataStructure.html#405" class="Function">Address</a><a id="7151" class="Symbol">)</a>
                <a id="7169" class="Symbol">→</a> <a id="7171" class="Symbol">(</a><a id="7172" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7172" class="Bound">lastCallAddr</a> <a id="7185" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7185" class="Bound">calledAddr</a> <a id="7196" class="Symbol">:</a> <a id="7198" href="basicDataStructure.html#405" class="Function">Address</a><a id="7205" class="Symbol">)</a>
                <a id="7223" class="Symbol">→</a> <a id="7225" class="Symbol">(</a><a id="7226" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7226" class="Bound">cont</a> <a id="7231" class="Symbol">:</a> <a id="7233" href="Complex-Model.ccomand.ccommands-cresponse.html#1546" class="Datatype">SmartContract</a> <a id="7247" href="basicDataStructure.html#523" class="Datatype">Msg</a><a id="7250" class="Symbol">)</a>
                <a id="7268" class="Symbol">→</a> <a id="7270" class="Symbol">(</a><a id="7271" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7271" class="Bound">gasleft</a> <a id="7279" class="Symbol">:</a> <a id="7281" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="7282" class="Symbol">)</a>
                <a id="7300" class="Symbol">→</a> <a id="7302" class="Symbol">(</a><a id="7303" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7303" class="Bound">funNameevalState</a> <a id="7320" class="Symbol">:</a> <a id="7322" href="basicDataStructure.html#190" class="Function">FunctionName</a><a id="7334" class="Symbol">)</a>
                <a id="7352" class="Symbol">→</a> <a id="7354" class="Symbol">(</a><a id="7355" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7355" class="Bound">msgevalState</a> <a id="7368" class="Symbol">:</a> <a id="7370" href="basicDataStructure.html#523" class="Datatype">Msg</a><a id="7373" class="Symbol">)</a>
                <a id="7391" class="Symbol">→</a> <a id="7393" class="Symbol">(</a><a id="7394" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7394" class="Bound">amount&#39;</a> <a id="7402" class="Symbol">:</a> <a id="7404" href="basicDataStructure.html#378" class="Function">Amount</a><a id="7410" class="Symbol">)</a>
                <a id="7428" class="Symbol">→</a> <a id="7430" class="Symbol">(</a><a id="7431" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7431" class="Bound">destinationAddr</a> <a id="7447" class="Symbol">:</a> <a id="7449" href="basicDataStructure.html#405" class="Function">Address</a><a id="7456" class="Symbol">)</a>
                <a id="7474" class="Symbol">→</a> <a id="7476" href="libraries.Mainlibrary.html#2131" class="Record">StateExecFun</a>
<a id="7489" class="Comment">--@END</a>
<a id="7496" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6982" class="Function">executeTransfer</a> <a id="7512" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7512" class="Bound">oldLedger</a> <a id="7522" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7522" class="Bound">currentledger</a> <a id="7536" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7536" class="Bound">execStack</a> <a id="7546" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7546" class="Bound">initialAddr</a> <a id="7558" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7558" class="Bound">lastCallAddr</a> <a id="7571" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7571" class="Bound">calledAddr</a>
                <a id="7598" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7598" class="Bound">cont</a> <a id="7603" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7603" class="Bound">gasleft</a>  <a id="7612" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7612" class="Bound">funNameevalState</a> <a id="7629" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7629" class="Bound">msgevalState</a> <a id="7642" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7642" class="Bound">amount&#39;</a> <a id="7650" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7650" class="Bound">destinationAddr</a>
         <a id="7675" class="Symbol">=</a> <a id="7677" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4002" class="Function">executeTransferAux</a> <a id="7696" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7512" class="Bound">oldLedger</a> <a id="7706" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7522" class="Bound">currentledger</a> <a id="7720" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7536" class="Bound">execStack</a> <a id="7730" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7546" class="Bound">initialAddr</a> <a id="7742" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7558" class="Bound">lastCallAddr</a> <a id="7755" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7571" class="Bound">calledAddr</a>
            <a id="7778" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7598" class="Bound">cont</a> <a id="7783" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7603" class="Bound">gasleft</a>  <a id="7792" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7612" class="Bound">funNameevalState</a> <a id="7809" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7629" class="Bound">msgevalState</a> <a id="7822" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7642" class="Bound">amount&#39;</a>
            <a id="7842" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7650" class="Bound">destinationAddr</a> <a id="7858" class="Symbol">(</a><a id="7859" href="libraries.natCompare.html#2247" class="Function">compareLeq</a> <a id="7870" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7642" class="Bound">amount&#39;</a> <a id="7878" class="Symbol">(</a><a id="7879" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7522" class="Bound">currentledger</a> <a id="7893" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7571" class="Bound">calledAddr</a> <a id="7904" class="Symbol">.</a><a id="7905" href="libraries.Mainlibrary.html#800" class="Field">amount</a><a id="7911" class="Symbol">))</a>



<a id="7917" class="Comment">-- the stepEF without deducting the gasLeft</a>
<a id="stepEF"></a><a id="7961" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7961" class="Function">stepEF</a> <a id="7968" class="Symbol">:</a> <a id="7970" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a> <a id="7977" class="Symbol">→</a> <a id="7979" href="libraries.Mainlibrary.html#2131" class="Record">StateExecFun</a> <a id="7992" class="Symbol">→</a> <a id="7994" href="libraries.Mainlibrary.html#2131" class="Record">StateExecFun</a>
<a id="8007" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7961" class="Function">stepEF</a> <a id="8014" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8014" class="Bound">oldLedger</a> <a id="8024" class="Symbol">(</a><a id="8025" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="8033" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8033" class="Bound">currentLedger</a> <a id="8047" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8047" class="Bound">executionStack</a> <a id="8062" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8062" class="Bound">initialAddr</a> <a id="8074" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8074" class="Bound">lastCallAddr</a> <a id="8087" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8087" class="Bound">calledAddr</a>
                 <a id="8115" class="Symbol">(</a><a id="8116" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="InductiveConstructor">exec</a> <a id="8121" href="Complex-Model.ccomand.ccommands-cresponse.html#860" class="InductiveConstructor">currentAddrLookupc</a> <a id="8140" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8140" class="Bound">costcomputecont</a> <a id="8156" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8156" class="Bound">cont</a><a id="8160" class="Symbol">)</a> <a id="8162" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8162" class="Bound">gasLeft</a> <a id="8170" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8170" class="Bound">funNameevalState</a> <a id="8187" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8187" class="Bound">msgevalState</a><a id="8199" class="Symbol">)</a>
       <a id="8208" class="Symbol">=</a> <a id="8210" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="8218" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8033" class="Bound">currentLedger</a> <a id="8232" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8047" class="Bound">executionStack</a> <a id="8247" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8062" class="Bound">initialAddr</a> <a id="8259" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8074" class="Bound">lastCallAddr</a> <a id="8272" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8087" class="Bound">calledAddr</a>
          <a id="8293" class="Symbol">(</a><a id="8294" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8156" class="Bound">cont</a> <a id="8299" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8087" class="Bound">calledAddr</a><a id="8309" class="Symbol">)</a> <a id="8311" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8162" class="Bound">gasLeft</a>  <a id="8320" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8170" class="Bound">funNameevalState</a> <a id="8337" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8187" class="Bound">msgevalState</a> 

<a id="8352" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7961" class="Function">stepEF</a> <a id="8359" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8359" class="Bound">oldLedger</a> <a id="8369" class="Symbol">(</a><a id="8370" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="8378" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8378" class="Bound">currentLedger</a> <a id="8392" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8392" class="Bound">executionStack</a> <a id="8407" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8407" class="Bound">initialAddr</a> <a id="8419" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8419" class="Bound">lastCallAddr</a> <a id="8432" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8432" class="Bound">calledAddr</a>
                 <a id="8460" class="Symbol">(</a><a id="8461" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="InductiveConstructor">exec</a> <a id="8466" href="Complex-Model.ccomand.ccommands-cresponse.html#895" class="InductiveConstructor">callAddrLookupc</a> <a id="8482" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8482" class="Bound">costcomputecont</a> <a id="8498" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8498" class="Bound">cont</a><a id="8502" class="Symbol">)</a> <a id="8504" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8504" class="Bound">gasLeft</a> <a id="8512" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8512" class="Bound">funNameevalState</a> <a id="8529" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8529" class="Bound">msgevalState</a><a id="8541" class="Symbol">)</a>
       <a id="8550" class="Symbol">=</a> <a id="8552" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="8560" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8378" class="Bound">currentLedger</a> <a id="8574" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8392" class="Bound">executionStack</a> <a id="8589" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8407" class="Bound">initialAddr</a> <a id="8601" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8419" class="Bound">lastCallAddr</a> <a id="8614" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8432" class="Bound">calledAddr</a> <a id="8625" class="Symbol">(</a><a id="8626" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8498" class="Bound">cont</a> <a id="8631" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8419" class="Bound">lastCallAddr</a><a id="8643" class="Symbol">)</a>
          <a id="8655" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8504" class="Bound">gasLeft</a>  <a id="8664" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8512" class="Bound">funNameevalState</a> <a id="8681" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8529" class="Bound">msgevalState</a>

<a id="8695" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7961" class="Function">stepEF</a> <a id="8702" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8702" class="Bound">oldLedger</a> <a id="8712" class="Symbol">(</a><a id="8713" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="8721" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8721" class="Bound">currentLedger</a> <a id="8735" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8735" class="Bound">executionStack</a> <a id="8750" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8750" class="Bound">initialAddr</a> <a id="8762" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8762" class="Bound">lastCallAddr</a> <a id="8775" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8775" class="Bound">calledAddr</a>
                 <a id="8803" class="Symbol">(</a><a id="8804" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="InductiveConstructor">exec</a> <a id="8809" class="Symbol">(</a><a id="8810" href="Complex-Model.ccomand.ccommands-cresponse.html#550" class="InductiveConstructor">updatec</a> <a id="8818" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8818" class="Bound">changedFname</a> <a id="8831" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8831" class="Bound">changedPFun</a> <a id="8843" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8843" class="Bound">cost</a><a id="8847" class="Symbol">)</a> <a id="8849" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8849" class="Bound">costcomputecont</a> <a id="8865" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8865" class="Bound">cont</a><a id="8869" class="Symbol">)</a>
                 <a id="8888" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8888" class="Bound">gasLeft</a>  <a id="8897" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8897" class="Bound">funNameevalState</a> <a id="8914" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8914" class="Bound">msgevalState</a><a id="8926" class="Symbol">)</a>
       <a id="8935" class="Symbol">=</a> <a id="8937" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="8945" class="Symbol">(</a><a id="8946" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#729" class="Function">updateLedgerviewfun</a> <a id="8966" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8721" class="Bound">currentLedger</a> <a id="8980" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8775" class="Bound">calledAddr</a> <a id="8991" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8818" class="Bound">changedFname</a>  <a id="9005" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8831" class="Bound">changedPFun</a> <a id="9017" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8843" class="Bound">cost</a><a id="9021" class="Symbol">)</a>
          <a id="9033" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8735" class="Bound">executionStack</a> <a id="9048" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8750" class="Bound">initialAddr</a> <a id="9060" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8762" class="Bound">lastCallAddr</a> <a id="9073" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8775" class="Bound">calledAddr</a> <a id="9084" class="Symbol">(</a><a id="9085" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8865" class="Bound">cont</a> <a id="9090" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="9092" class="Symbol">)</a> <a id="9094" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8888" class="Bound">gasLeft</a>
            <a id="9114" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8897" class="Bound">funNameevalState</a> <a id="9131" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8914" class="Bound">msgevalState</a>

<a id="9145" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7961" class="Function">stepEF</a> <a id="9152" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9152" class="Bound">oldLedger</a> <a id="9162" class="Symbol">(</a><a id="9163" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="9171" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9171" class="Bound">currentLedger</a> <a id="9185" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9185" class="Bound">executionStack</a> <a id="9200" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9200" class="Bound">initialAddr</a> <a id="9212" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9212" class="Bound">oldlastCallAddr</a> <a id="9228" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9228" class="Bound">oldcalledAddr</a>
                 <a id="9259" class="Symbol">(</a><a id="9260" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="InductiveConstructor">exec</a> <a id="9265" class="Symbol">(</a><a id="9266" href="Complex-Model.ccomand.ccommands-cresponse.html#802" class="InductiveConstructor">callc</a> <a id="9272" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9272" class="Bound">newaddr</a> <a id="9280" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9280" class="Bound">fname</a> <a id="9286" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9286" class="Bound">msg</a><a id="9289" class="Symbol">)</a> <a id="9291" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9291" class="Bound">costcomputecont</a> <a id="9307" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9307" class="Bound">cont</a><a id="9311" class="Symbol">)</a> <a id="9313" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9313" class="Bound">gasLeft</a> <a id="9321" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9321" class="Bound">funNameevalState</a> <a id="9338" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9338" class="Bound">msgevalState</a><a id="9350" class="Symbol">)</a>
       <a id="9359" class="Symbol">=</a> <a id="9361" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="9369" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9171" class="Bound">currentLedger</a>
           <a id="9394" class="Symbol">(</a><a id="9395" href="libraries.Mainlibrary.html#1157" class="InductiveConstructor">execStackEl</a> <a id="9407" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9212" class="Bound">oldlastCallAddr</a> <a id="9423" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9228" class="Bound">oldcalledAddr</a> <a id="9437" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9307" class="Bound">cont</a> <a id="9442" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9291" class="Bound">costcomputecont</a> <a id="9458" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9321" class="Bound">funNameevalState</a> <a id="9475" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9338" class="Bound">msgevalState</a> <a id="9488" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9490" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9185" class="Bound">executionStack</a><a id="9504" class="Symbol">)</a>
           <a id="9517" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9200" class="Bound">initialAddr</a> <a id="9529" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9228" class="Bound">oldcalledAddr</a> <a id="9543" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9272" class="Bound">newaddr</a> <a id="9551" class="Symbol">(</a><a id="9552" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9171" class="Bound">currentLedger</a> <a id="9566" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9272" class="Bound">newaddr</a> <a id="9574" class="Symbol">.</a><a id="9575" href="libraries.Mainlibrary.html#826" class="Field">fun</a> <a id="9579" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9280" class="Bound">fname</a> <a id="9585" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9286" class="Bound">msg</a><a id="9588" class="Symbol">)</a> <a id="9590" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9313" class="Bound">gasLeft</a> <a id="9598" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9280" class="Bound">fname</a> <a id="9604" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9286" class="Bound">msg</a>

<a id="9609" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7961" class="Function">stepEF</a> <a id="9616" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9616" class="Bound">oldLedger</a> <a id="9626" class="Symbol">(</a><a id="9627" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="9635" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9635" class="Bound">currentLedger</a> <a id="9649" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9649" class="Bound">executionStack</a> <a id="9664" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9664" class="Bound">initialAddr</a> <a id="9676" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9676" class="Bound">lastCallAddr</a> <a id="9689" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9689" class="Bound">calledAddr</a>
                 <a id="9717" class="Symbol">(</a><a id="9718" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="InductiveConstructor">exec</a> <a id="9723" class="Symbol">(</a><a id="9724" href="Complex-Model.ccomand.ccommands-cresponse.html#756" class="InductiveConstructor">transferc</a> <a id="9734" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9734" class="Bound">amount</a> <a id="9741" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9741" class="Bound">destinationAddr</a><a id="9756" class="Symbol">)</a> <a id="9758" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9758" class="Bound">costcomputecont</a> <a id="9774" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9774" class="Bound">cont</a><a id="9778" class="Symbol">)</a> <a id="9780" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9780" class="Bound">gasLeft</a>  <a id="9789" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9789" class="Bound">funNameevalState</a> <a id="9806" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9806" class="Bound">msgevalState</a><a id="9818" class="Symbol">)</a>
       <a id="9827" class="Symbol">=</a> <a id="9829" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6982" class="Function">executeTransfer</a> <a id="9845" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9616" class="Bound">oldLedger</a> <a id="9855" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9635" class="Bound">currentLedger</a> <a id="9869" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9649" class="Bound">executionStack</a> <a id="9884" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9664" class="Bound">initialAddr</a> <a id="9896" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9676" class="Bound">lastCallAddr</a> <a id="9909" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9689" class="Bound">calledAddr</a>
       <a id="9927" class="Symbol">(</a><a id="9928" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9774" class="Bound">cont</a> <a id="9933" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="9935" class="Symbol">)</a> <a id="9937" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9780" class="Bound">gasLeft</a>  <a id="9946" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9789" class="Bound">funNameevalState</a> <a id="9963" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9806" class="Bound">msgevalState</a> <a id="9976" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9734" class="Bound">amount</a> <a id="9983" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9741" class="Bound">destinationAddr</a>

<a id="10000" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7961" class="Function">stepEF</a> <a id="10007" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10007" class="Bound">oldLedger</a> <a id="10017" class="Symbol">(</a><a id="10018" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="10026" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10026" class="Bound">currentLedger</a> <a id="10040" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10040" class="Bound">executionStack</a> <a id="10055" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10055" class="Bound">initialAddr</a> <a id="10067" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10067" class="Bound">lastCallAddr</a> <a id="10080" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10080" class="Bound">calledAddr</a>
                 <a id="10108" class="Symbol">(</a><a id="10109" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="InductiveConstructor">exec</a> <a id="10114" class="Symbol">(</a><a id="10115" href="Complex-Model.ccomand.ccommands-cresponse.html#927" class="InductiveConstructor">getAmountc</a> <a id="10126" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10126" class="Bound">addrLookedUp</a><a id="10138" class="Symbol">)</a> <a id="10140" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10140" class="Bound">costcomputecont</a> <a id="10156" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10156" class="Bound">cont</a><a id="10160" class="Symbol">)</a> <a id="10162" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10162" class="Bound">gasLeft</a> <a id="10170" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10170" class="Bound">funNameevalState</a> <a id="10187" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10187" class="Bound">msgevalState</a><a id="10199" class="Symbol">)</a>
       <a id="10208" class="Symbol">=</a> <a id="10210" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="10218" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10026" class="Bound">currentLedger</a> <a id="10232" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10040" class="Bound">executionStack</a> <a id="10247" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10055" class="Bound">initialAddr</a> <a id="10259" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10067" class="Bound">lastCallAddr</a> <a id="10272" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10080" class="Bound">calledAddr</a>
           <a id="10294" class="Symbol">(</a><a id="10295" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10156" class="Bound">cont</a> <a id="10300" class="Symbol">(</a><a id="10301" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10026" class="Bound">currentLedger</a> <a id="10315" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10126" class="Bound">addrLookedUp</a> <a id="10328" class="Symbol">.</a><a id="10329" href="libraries.Mainlibrary.html#800" class="Field">amount</a><a id="10335" class="Symbol">))</a> <a id="10338" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10162" class="Bound">gasLeft</a> <a id="10346" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10170" class="Bound">funNameevalState</a> <a id="10363" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10187" class="Bound">msgevalState</a>


<a id="10378" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7961" class="Function">stepEF</a> <a id="10385" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10385" class="Bound">oldLedger</a> <a id="10395" class="Symbol">(</a><a id="10396" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="10404" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10404" class="Bound">ledger</a> <a id="10411" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10411" class="Bound">executionStack</a> <a id="10426" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10426" class="Bound">initialAddr</a> <a id="10438" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10438" class="Bound">lastCallAddr</a> <a id="10451" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10451" class="Bound">calledAddr</a>
                   <a id="10481" class="Symbol">(</a><a id="10482" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="InductiveConstructor">exec</a> <a id="10487" class="Symbol">(</a><a id="10488" href="Complex-Model.ccomand.ccommands-cresponse.html#711" class="InductiveConstructor">raiseException</a> <a id="10503" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10503" class="Bound">cost</a> <a id="10508" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10508" class="Bound">str</a><a id="10511" class="Symbol">)</a> <a id="10513" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10513" class="Bound">costcomputecont</a> <a id="10529" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10529" class="Bound">cont</a><a id="10533" class="Symbol">)</a>
                   <a id="10554" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10554" class="Bound">gasLeft</a> <a id="10562" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10562" class="Bound">funNameevalState</a> <a id="10579" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10579" class="Bound">msgevalState</a><a id="10591" class="Symbol">)</a>
       <a id="10600" class="Symbol">=</a> <a id="10602" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="10610" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10385" class="Bound">oldLedger</a> <a id="10620" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10411" class="Bound">executionStack</a> <a id="10635" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10426" class="Bound">initialAddr</a> <a id="10647" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10438" class="Bound">lastCallAddr</a> <a id="10660" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10451" class="Bound">calledAddr</a>
         <a id="10680" class="Symbol">(</a><a id="10681" href="Complex-Model.ccomand.ccommands-cresponse.html#1624" class="InductiveConstructor">error</a>  <a id="10688" class="Symbol">(</a><a id="10689" href="basicDataStructure.html#694" class="InductiveConstructor">strErr</a> <a id="10696" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10508" class="Bound">str</a><a id="10699" class="Symbol">)</a> <a id="10701" href="basicDataStructure.html#881" class="InductiveConstructor Operator">⟨</a> <a id="10703" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10438" class="Bound">lastCallAddr</a> <a id="10716" href="basicDataStructure.html#881" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="10719" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10426" class="Bound">initialAddr</a> <a id="10731" href="basicDataStructure.html#881" class="InductiveConstructor Operator">∙</a> <a id="10733" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10562" class="Bound">funNameevalState</a> <a id="10750" href="basicDataStructure.html#881" class="InductiveConstructor Operator">[</a> <a id="10752" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10579" class="Bound">msgevalState</a> <a id="10765" href="basicDataStructure.html#881" class="InductiveConstructor Operator">]⟩</a><a id="10767" class="Symbol">)</a>
         <a id="10778" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10554" class="Bound">gasLeft</a> <a id="10786" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10562" class="Bound">funNameevalState</a> <a id="10803" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10579" class="Bound">msgevalState</a>


<a id="10818" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7961" class="Function">stepEF</a> <a id="10825" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10825" class="Bound">oldLedger</a> <a id="10835" class="Symbol">(</a><a id="10836" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="10844" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10844" class="Bound">currentLedger</a> <a id="10858" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10858" class="Bound">executionStack</a> <a id="10873" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10873" class="Bound">initialAddr</a> <a id="10885" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10885" class="Bound">lastCallAddr</a> <a id="10898" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10898" class="Bound">calledAddr</a>
                 <a id="10926" class="Symbol">(</a><a id="10927" href="Complex-Model.ccomand.ccommands-cresponse.html#1624" class="InductiveConstructor">error</a> <a id="10933" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10933" class="Bound">errorMsg</a> <a id="10942" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10942" class="Bound">debugInfo</a><a id="10951" class="Symbol">)</a> <a id="10953" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10953" class="Bound">gasLeft</a>  <a id="10962" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10962" class="Bound">funNameevalState</a> <a id="10979" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10979" class="Bound">msgevalState</a><a id="10991" class="Symbol">)</a>
       <a id="11000" class="Symbol">=</a> <a id="11002" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="11010" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10825" class="Bound">oldLedger</a> <a id="11020" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10858" class="Bound">executionStack</a> <a id="11035" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10873" class="Bound">initialAddr</a> <a id="11047" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10885" class="Bound">lastCallAddr</a> <a id="11060" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10898" class="Bound">calledAddr</a>
         <a id="11080" class="Symbol">(</a><a id="11081" href="Complex-Model.ccomand.ccommands-cresponse.html#1624" class="InductiveConstructor">error</a> <a id="11087" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10933" class="Bound">errorMsg</a> <a id="11096" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10942" class="Bound">debugInfo</a><a id="11105" class="Symbol">)</a>  <a id="11108" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10953" class="Bound">gasLeft</a>  <a id="11117" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10962" class="Bound">funNameevalState</a> <a id="11134" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10979" class="Bound">msgevalState</a>


<a id="11149" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7961" class="Function">stepEF</a> <a id="11156" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11156" class="Bound">oldLedger</a> <a id="11166" class="Symbol">(</a><a id="11167" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="11175" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11175" class="Bound">currentLedger</a> <a id="11189" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11189" class="Bound">executionStack</a> <a id="11204" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11204" class="Bound">initialAddr</a> <a id="11216" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11216" class="Bound">lastCallAddr</a> <a id="11229" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11229" class="Bound">calledAddr</a>
                 <a id="11257" class="Symbol">(</a><a id="11258" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="InductiveConstructor">exec</a> <a id="11263" class="Symbol">(</a><a id="11264" href="Complex-Model.ccomand.ccommands-cresponse.html#491" class="InductiveConstructor">callView</a> <a id="11273" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11273" class="Bound">addr</a> <a id="11278" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11278" class="Bound">fname</a> <a id="11284" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11284" class="Bound">msg</a><a id="11287" class="Symbol">)</a> <a id="11289" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11289" class="Bound">costcomputecont</a> <a id="11305" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11305" class="Bound">cont</a><a id="11309" class="Symbol">)</a> <a id="11311" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11311" class="Bound">gasLeft</a>
                  <a id="11337" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11337" class="Bound">funNameevalState</a> <a id="11354" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11354" class="Bound">msgevalState</a><a id="11366" class="Symbol">)</a>
       <a id="11375" class="Symbol">=</a> <a id="11377" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="11385" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11175" class="Bound">currentLedger</a> <a id="11399" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11189" class="Bound">executionStack</a> <a id="11414" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11204" class="Bound">initialAddr</a> <a id="11426" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11216" class="Bound">lastCallAddr</a> <a id="11439" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11229" class="Bound">calledAddr</a>
         <a id="11459" class="Symbol">(</a><a id="11460" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11305" class="Bound">cont</a> <a id="11465" class="Symbol">(</a><a id="11466" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11175" class="Bound">currentLedger</a> <a id="11480" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11273" class="Bound">addr</a> <a id="11485" class="Symbol">.</a><a id="11486" href="libraries.Mainlibrary.html#895" class="Field">viewFunction</a> <a id="11499" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11278" class="Bound">fname</a> <a id="11505" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11284" class="Bound">msg</a><a id="11508" class="Symbol">))</a> <a id="11511" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11311" class="Bound">gasLeft</a> <a id="11519" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11278" class="Bound">fname</a> <a id="11525" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11284" class="Bound">msg</a>


<a id="11531" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7961" class="Function">stepEF</a> <a id="11538" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11538" class="Bound">oldLedger</a> <a id="11548" class="Symbol">(</a><a id="11549" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="11557" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11557" class="Bound">currentLedger</a> <a id="11571" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="11574" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11574" class="Bound">initialAddr</a> <a id="11586" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11586" class="Bound">lastCallAddr</a> <a id="11599" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11599" class="Bound">calledAddr</a>
                 <a id="11627" class="Symbol">(</a><a id="11628" href="Complex-Model.ccomand.ccommands-cresponse.html#1586" class="InductiveConstructor">return</a> <a id="11635" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11635" class="Bound">cost</a> <a id="11640" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11640" class="Bound">result</a><a id="11646" class="Symbol">)</a> <a id="11648" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11648" class="Bound">gasLeft</a>  <a id="11657" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11657" class="Bound">funNameevalState</a> <a id="11674" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11674" class="Bound">msgevalState</a><a id="11686" class="Symbol">)</a>
       <a id="11695" class="Symbol">=</a> <a id="11697" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="11705" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11557" class="Bound">currentLedger</a> <a id="11719" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="11722" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11574" class="Bound">initialAddr</a> <a id="11734" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11586" class="Bound">lastCallAddr</a> <a id="11747" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11599" class="Bound">calledAddr</a>
         <a id="11767" class="Symbol">(</a><a id="11768" href="Complex-Model.ccomand.ccommands-cresponse.html#1586" class="InductiveConstructor">return</a> <a id="11775" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11635" class="Bound">cost</a> <a id="11780" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11640" class="Bound">result</a><a id="11786" class="Symbol">)</a> <a id="11788" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11648" class="Bound">gasLeft</a>  <a id="11797" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11657" class="Bound">funNameevalState</a> <a id="11814" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11674" class="Bound">msgevalState</a> 

<a id="11829" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7961" class="Function">stepEF</a> <a id="11836" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11836" class="Bound">oldLedger</a> <a id="11846" class="Symbol">(</a><a id="11847" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="11855" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11855" class="Bound">currentLedger</a> <a id="11869" class="Symbol">(</a><a id="11870" href="libraries.Mainlibrary.html#1157" class="InductiveConstructor">execStackEl</a> <a id="11882" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11882" class="Bound">prevLastCallAddress</a> <a id="11902" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11902" class="Bound">prevCalledAddress</a> <a id="11920" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11920" class="Bound">prevContinuation</a>
                 <a id="11954" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11954" class="Bound">prevCostCont</a> <a id="11967" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11967" class="Bound">prevFunName</a> <a id="11979" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11979" class="Bound">prevMsgExec</a> <a id="11991" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="11993" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11993" class="Bound">executionStack</a><a id="12007" class="Symbol">)</a>
                  <a id="12027" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12027" class="Bound">initialAddr</a> <a id="12039" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12039" class="Bound">lastCallAddr</a> <a id="12052" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12052" class="Bound">calledAddr</a> <a id="12063" class="Symbol">(</a><a id="12064" href="Complex-Model.ccomand.ccommands-cresponse.html#1586" class="InductiveConstructor">return</a> <a id="12071" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12071" class="Bound">cost</a> <a id="12076" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12076" class="Bound">result</a><a id="12082" class="Symbol">)</a> <a id="12084" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12084" class="Bound">gasLeft</a> <a id="12092" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12092" class="Bound">funNameevalState</a> <a id="12109" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12109" class="Bound">msgevalState</a><a id="12121" class="Symbol">)</a>
       <a id="12130" class="Symbol">=</a> <a id="12132" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="12140" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11855" class="Bound">currentLedger</a> <a id="12154" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11993" class="Bound">executionStack</a> <a id="12169" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12027" class="Bound">initialAddr</a> <a id="12181" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11882" class="Bound">prevLastCallAddress</a> <a id="12201" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11902" class="Bound">prevCalledAddress</a>
          <a id="12229" class="Symbol">(</a><a id="12230" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11920" class="Bound">prevContinuation</a> <a id="12247" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12076" class="Bound">result</a><a id="12253" class="Symbol">)</a> <a id="12255" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12084" class="Bound">gasLeft</a> <a id="12263" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11967" class="Bound">prevFunName</a> <a id="12275" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11979" class="Bound">prevMsgExec</a>


<a id="12289" class="Comment">--some lemmas to prove and we use them with our executevotingexample.agda</a>
<a id="lemmaStepEFpreserveGas"></a><a id="12363" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12363" class="Function">lemmaStepEFpreserveGas</a> <a id="12386" class="Symbol">:</a> <a id="12388" class="Symbol">(</a><a id="12389" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12389" class="Bound">oldLedger</a> <a id="12399" class="Symbol">:</a> <a id="12401" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a><a id="12407" class="Symbol">)</a> <a id="12409" class="Symbol">→</a> <a id="12411" class="Symbol">(</a><a id="12412" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12412" class="Bound">state</a> <a id="12418" class="Symbol">:</a> <a id="12420" href="libraries.Mainlibrary.html#2131" class="Record">StateExecFun</a><a id="12432" class="Symbol">)</a> <a id="12434" class="Symbol">→</a>
                         <a id="12461" href="libraries.Mainlibrary.html#2605" class="Field">gasLeft</a> <a id="12469" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12412" class="Bound">state</a> <a id="12475" href="libraries.natCompare.html#754" class="Function Operator">==r</a> <a id="12479" href="libraries.Mainlibrary.html#2605" class="Field">gasLeft</a> <a id="12487" class="Symbol">(</a><a id="12488" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7961" class="Function">stepEF</a> <a id="12495" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12389" class="Bound">oldLedger</a> <a id="12505" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12412" class="Bound">state</a><a id="12510" class="Symbol">)</a>
<a id="12512" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12363" class="Function">lemmaStepEFpreserveGas</a> <a id="12535" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12535" class="Bound">oldLedger</a> <a id="12545" class="Symbol">(</a><a id="12546" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="12554" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12554" class="Bound">ledger</a> <a id="12561" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="12564" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12564" class="Bound">initialAddr</a> <a id="12576" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12576" class="Bound">lastCallAddr</a> <a id="12589" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12589" class="Bound">calledAddr</a>
                       <a id="12623" class="Symbol">(</a><a id="12624" href="Complex-Model.ccomand.ccommands-cresponse.html#1586" class="InductiveConstructor">return</a> <a id="12631" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12631" class="Bound">x</a> <a id="12633" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12633" class="Bound">x₁</a><a id="12635" class="Symbol">)</a> <a id="12637" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12637" class="Bound">gasLeft1</a> <a id="12646" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12646" class="Bound">funNameevalState</a> <a id="12663" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12663" class="Bound">msgevalState</a><a id="12675" class="Symbol">)</a> <a id="12677" class="Symbol">=</a> <a id="12679" href="libraries.natCompare.html#3731" class="Function">refl==r</a> <a id="12687" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12637" class="Bound">gasLeft1</a>
<a id="12696" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12363" class="Function">lemmaStepEFpreserveGas</a> <a id="12719" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12719" class="Bound">oldLedger</a> <a id="12729" class="Symbol">(</a><a id="12730" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="12738" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12738" class="Bound">ledger</a> <a id="12745" class="Symbol">(</a><a id="12746" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12746" class="Bound">x₂</a> <a id="12749" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="12751" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12751" class="Bound">executionStack₁</a><a id="12766" class="Symbol">)</a> <a id="12768" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12768" class="Bound">initialAddr</a> <a id="12780" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12780" class="Bound">lastCallAddr</a> <a id="12793" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12793" class="Bound">calledAddr</a>
                       <a id="12827" class="Symbol">(</a><a id="12828" href="Complex-Model.ccomand.ccommands-cresponse.html#1586" class="InductiveConstructor">return</a> <a id="12835" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12835" class="Bound">x</a> <a id="12837" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12837" class="Bound">x₁</a><a id="12839" class="Symbol">)</a> <a id="12841" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12841" class="Bound">gasLeft1</a> <a id="12850" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12850" class="Bound">funNameevalState</a> <a id="12867" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12867" class="Bound">msgevalState</a><a id="12879" class="Symbol">)</a> <a id="12881" class="Symbol">=</a> <a id="12883" href="libraries.natCompare.html#3731" class="Function">refl==r</a> <a id="12891" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12841" class="Bound">gasLeft1</a>
<a id="12900" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12363" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="12922" class="CatchallClause"> </a><a id="12923" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12923" class="CatchallClause Bound">oldLedger</a><a id="12932" class="CatchallClause"> </a><a id="12933" class="CatchallClause Symbol">(</a><a id="12934" href="libraries.Mainlibrary.html#2170" class="CatchallClause InductiveConstructor">stateEF</a><a id="12941" class="CatchallClause"> </a><a id="12942" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12942" class="CatchallClause Bound">ledger</a><a id="12948" class="CatchallClause"> </a><a id="12949" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12949" class="CatchallClause Bound">executionStack</a><a id="12963" class="CatchallClause"> </a><a id="12964" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12964" class="CatchallClause Bound">initialAddr</a><a id="12975" class="CatchallClause"> </a><a id="12976" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12976" class="CatchallClause Bound">lastCallAddr</a><a id="12988" class="CatchallClause"> </a><a id="12989" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12989" class="CatchallClause Bound">calledAddr</a>
                       <a id="13023" class="CatchallClause Symbol">(</a><a id="13024" href="Complex-Model.ccomand.ccommands-cresponse.html#1624" class="CatchallClause InductiveConstructor">error</a><a id="13029" class="CatchallClause"> </a><a id="13030" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13030" class="CatchallClause Bound">x</a><a id="13031" class="CatchallClause"> </a><a id="13032" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13032" class="CatchallClause Bound">x₁</a><a id="13034" class="CatchallClause Symbol">)</a><a id="13035" class="CatchallClause"> </a><a id="13036" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13036" class="CatchallClause Bound">gasLeft1</a><a id="13044" class="CatchallClause"> </a><a id="13045" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13045" class="CatchallClause Bound">funNameevalState</a><a id="13061" class="CatchallClause"> </a><a id="13062" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13062" class="CatchallClause Bound">msgevalState</a><a id="13074" class="CatchallClause Symbol">)</a> <a id="13076" class="Symbol">=</a> <a id="13078" href="libraries.natCompare.html#3731" class="Function">refl==r</a> <a id="13086" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13036" class="Bound">gasLeft1</a>
<a id="13095" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12363" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="13117" class="CatchallClause"> </a><a id="13118" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13118" class="CatchallClause Bound">oldLedger</a><a id="13127" class="CatchallClause"> </a><a id="13128" class="CatchallClause Symbol">(</a><a id="13129" href="libraries.Mainlibrary.html#2170" class="CatchallClause InductiveConstructor">stateEF</a><a id="13136" class="CatchallClause"> </a><a id="13137" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13137" class="CatchallClause Bound">ledger</a><a id="13143" class="CatchallClause"> </a><a id="13144" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13144" class="CatchallClause Bound">executionStack</a><a id="13158" class="CatchallClause"> </a><a id="13159" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13159" class="CatchallClause Bound">initialAddr</a><a id="13170" class="CatchallClause"> </a><a id="13171" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13171" class="CatchallClause Bound">lastCallAddr</a><a id="13183" class="CatchallClause"> </a><a id="13184" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13184" class="CatchallClause Bound">calledAddr</a>
                       <a id="13218" class="CatchallClause Symbol">(</a><a id="13219" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="CatchallClause InductiveConstructor">exec</a><a id="13223" class="CatchallClause"> </a><a id="13224" class="CatchallClause Symbol">(</a><a id="13225" href="Complex-Model.ccomand.ccommands-cresponse.html#491" class="CatchallClause InductiveConstructor">callView</a><a id="13233" class="CatchallClause"> </a><a id="13234" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13234" class="CatchallClause Bound">x₂</a><a id="13236" class="CatchallClause"> </a><a id="13237" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13237" class="CatchallClause Bound">x₃</a><a id="13239" class="CatchallClause"> </a><a id="13240" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13240" class="CatchallClause Bound">x₄</a><a id="13242" class="CatchallClause Symbol">)</a><a id="13243" class="CatchallClause"> </a><a id="13244" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13244" class="CatchallClause Bound">x</a><a id="13245" class="CatchallClause"> </a><a id="13246" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13246" class="CatchallClause Bound">x₁</a><a id="13248" class="CatchallClause Symbol">)</a><a id="13249" class="CatchallClause"> </a><a id="13250" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13250" class="CatchallClause Bound">gasLeft1</a><a id="13258" class="CatchallClause"> </a><a id="13259" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13259" class="CatchallClause Bound">funNameevalState</a><a id="13275" class="CatchallClause"> </a><a id="13276" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13276" class="CatchallClause Bound">msgevalState</a><a id="13288" class="CatchallClause Symbol">)</a> <a id="13290" class="Symbol">=</a> <a id="13292" href="libraries.natCompare.html#3731" class="Function">refl==r</a> <a id="13300" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13250" class="Bound">gasLeft1</a>
<a id="13309" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12363" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="13331" class="CatchallClause"> </a><a id="13332" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13332" class="CatchallClause Bound">oldLedger</a><a id="13341" class="CatchallClause"> </a><a id="13342" class="CatchallClause Symbol">(</a><a id="13343" href="libraries.Mainlibrary.html#2170" class="CatchallClause InductiveConstructor">stateEF</a><a id="13350" class="CatchallClause"> </a><a id="13351" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13351" class="CatchallClause Bound">ledger</a><a id="13357" class="CatchallClause"> </a><a id="13358" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13358" class="CatchallClause Bound">executionStack</a><a id="13372" class="CatchallClause"> </a><a id="13373" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13373" class="CatchallClause Bound">initialAddr</a><a id="13384" class="CatchallClause"> </a><a id="13385" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13385" class="CatchallClause Bound">lastCallAddr</a><a id="13397" class="CatchallClause"> </a><a id="13398" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13398" class="CatchallClause Bound">calledAddr</a>
                       <a id="13432" class="CatchallClause Symbol">(</a><a id="13433" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="CatchallClause InductiveConstructor">exec</a><a id="13437" class="CatchallClause"> </a><a id="13438" class="CatchallClause Symbol">(</a><a id="13439" href="Complex-Model.ccomand.ccommands-cresponse.html#550" class="CatchallClause InductiveConstructor">updatec</a><a id="13446" class="CatchallClause"> </a><a id="13447" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13447" class="CatchallClause Bound">x₂</a><a id="13449" class="CatchallClause"> </a><a id="13450" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13450" class="CatchallClause Bound">x₃</a><a id="13452" class="CatchallClause"> </a><a id="13453" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13453" class="CatchallClause Bound">x₄</a><a id="13455" class="CatchallClause Symbol">)</a><a id="13456" class="CatchallClause"> </a><a id="13457" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13457" class="CatchallClause Bound">x</a><a id="13458" class="CatchallClause"> </a><a id="13459" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13459" class="CatchallClause Bound">x₁</a><a id="13461" class="CatchallClause Symbol">)</a><a id="13462" class="CatchallClause"> </a><a id="13463" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13463" class="CatchallClause Bound">gasLeft1</a><a id="13471" class="CatchallClause"> </a><a id="13472" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13472" class="CatchallClause Bound">funNameevalState</a><a id="13488" class="CatchallClause"> </a><a id="13489" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13489" class="CatchallClause Bound">msgevalState</a><a id="13501" class="CatchallClause Symbol">)</a> <a id="13503" class="Symbol">=</a> <a id="13505" href="libraries.natCompare.html#3731" class="Function">refl==r</a> <a id="13513" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13463" class="Bound">gasLeft1</a>
<a id="13522" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12363" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="13544" class="CatchallClause"> </a><a id="13545" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13545" class="CatchallClause Bound">oldLedger</a><a id="13554" class="CatchallClause"> </a><a id="13555" class="CatchallClause Symbol">(</a><a id="13556" href="libraries.Mainlibrary.html#2170" class="CatchallClause InductiveConstructor">stateEF</a><a id="13563" class="CatchallClause"> </a><a id="13564" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13564" class="CatchallClause Bound">ledger</a><a id="13570" class="CatchallClause"> </a><a id="13571" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13571" class="CatchallClause Bound">executionStack</a><a id="13585" class="CatchallClause"> </a><a id="13586" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13586" class="CatchallClause Bound">initialAddr</a><a id="13597" class="CatchallClause"> </a><a id="13598" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13598" class="CatchallClause Bound">lastCallAddr</a><a id="13610" class="CatchallClause"> </a><a id="13611" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13611" class="CatchallClause Bound">calledAddr</a>
                       <a id="13645" class="CatchallClause Symbol">(</a><a id="13646" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="CatchallClause InductiveConstructor">exec</a><a id="13650" class="CatchallClause"> </a><a id="13651" class="CatchallClause Symbol">(</a><a id="13652" href="Complex-Model.ccomand.ccommands-cresponse.html#711" class="CatchallClause InductiveConstructor">raiseException</a><a id="13666" class="CatchallClause"> </a><a id="13667" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13667" class="CatchallClause Bound">x₂</a><a id="13669" class="CatchallClause"> </a><a id="13670" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13670" class="CatchallClause Bound">x₃</a><a id="13672" class="CatchallClause Symbol">)</a><a id="13673" class="CatchallClause"> </a><a id="13674" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13674" class="CatchallClause Bound">x</a><a id="13675" class="CatchallClause"> </a><a id="13676" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13676" class="CatchallClause Bound">x₁</a><a id="13678" class="CatchallClause Symbol">)</a><a id="13679" class="CatchallClause"> </a><a id="13680" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13680" class="CatchallClause Bound">gasLeft1</a><a id="13688" class="CatchallClause"> </a><a id="13689" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13689" class="CatchallClause Bound">funNameevalState</a><a id="13705" class="CatchallClause"> </a><a id="13706" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13706" class="CatchallClause Bound">msgevalState</a><a id="13718" class="CatchallClause Symbol">)</a> <a id="13720" class="Symbol">=</a> <a id="13722" href="libraries.natCompare.html#3731" class="Function">refl==r</a> <a id="13730" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13680" class="Bound">gasLeft1</a>
<a id="13739" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12363" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="13761" class="CatchallClause"> </a><a id="13762" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13762" class="CatchallClause Bound">oldLedger</a><a id="13771" class="CatchallClause"> </a><a id="13772" class="CatchallClause Symbol">(</a><a id="13773" href="libraries.Mainlibrary.html#2170" class="CatchallClause InductiveConstructor">stateEF</a><a id="13780" class="CatchallClause"> </a><a id="13781" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13781" class="CatchallClause Bound">ledger</a><a id="13787" class="CatchallClause"> </a><a id="13788" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13788" class="CatchallClause Bound">executionStack</a><a id="13802" class="CatchallClause"> </a><a id="13803" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13803" class="CatchallClause Bound">initialAddr</a><a id="13814" class="CatchallClause"> </a><a id="13815" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13815" class="CatchallClause Bound">lastCallAddr</a><a id="13827" class="CatchallClause"> </a><a id="13828" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13828" class="CatchallClause Bound">calledAddr</a>
                       <a id="13862" class="CatchallClause Symbol">(</a><a id="13863" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="CatchallClause InductiveConstructor">exec</a><a id="13867" class="CatchallClause"> </a><a id="13868" class="CatchallClause Symbol">(</a><a id="13869" href="Complex-Model.ccomand.ccommands-cresponse.html#756" class="CatchallClause InductiveConstructor">transferc</a><a id="13878" class="CatchallClause"> </a><a id="13879" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13879" class="CatchallClause Bound">amount</a><a id="13885" class="CatchallClause"> </a><a id="13886" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13886" class="CatchallClause Bound">destinationAddr</a><a id="13901" class="CatchallClause Symbol">)</a><a id="13902" class="CatchallClause"> </a><a id="13903" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13903" class="CatchallClause Bound">costcomputecont</a><a id="13918" class="CatchallClause"> </a><a id="13919" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13919" class="CatchallClause Bound">cont</a><a id="13923" class="CatchallClause Symbol">)</a><a id="13924" class="CatchallClause"> </a><a id="13925" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13925" class="CatchallClause Bound">gasLeft1</a><a id="13933" class="CatchallClause"> </a><a id="13934" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13934" class="CatchallClause Bound">funNameevalState</a><a id="13950" class="CatchallClause"> </a><a id="13951" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13951" class="CatchallClause Bound">msgevalState</a><a id="13963" class="CatchallClause Symbol">)</a>
                       <a id="13988" class="Symbol">=</a> <a id="13990" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5475" class="Function">lemmaExecuteTransferAuxGasEq</a> <a id="14019" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13762" class="Bound">oldLedger</a> <a id="14029" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13781" class="Bound">ledger</a> <a id="14036" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13788" class="Bound">executionStack</a> <a id="14051" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13803" class="Bound">initialAddr</a> <a id="14063" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13815" class="Bound">lastCallAddr</a> <a id="14076" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13828" class="Bound">calledAddr</a>
                       <a id="14110" class="Symbol">(</a><a id="14111" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13919" class="Bound">cont</a> <a id="14116" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="14118" class="Symbol">)</a> <a id="14120" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13925" class="Bound">gasLeft1</a> <a id="14129" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13934" class="Bound">funNameevalState</a> <a id="14146" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13951" class="Bound">msgevalState</a> <a id="14159" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13879" class="Bound">amount</a> <a id="14166" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13886" class="Bound">destinationAddr</a>
                       <a id="14205" class="Symbol">((</a><a id="14207" href="libraries.natCompare.html#2247" class="Function">compareLeq</a> <a id="14218" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13879" class="Bound">amount</a> <a id="14225" class="Symbol">(</a><a id="14226" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13781" class="Bound">ledger</a> <a id="14233" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13828" class="Bound">calledAddr</a> <a id="14244" class="Symbol">.</a><a id="14245" href="libraries.Mainlibrary.html#800" class="Field">Contract.amount</a><a id="14260" class="Symbol">)))</a>
<a id="14264" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12363" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="14286" class="CatchallClause"> </a><a id="14287" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14287" class="CatchallClause Bound">oldLedger</a><a id="14296" class="CatchallClause"> </a><a id="14297" class="CatchallClause Symbol">(</a><a id="14298" href="libraries.Mainlibrary.html#2170" class="CatchallClause InductiveConstructor">stateEF</a><a id="14305" class="CatchallClause"> </a><a id="14306" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14306" class="CatchallClause Bound">ledger</a><a id="14312" class="CatchallClause"> </a><a id="14313" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14313" class="CatchallClause Bound">executionStack</a><a id="14327" class="CatchallClause"> </a><a id="14328" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14328" class="CatchallClause Bound">initialAddr</a><a id="14339" class="CatchallClause"> </a><a id="14340" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14340" class="CatchallClause Bound">lastCallAddr</a><a id="14352" class="CatchallClause"> </a><a id="14353" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14353" class="CatchallClause Bound">calledAddr</a>
                       <a id="14387" class="CatchallClause Symbol">(</a><a id="14388" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="CatchallClause InductiveConstructor">exec</a><a id="14392" class="CatchallClause"> </a><a id="14393" class="CatchallClause Symbol">(</a><a id="14394" href="Complex-Model.ccomand.ccommands-cresponse.html#802" class="CatchallClause InductiveConstructor">callc</a><a id="14399" class="CatchallClause"> </a><a id="14400" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14400" class="CatchallClause Bound">x₂</a><a id="14402" class="CatchallClause"> </a><a id="14403" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14403" class="CatchallClause Bound">x₃</a><a id="14405" class="CatchallClause"> </a><a id="14406" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14406" class="CatchallClause Bound">x₄</a><a id="14408" class="CatchallClause Symbol">)</a><a id="14409" class="CatchallClause"> </a><a id="14410" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14410" class="CatchallClause Bound">x</a><a id="14411" class="CatchallClause"> </a><a id="14412" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14412" class="CatchallClause Bound">x₁</a><a id="14414" class="CatchallClause Symbol">)</a><a id="14415" class="CatchallClause"> </a><a id="14416" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14416" class="CatchallClause Bound">gasLeft1</a><a id="14424" class="CatchallClause"> </a><a id="14425" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14425" class="CatchallClause Bound">funNameevalState</a><a id="14441" class="CatchallClause"> </a><a id="14442" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14442" class="CatchallClause Bound">msgevalState</a><a id="14454" class="CatchallClause Symbol">)</a> <a id="14456" class="Symbol">=</a> <a id="14458" href="libraries.natCompare.html#3731" class="Function">refl==r</a> <a id="14466" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14416" class="Bound">gasLeft1</a>
<a id="14475" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12363" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="14497" class="CatchallClause"> </a><a id="14498" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14498" class="CatchallClause Bound">oldLedger</a><a id="14507" class="CatchallClause"> </a><a id="14508" class="CatchallClause Symbol">(</a><a id="14509" href="libraries.Mainlibrary.html#2170" class="CatchallClause InductiveConstructor">stateEF</a><a id="14516" class="CatchallClause"> </a><a id="14517" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14517" class="CatchallClause Bound">ledger</a><a id="14523" class="CatchallClause"> </a><a id="14524" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14524" class="CatchallClause Bound">executionStack</a><a id="14538" class="CatchallClause"> </a><a id="14539" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14539" class="CatchallClause Bound">initialAddr</a><a id="14550" class="CatchallClause"> </a><a id="14551" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14551" class="CatchallClause Bound">lastCallAddr</a><a id="14563" class="CatchallClause"> </a><a id="14564" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14564" class="CatchallClause Bound">calledAddr</a>
                       <a id="14598" class="CatchallClause Symbol">(</a><a id="14599" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="CatchallClause InductiveConstructor">exec</a><a id="14603" class="CatchallClause"> </a><a id="14604" href="Complex-Model.ccomand.ccommands-cresponse.html#860" class="CatchallClause InductiveConstructor">currentAddrLookupc</a><a id="14622" class="CatchallClause"> </a><a id="14623" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14623" class="CatchallClause Bound">x</a><a id="14624" class="CatchallClause"> </a><a id="14625" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14625" class="CatchallClause Bound">x₁</a><a id="14627" class="CatchallClause Symbol">)</a><a id="14628" class="CatchallClause"> </a><a id="14629" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14629" class="CatchallClause Bound">gasLeft1</a><a id="14637" class="CatchallClause"> </a><a id="14638" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14638" class="CatchallClause Bound">funNameevalState</a><a id="14654" class="CatchallClause"> </a><a id="14655" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14655" class="CatchallClause Bound">msgevalState</a><a id="14667" class="CatchallClause Symbol">)</a> <a id="14669" class="Symbol">=</a> <a id="14671" href="libraries.natCompare.html#3731" class="Function">refl==r</a> <a id="14679" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14629" class="Bound">gasLeft1</a>
<a id="14688" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12363" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="14710" class="CatchallClause"> </a><a id="14711" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14711" class="CatchallClause Bound">oldLedger</a><a id="14720" class="CatchallClause"> </a><a id="14721" class="CatchallClause Symbol">(</a><a id="14722" href="libraries.Mainlibrary.html#2170" class="CatchallClause InductiveConstructor">stateEF</a><a id="14729" class="CatchallClause"> </a><a id="14730" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14730" class="CatchallClause Bound">ledger</a><a id="14736" class="CatchallClause"> </a><a id="14737" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14737" class="CatchallClause Bound">executionStack</a><a id="14751" class="CatchallClause"> </a><a id="14752" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14752" class="CatchallClause Bound">initialAddr</a><a id="14763" class="CatchallClause"> </a><a id="14764" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14764" class="CatchallClause Bound">lastCallAddr</a><a id="14776" class="CatchallClause"> </a><a id="14777" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14777" class="CatchallClause Bound">calledAddr</a>
                       <a id="14811" class="CatchallClause Symbol">(</a><a id="14812" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="CatchallClause InductiveConstructor">exec</a><a id="14816" class="CatchallClause"> </a><a id="14817" href="Complex-Model.ccomand.ccommands-cresponse.html#895" class="CatchallClause InductiveConstructor">callAddrLookupc</a><a id="14832" class="CatchallClause"> </a><a id="14833" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14833" class="CatchallClause Bound">x</a><a id="14834" class="CatchallClause"> </a><a id="14835" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14835" class="CatchallClause Bound">x₁</a><a id="14837" class="CatchallClause Symbol">)</a><a id="14838" class="CatchallClause"> </a><a id="14839" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14839" class="CatchallClause Bound">gasLeft1</a><a id="14847" class="CatchallClause"> </a><a id="14848" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14848" class="CatchallClause Bound">funNameevalState</a><a id="14864" class="CatchallClause"> </a><a id="14865" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14865" class="CatchallClause Bound">msgevalState</a><a id="14877" class="CatchallClause Symbol">)</a> <a id="14879" class="Symbol">=</a> <a id="14881" href="libraries.natCompare.html#3731" class="Function">refl==r</a> <a id="14889" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14839" class="Bound">gasLeft1</a>
<a id="14898" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12363" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="14920" class="CatchallClause"> </a><a id="14921" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14921" class="CatchallClause Bound">oldLedger</a><a id="14930" class="CatchallClause"> </a><a id="14931" class="CatchallClause Symbol">(</a><a id="14932" href="libraries.Mainlibrary.html#2170" class="CatchallClause InductiveConstructor">stateEF</a><a id="14939" class="CatchallClause"> </a><a id="14940" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14940" class="CatchallClause Bound">ledger</a><a id="14946" class="CatchallClause"> </a><a id="14947" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14947" class="CatchallClause Bound">executionStack</a><a id="14961" class="CatchallClause"> </a><a id="14962" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14962" class="CatchallClause Bound">initialAddr</a><a id="14973" class="CatchallClause"> </a><a id="14974" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14974" class="CatchallClause Bound">lastCallAddr</a><a id="14986" class="CatchallClause"> </a><a id="14987" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14987" class="CatchallClause Bound">calledAddr</a>
                       <a id="15021" class="CatchallClause Symbol">(</a><a id="15022" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="CatchallClause InductiveConstructor">exec</a><a id="15026" class="CatchallClause"> </a><a id="15027" class="CatchallClause Symbol">(</a><a id="15028" href="Complex-Model.ccomand.ccommands-cresponse.html#927" class="CatchallClause InductiveConstructor">getAmountc</a><a id="15038" class="CatchallClause"> </a><a id="15039" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15039" class="CatchallClause Bound">x₂</a><a id="15041" class="CatchallClause Symbol">)</a><a id="15042" class="CatchallClause"> </a><a id="15043" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15043" class="CatchallClause Bound">x</a><a id="15044" class="CatchallClause"> </a><a id="15045" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15045" class="CatchallClause Bound">x₁</a><a id="15047" class="CatchallClause Symbol">)</a><a id="15048" class="CatchallClause"> </a><a id="15049" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15049" class="CatchallClause Bound">gasLeft1</a><a id="15057" class="CatchallClause"> </a><a id="15058" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15058" class="CatchallClause Bound">funNameevalState</a><a id="15074" class="CatchallClause"> </a><a id="15075" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15075" class="CatchallClause Bound">msgevalState</a><a id="15087" class="CatchallClause Symbol">)</a> <a id="15089" class="Symbol">=</a> <a id="15091" href="libraries.natCompare.html#3731" class="Function">refl==r</a> <a id="15099" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15049" class="Bound">gasLeft1</a>



<a id="lemmaStepEFpreserveGas2"></a><a id="15111" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15111" class="Function">lemmaStepEFpreserveGas2</a> <a id="15135" class="Symbol">:</a> <a id="15137" class="Symbol">(</a><a id="15138" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15138" class="Bound">oldLedger</a> <a id="15148" class="Symbol">:</a> <a id="15150" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a><a id="15156" class="Symbol">)</a> <a id="15158" class="Symbol">→</a> <a id="15160" class="Symbol">(</a><a id="15161" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15161" class="Bound">state</a> <a id="15167" class="Symbol">:</a> <a id="15169" href="libraries.Mainlibrary.html#2131" class="Record">StateExecFun</a><a id="15181" class="Symbol">)</a> <a id="15183" class="Symbol">→</a>
                          <a id="15211" href="libraries.Mainlibrary.html#2605" class="Field">gasLeft</a> <a id="15219" class="Symbol">(</a><a id="15220" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7961" class="Function">stepEF</a> <a id="15227" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15138" class="Bound">oldLedger</a> <a id="15237" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15161" class="Bound">state</a><a id="15242" class="Symbol">)</a> <a id="15244" href="libraries.natCompare.html#754" class="Function Operator">==r</a> <a id="15248" href="libraries.Mainlibrary.html#2605" class="Field">gasLeft</a> <a id="15256" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15161" class="Bound">state</a>
<a id="15262" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15111" class="Function">lemmaStepEFpreserveGas2</a> <a id="15286" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15286" class="Bound">oldLedger</a> <a id="15296" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15296" class="Bound">state</a> <a id="15302" class="Symbol">=</a> <a id="15304" href="libraries.natCompare.html#4440" class="Function">sym==</a> <a id="15310" class="Symbol">(</a><a id="15311" href="libraries.Mainlibrary.html#2605" class="Field">gasLeft</a> <a id="15319" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15296" class="Bound">state</a><a id="15324" class="Symbol">)</a> <a id="15326" class="Symbol">(</a><a id="15327" href="libraries.Mainlibrary.html#2605" class="Field">gasLeft</a> <a id="15335" class="Symbol">(</a><a id="15336" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7961" class="Function">stepEF</a> <a id="15343" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15286" class="Bound">oldLedger</a> <a id="15353" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15296" class="Bound">state</a><a id="15358" class="Symbol">))</a>
                                          <a id="15403" class="Symbol">(</a><a id="15404" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12363" class="Function">lemmaStepEFpreserveGas</a> <a id="15427" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15286" class="Bound">oldLedger</a> <a id="15437" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15296" class="Bound">state</a><a id="15442" class="Symbol">)</a>


<a id="15446" class="Comment">-- stepEFgasAvailable which returns gasLeft</a>
<a id="stepEFgasAvailable"></a><a id="15490" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15490" class="Function">stepEFgasAvailable</a> <a id="15509" class="Symbol">:</a> <a id="15511" href="libraries.Mainlibrary.html#2131" class="Record">StateExecFun</a> <a id="15524" class="Symbol">→</a> <a id="15526" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="15528" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15490" class="Function">stepEFgasAvailable</a> <a id="15547" class="Symbol">(</a><a id="15548" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="15556" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15556" class="Bound">ledger</a> <a id="15563" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15563" class="Bound">executionStack</a> <a id="15578" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15578" class="Bound">initialAddr</a> <a id="15590" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15590" class="Bound">lastCallAddr</a> <a id="15603" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15603" class="Bound">calledAddr</a>
                   <a id="15633" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15633" class="Bound">nextstep</a> <a id="15642" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15642" class="Bound">gasLeft</a>  <a id="15651" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15651" class="Bound">funNameevalState</a> <a id="15668" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15668" class="Bound">msgevalState</a><a id="15680" class="Symbol">)</a>
                   <a id="15701" class="Symbol">=</a> <a id="15703" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15642" class="Bound">gasLeft</a>


<a id="15713" class="Comment">--this function simliar to stepEF and deduct the gasleft</a>
<a id="15770" class="Comment">--which returns the gas deducted</a>
<a id="stepEFgasNeeded"></a><a id="15803" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15803" class="Function">stepEFgasNeeded</a> <a id="15819" class="Symbol">:</a> <a id="15821" href="libraries.Mainlibrary.html#2131" class="Record">StateExecFun</a> <a id="15834" class="Symbol">→</a> <a id="15836" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="15838" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15803" class="Function">stepEFgasNeeded</a>  <a id="15855" class="Symbol">(</a><a id="15856" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="15864" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15864" class="Bound">currentLedger</a> <a id="15878" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="15881" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15881" class="Bound">initialAddr</a> <a id="15893" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15893" class="Bound">lastCallAddr</a> <a id="15906" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15906" class="Bound">calledAddr</a>
                 <a id="15934" class="Symbol">(</a><a id="15935" href="Complex-Model.ccomand.ccommands-cresponse.html#1586" class="InductiveConstructor">return</a> <a id="15942" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15942" class="Bound">cost</a> <a id="15947" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15947" class="Bound">result</a><a id="15953" class="Symbol">)</a> <a id="15955" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15955" class="Bound">gasLeft</a>  <a id="15964" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15964" class="Bound">funNameevalState</a> <a id="15981" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15981" class="Bound">msgevalState</a><a id="15993" class="Symbol">)</a>
       <a id="16002" class="Symbol">=</a> <a id="16004" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15942" class="Bound">cost</a>
<a id="16009" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15803" class="Function">stepEFgasNeeded</a>  <a id="16026" class="Symbol">(</a><a id="16027" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="16035" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16035" class="Bound">currentLedger</a> <a id="16049" class="Symbol">(</a><a id="16050" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16050" class="Bound">execSEl</a> <a id="16058" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="16060" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16060" class="Bound">executionStack</a><a id="16074" class="Symbol">)</a> <a id="16076" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16076" class="Bound">initialAddr</a> <a id="16088" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16088" class="Bound">lastCallAddr</a> <a id="16101" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16101" class="Bound">calledAddr</a>
                 <a id="16129" class="Symbol">(</a><a id="16130" href="Complex-Model.ccomand.ccommands-cresponse.html#1586" class="InductiveConstructor">return</a> <a id="16137" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16137" class="Bound">cost</a> <a id="16142" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16142" class="Bound">result</a><a id="16148" class="Symbol">)</a> <a id="16150" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16150" class="Bound">gasLeft</a>  <a id="16159" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16159" class="Bound">funNameevalState</a> <a id="16176" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16176" class="Bound">msgevalState</a><a id="16188" class="Symbol">)</a>
       <a id="16197" class="Symbol">=</a> <a id="16199" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16137" class="Bound">cost</a>

<a id="16205" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15803" class="CatchallClause Function">stepEFgasNeeded</a><a id="16220" class="CatchallClause"> </a><a id="16221" class="CatchallClause Symbol">(</a><a id="16222" href="libraries.Mainlibrary.html#2170" class="CatchallClause InductiveConstructor">stateEF</a><a id="16229" class="CatchallClause"> </a><a id="16230" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16230" class="CatchallClause Bound">currentLedger</a><a id="16243" class="CatchallClause"> </a><a id="16244" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16244" class="CatchallClause Bound">executionStack</a><a id="16258" class="CatchallClause"> </a><a id="16259" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16259" class="CatchallClause Bound">initialAddr</a><a id="16270" class="CatchallClause"> </a><a id="16271" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16271" class="CatchallClause Bound">lastCallAddr</a><a id="16283" class="CatchallClause"> </a><a id="16284" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16284" class="CatchallClause Bound">calledAddr</a>
                 <a id="16312" class="CatchallClause Symbol">(</a><a id="16313" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="CatchallClause InductiveConstructor">exec</a><a id="16317" class="CatchallClause"> </a><a id="16318" href="Complex-Model.ccomand.ccommands-cresponse.html#860" class="CatchallClause InductiveConstructor">currentAddrLookupc</a><a id="16336" class="CatchallClause"> </a><a id="16337" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16337" class="CatchallClause Bound">costcomputecont</a><a id="16352" class="CatchallClause"> </a><a id="16353" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16353" class="CatchallClause Bound">cont</a><a id="16357" class="CatchallClause Symbol">)</a>
                 <a id="16376" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16376" class="CatchallClause Bound">gasLeft</a><a id="16383" class="CatchallClause">  </a><a id="16385" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16385" class="CatchallClause Bound">funNameevalState</a><a id="16401" class="CatchallClause"> </a><a id="16402" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16402" class="CatchallClause Bound">msgevalState</a><a id="16414" class="CatchallClause Symbol">)</a>
       <a id="16423" class="Symbol">=</a> <a id="16425" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16337" class="Bound">costcomputecont</a> <a id="16441" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16284" class="Bound">calledAddr</a>

<a id="16453" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15803" class="CatchallClause Function">stepEFgasNeeded</a><a id="16468" class="CatchallClause"> </a><a id="16469" class="CatchallClause Symbol">(</a><a id="16470" href="libraries.Mainlibrary.html#2170" class="CatchallClause InductiveConstructor">stateEF</a><a id="16477" class="CatchallClause"> </a><a id="16478" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16478" class="CatchallClause Bound">currentLedger</a><a id="16491" class="CatchallClause"> </a><a id="16492" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16492" class="CatchallClause Bound">executionStack</a><a id="16506" class="CatchallClause"> </a><a id="16507" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16507" class="CatchallClause Bound">initialAddr</a><a id="16518" class="CatchallClause"> </a><a id="16519" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16519" class="CatchallClause Bound">lastCallAddr</a><a id="16531" class="CatchallClause"> </a><a id="16532" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16532" class="CatchallClause Bound">calledAddr</a>
                 <a id="16560" class="CatchallClause Symbol">(</a><a id="16561" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="CatchallClause InductiveConstructor">exec</a><a id="16565" class="CatchallClause"> </a><a id="16566" href="Complex-Model.ccomand.ccommands-cresponse.html#895" class="CatchallClause InductiveConstructor">callAddrLookupc</a><a id="16581" class="CatchallClause"> </a><a id="16582" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16582" class="CatchallClause Bound">costcomputecont</a><a id="16597" class="CatchallClause"> </a><a id="16598" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16598" class="CatchallClause Bound">cont</a><a id="16602" class="CatchallClause Symbol">)</a>
                 <a id="16621" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16621" class="CatchallClause Bound">gasLeft</a><a id="16628" class="CatchallClause">  </a><a id="16630" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16630" class="CatchallClause Bound">funNameevalState</a><a id="16646" class="CatchallClause"> </a><a id="16647" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16647" class="CatchallClause Bound">msgevalState</a><a id="16659" class="CatchallClause Symbol">)</a>
       <a id="16668" class="Symbol">=</a> <a id="16670" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16582" class="Bound">costcomputecont</a> <a id="16686" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16519" class="Bound">lastCallAddr</a>

<a id="16700" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15803" class="CatchallClause Function">stepEFgasNeeded</a><a id="16715" class="CatchallClause"> </a><a id="16716" class="CatchallClause Symbol">(</a><a id="16717" href="libraries.Mainlibrary.html#2170" class="CatchallClause InductiveConstructor">stateEF</a><a id="16724" class="CatchallClause"> </a><a id="16725" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16725" class="CatchallClause Bound">currentLedger</a><a id="16738" class="CatchallClause"> </a><a id="16739" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16739" class="CatchallClause Bound">executionStack</a><a id="16753" class="CatchallClause"> </a><a id="16754" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16754" class="CatchallClause Bound">initialAddr</a><a id="16765" class="CatchallClause"> </a><a id="16766" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16766" class="CatchallClause Bound">lastCallAddr</a><a id="16778" class="CatchallClause"> </a><a id="16779" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16779" class="CatchallClause Bound">calledAddr</a>
                 <a id="16807" class="CatchallClause Symbol">(</a><a id="16808" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="CatchallClause InductiveConstructor">exec</a><a id="16812" class="CatchallClause"> </a><a id="16813" class="CatchallClause Symbol">(</a><a id="16814" href="Complex-Model.ccomand.ccommands-cresponse.html#550" class="CatchallClause InductiveConstructor">updatec</a><a id="16821" class="CatchallClause"> </a><a id="16822" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16822" class="CatchallClause Bound">changedFname</a><a id="16834" class="CatchallClause"> </a><a id="16835" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16835" class="CatchallClause Bound">changedPufun</a><a id="16847" class="CatchallClause"> </a><a id="16848" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16848" class="CatchallClause Bound">cost</a><a id="16852" class="CatchallClause Symbol">)</a><a id="16853" class="CatchallClause"> </a><a id="16854" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16854" class="CatchallClause Bound">costcomputecont</a><a id="16869" class="CatchallClause"> </a><a id="16870" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16870" class="CatchallClause Bound">cont</a><a id="16874" class="CatchallClause Symbol">)</a>
                 <a id="16893" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16893" class="CatchallClause Bound">gasLeft</a><a id="16900" class="CatchallClause">  </a><a id="16902" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16902" class="CatchallClause Bound">funNameevalState</a><a id="16918" class="CatchallClause"> </a><a id="16919" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16919" class="CatchallClause Bound">msgevalState</a><a id="16931" class="CatchallClause Symbol">)</a>
       <a id="16940" class="Symbol">=</a> <a id="16942" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16848" class="Bound">cost</a> <a id="16947" class="Symbol">(</a><a id="16948" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16725" class="Bound">currentLedger</a> <a id="16962" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16779" class="Bound">calledAddr</a> <a id="16973" class="Symbol">.</a><a id="16974" href="libraries.Mainlibrary.html#895" class="Field">viewFunction</a> <a id="16987" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16822" class="Bound">changedFname</a><a id="16999" class="Symbol">)</a> <a id="17001" class="Symbol">(</a><a id="17002" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16725" class="Bound">currentLedger</a> <a id="17016" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16779" class="Bound">calledAddr</a> <a id="17027" class="Symbol">.</a><a id="17028" href="libraries.Mainlibrary.html#953" class="Field">viewFunctionCost</a> <a id="17045" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16822" class="Bound">changedFname</a><a id="17057" class="Symbol">)</a> <a id="17059" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16919" class="Bound">msgevalState</a> <a id="17072" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="17074" class="Symbol">(</a><a id="17075" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16854" class="Bound">costcomputecont</a> <a id="17091" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="17093" class="Symbol">)</a>


<a id="17097" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15803" class="CatchallClause Function">stepEFgasNeeded</a><a id="17112" class="CatchallClause"> </a><a id="17113" class="CatchallClause Symbol">(</a><a id="17114" href="libraries.Mainlibrary.html#2170" class="CatchallClause InductiveConstructor">stateEF</a><a id="17121" class="CatchallClause"> </a><a id="17122" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17122" class="CatchallClause Bound">currentLedger</a><a id="17135" class="CatchallClause"> </a><a id="17136" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17136" class="CatchallClause Bound">executionStack</a><a id="17150" class="CatchallClause"> </a><a id="17151" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17151" class="CatchallClause Bound">initialAddr</a><a id="17162" class="CatchallClause"> </a><a id="17163" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17163" class="CatchallClause Bound">oldlastCallAddr</a><a id="17178" class="CatchallClause"> </a><a id="17179" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17179" class="CatchallClause Bound">oldcalledAddr</a>
                 <a id="17210" class="CatchallClause Symbol">(</a><a id="17211" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="CatchallClause InductiveConstructor">exec</a><a id="17215" class="CatchallClause"> </a><a id="17216" class="CatchallClause Symbol">(</a><a id="17217" href="Complex-Model.ccomand.ccommands-cresponse.html#802" class="CatchallClause InductiveConstructor">callc</a><a id="17222" class="CatchallClause"> </a><a id="17223" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17223" class="CatchallClause Bound">newaddr</a><a id="17230" class="CatchallClause"> </a><a id="17231" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17231" class="CatchallClause Bound">fname</a><a id="17236" class="CatchallClause"> </a><a id="17237" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17237" class="CatchallClause Bound">msg</a><a id="17240" class="CatchallClause Symbol">)</a><a id="17241" class="CatchallClause"> </a><a id="17242" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17242" class="CatchallClause Bound">costcomputecont</a><a id="17257" class="CatchallClause"> </a><a id="17258" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17258" class="CatchallClause Bound">cont</a><a id="17262" class="CatchallClause Symbol">)</a>
                 <a id="17281" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17281" class="CatchallClause Bound">gasLeft</a><a id="17288" class="CatchallClause">  </a><a id="17290" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17290" class="CatchallClause Bound">funNameevalState</a><a id="17306" class="CatchallClause"> </a><a id="17307" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17307" class="CatchallClause Bound">msgevalState</a><a id="17319" class="CatchallClause Symbol">)</a>
       <a id="17328" class="Symbol">=</a> <a id="17330" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17242" class="Bound">costcomputecont</a> <a id="17346" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17237" class="Bound">msg</a>

<a id="17351" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15803" class="CatchallClause Function">stepEFgasNeeded</a><a id="17366" class="CatchallClause"> </a><a id="17367" class="CatchallClause Symbol">(</a><a id="17368" href="libraries.Mainlibrary.html#2170" class="CatchallClause InductiveConstructor">stateEF</a><a id="17375" class="CatchallClause"> </a><a id="17376" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17376" class="CatchallClause Bound">currentLedger</a><a id="17389" class="CatchallClause"> </a><a id="17390" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17390" class="CatchallClause Bound">executionStack</a><a id="17404" class="CatchallClause"> </a><a id="17405" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17405" class="CatchallClause Bound">initialAddr</a><a id="17416" class="CatchallClause"> </a><a id="17417" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17417" class="CatchallClause Bound">lastCallAddr</a><a id="17429" class="CatchallClause"> </a><a id="17430" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17430" class="CatchallClause Bound">calledAddr</a>
                 <a id="17458" class="CatchallClause Symbol">(</a><a id="17459" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="CatchallClause InductiveConstructor">exec</a><a id="17463" class="CatchallClause"> </a><a id="17464" class="CatchallClause Symbol">(</a><a id="17465" href="Complex-Model.ccomand.ccommands-cresponse.html#756" class="CatchallClause InductiveConstructor">transferc</a><a id="17474" class="CatchallClause"> </a><a id="17475" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17475" class="CatchallClause Bound">amount</a><a id="17481" class="CatchallClause"> </a><a id="17482" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17482" class="CatchallClause Bound">destinationAddr</a><a id="17497" class="CatchallClause Symbol">)</a><a id="17498" class="CatchallClause"> </a><a id="17499" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17499" class="CatchallClause Bound">costcomputecont</a><a id="17514" class="CatchallClause"> </a><a id="17515" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17515" class="CatchallClause Bound">cont</a><a id="17519" class="CatchallClause Symbol">)</a>
                 <a id="17538" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17538" class="CatchallClause Bound">gasLeft</a><a id="17545" class="CatchallClause">  </a><a id="17547" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17547" class="CatchallClause Bound">funNameevalState</a><a id="17563" class="CatchallClause"> </a><a id="17564" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17564" class="CatchallClause Bound">msgevalState</a><a id="17576" class="CatchallClause Symbol">)</a>
       <a id="17585" class="Symbol">=</a> <a id="17587" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17499" class="Bound">costcomputecont</a> <a id="17603" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a>

<a id="17607" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15803" class="CatchallClause Function">stepEFgasNeeded</a><a id="17622" class="CatchallClause"> </a><a id="17623" class="CatchallClause Symbol">(</a><a id="17624" href="libraries.Mainlibrary.html#2170" class="CatchallClause InductiveConstructor">stateEF</a><a id="17631" class="CatchallClause"> </a><a id="17632" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17632" class="CatchallClause Bound">currentLedger</a><a id="17645" class="CatchallClause"> </a><a id="17646" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17646" class="CatchallClause Bound">executionStack</a><a id="17660" class="CatchallClause"> </a><a id="17661" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17661" class="CatchallClause Bound">initialAddr</a><a id="17672" class="CatchallClause"> </a><a id="17673" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17673" class="CatchallClause Bound">lastCallAddr</a><a id="17685" class="CatchallClause"> </a><a id="17686" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17686" class="CatchallClause Bound">calledAddr</a>
                 <a id="17714" class="CatchallClause Symbol">(</a><a id="17715" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="CatchallClause InductiveConstructor">exec</a><a id="17719" class="CatchallClause"> </a><a id="17720" class="CatchallClause Symbol">(</a><a id="17721" href="Complex-Model.ccomand.ccommands-cresponse.html#927" class="CatchallClause InductiveConstructor">getAmountc</a><a id="17731" class="CatchallClause">  </a><a id="17733" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17733" class="CatchallClause Bound">addrLookedUp</a><a id="17745" class="CatchallClause Symbol">)</a><a id="17746" class="CatchallClause"> </a><a id="17747" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17747" class="CatchallClause Bound">costcomputecont</a><a id="17762" class="CatchallClause"> </a><a id="17763" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17763" class="CatchallClause Bound">cont</a><a id="17767" class="CatchallClause Symbol">)</a>
                 <a id="17786" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17786" class="CatchallClause Bound">gasLeft</a><a id="17793" class="CatchallClause">  </a><a id="17795" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17795" class="CatchallClause Bound">funNameevalState</a><a id="17811" class="CatchallClause"> </a><a id="17812" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17812" class="CatchallClause Bound">msgevalState</a><a id="17824" class="CatchallClause Symbol">)</a>
       <a id="17833" class="Symbol">=</a> <a id="17835" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17747" class="Bound">costcomputecont</a> <a id="17851" class="Symbol">(</a><a id="17852" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17632" class="Bound">currentLedger</a> <a id="17866" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17733" class="Bound">addrLookedUp</a> <a id="17879" class="Symbol">.</a><a id="17880" href="libraries.Mainlibrary.html#800" class="Field">amount</a><a id="17886" class="Symbol">)</a>


<a id="17890" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15803" class="CatchallClause Function">stepEFgasNeeded</a><a id="17905" class="CatchallClause"> </a><a id="17906" class="CatchallClause Symbol">(</a><a id="17907" href="libraries.Mainlibrary.html#2170" class="CatchallClause InductiveConstructor">stateEF</a><a id="17914" class="CatchallClause"> </a><a id="17915" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17915" class="CatchallClause Bound">ledger</a><a id="17921" class="CatchallClause"> </a><a id="17922" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17922" class="CatchallClause Bound">executionStack</a><a id="17936" class="CatchallClause"> </a><a id="17937" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17937" class="CatchallClause Bound">initialAddr</a><a id="17948" class="CatchallClause"> </a><a id="17949" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17949" class="CatchallClause Bound">lastCallAddr</a><a id="17961" class="CatchallClause"> </a><a id="17962" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17962" class="CatchallClause Bound">calledAddr</a>
                 <a id="17990" class="CatchallClause Symbol">(</a><a id="17991" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="CatchallClause InductiveConstructor">exec</a><a id="17995" class="CatchallClause"> </a><a id="17996" class="CatchallClause Symbol">(</a><a id="17997" href="Complex-Model.ccomand.ccommands-cresponse.html#711" class="CatchallClause InductiveConstructor">raiseException</a><a id="18011" class="CatchallClause"> </a><a id="18012" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18012" class="CatchallClause Bound">cost</a><a id="18016" class="CatchallClause"> </a><a id="18017" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18017" class="CatchallClause Bound">str</a><a id="18020" class="CatchallClause Symbol">)</a><a id="18021" class="CatchallClause"> </a><a id="18022" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18022" class="CatchallClause Bound">costcomputecont</a><a id="18037" class="CatchallClause"> </a><a id="18038" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18038" class="CatchallClause Bound">cont</a><a id="18042" class="CatchallClause Symbol">)</a>
                 <a id="18061" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18061" class="CatchallClause Bound">gasLeft</a><a id="18068" class="CatchallClause"> </a><a id="18069" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18069" class="CatchallClause Bound">funNameevalState</a><a id="18085" class="CatchallClause"> </a><a id="18086" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18086" class="CatchallClause Bound">msgevalState</a><a id="18098" class="CatchallClause Symbol">)</a>
                 <a id="18117" class="Symbol">=</a> <a id="18119" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18012" class="Bound">cost</a>

<a id="18125" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15803" class="CatchallClause Function">stepEFgasNeeded</a><a id="18140" class="CatchallClause"> </a><a id="18141" class="CatchallClause Symbol">(</a><a id="18142" href="libraries.Mainlibrary.html#2170" class="CatchallClause InductiveConstructor">stateEF</a><a id="18149" class="CatchallClause"> </a><a id="18150" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18150" class="CatchallClause Bound">currentLedger</a><a id="18163" class="CatchallClause"> </a><a id="18164" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18164" class="CatchallClause Bound">executionStack</a><a id="18178" class="CatchallClause"> </a><a id="18179" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18179" class="CatchallClause Bound">initialAddr</a><a id="18190" class="CatchallClause"> </a><a id="18191" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18191" class="CatchallClause Bound">lastCallAddr</a><a id="18203" class="CatchallClause"> </a><a id="18204" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18204" class="CatchallClause Bound">calledAddr</a>
                 <a id="18232" class="CatchallClause Symbol">(</a><a id="18233" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="CatchallClause InductiveConstructor">exec</a><a id="18237" class="CatchallClause"> </a><a id="18238" class="CatchallClause Symbol">(</a><a id="18239" href="Complex-Model.ccomand.ccommands-cresponse.html#491" class="CatchallClause InductiveConstructor">callView</a><a id="18247" class="CatchallClause"> </a><a id="18248" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18248" class="CatchallClause Bound">addr</a><a id="18252" class="CatchallClause"> </a><a id="18253" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18253" class="CatchallClause Bound">fname</a><a id="18258" class="CatchallClause"> </a><a id="18259" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18259" class="CatchallClause Bound">msg</a><a id="18262" class="CatchallClause Symbol">)</a><a id="18263" class="CatchallClause"> </a><a id="18264" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18264" class="CatchallClause Bound">costcompute</a><a id="18275" class="CatchallClause"> </a><a id="18276" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18276" class="CatchallClause Bound">cont</a><a id="18280" class="CatchallClause Symbol">)</a>
                 <a id="18299" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18299" class="CatchallClause Bound">gasLeft</a><a id="18306" class="CatchallClause">  </a><a id="18308" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18308" class="CatchallClause Bound">funNameevalState</a><a id="18324" class="CatchallClause"> </a><a id="18325" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18325" class="CatchallClause Bound">msgevalState</a><a id="18337" class="CatchallClause Symbol">)</a>
       <a id="18346" class="Symbol">=</a> <a id="18348" class="Symbol">(</a><a id="18349" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18150" class="Bound">currentLedger</a> <a id="18363" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18204" class="Bound">calledAddr</a> <a id="18374" class="Symbol">.</a><a id="18375" href="libraries.Mainlibrary.html#953" class="Field">viewFunctionCost</a> <a id="18392" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18253" class="Bound">fname</a> <a id="18398" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18259" class="Bound">msg</a><a id="18401" class="Symbol">)</a> <a id="18403" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="18405" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18264" class="Bound">costcompute</a> <a id="18417" class="Symbol">(</a><a id="18418" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18150" class="Bound">currentLedger</a> <a id="18432" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18204" class="Bound">calledAddr</a> <a id="18443" class="Symbol">.</a><a id="18444" href="libraries.Mainlibrary.html#895" class="Field">viewFunction</a> <a id="18457" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18253" class="Bound">fname</a> <a id="18463" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18259" class="Bound">msg</a><a id="18466" class="Symbol">)</a>


<a id="18470" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15803" class="CatchallClause Function">stepEFgasNeeded</a><a id="18485" class="CatchallClause"> </a><a id="18486" class="CatchallClause Symbol">(</a><a id="18487" href="libraries.Mainlibrary.html#2170" class="CatchallClause InductiveConstructor">stateEF</a><a id="18494" class="CatchallClause"> </a><a id="18495" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18495" class="CatchallClause Bound">currentLedger</a><a id="18508" class="CatchallClause"> </a><a id="18509" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18509" class="CatchallClause Bound">executionStack</a><a id="18523" class="CatchallClause"> </a><a id="18524" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18524" class="CatchallClause Bound">initialAddr</a><a id="18535" class="CatchallClause"> </a><a id="18536" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18536" class="CatchallClause Bound">lastCallAddr</a><a id="18548" class="CatchallClause"> </a><a id="18549" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18549" class="CatchallClause Bound">calledAddr</a>
                 <a id="18577" class="CatchallClause Symbol">(</a><a id="18578" href="Complex-Model.ccomand.ccommands-cresponse.html#1624" class="CatchallClause InductiveConstructor">error</a><a id="18583" class="CatchallClause"> </a><a id="18584" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18584" class="CatchallClause Bound">errorMsg</a><a id="18592" class="CatchallClause"> </a><a id="18593" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18593" class="CatchallClause Bound">debuginfo</a><a id="18602" class="CatchallClause Symbol">)</a><a id="18603" class="CatchallClause"> </a><a id="18604" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18604" class="CatchallClause Bound">gasLeft</a><a id="18611" class="CatchallClause">  </a><a id="18613" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18613" class="CatchallClause Bound">funNameevalState</a><a id="18629" class="CatchallClause"> </a><a id="18630" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18630" class="CatchallClause Bound">msgevalState</a><a id="18642" class="CatchallClause Symbol">)</a>
       <a id="18651" class="Symbol">=</a> <a id="18653" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="18659" class="Symbol">.</a><a id="18660" href="constantparameters.html#665" class="Field">costerror</a> <a id="18670" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18584" class="Bound">errorMsg</a>


<a id="18681" class="Comment">--This function we use it to deduct gas from evalstate not ledger</a>
<a id="deductGas"></a><a id="18747" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18747" class="Function">deductGas</a> <a id="18757" class="Symbol">:</a>  <a id="18760" class="Symbol">(</a><a id="18761" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18761" class="Bound">statefun</a> <a id="18770" class="Symbol">:</a> <a id="18772" href="libraries.Mainlibrary.html#2131" class="Record">StateExecFun</a><a id="18784" class="Symbol">)</a> <a id="18786" class="Symbol">(</a><a id="18787" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18787" class="Bound">gasDeducted</a> <a id="18799" class="Symbol">:</a> <a id="18801" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="18802" class="Symbol">)</a> <a id="18804" class="Symbol">→</a> <a id="18806" href="libraries.Mainlibrary.html#2131" class="Record">StateExecFun</a>
<a id="18819" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18747" class="Function">deductGas</a> <a id="18829" class="Symbol">(</a><a id="18830" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="18838" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18838" class="Bound">ledger</a> <a id="18845" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18845" class="Bound">executionStack</a> <a id="18860" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18860" class="Bound">initialAddr</a> <a id="18872" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18872" class="Bound">lastCallAddr</a> <a id="18885" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18885" class="Bound">calledAddr</a> <a id="18896" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18896" class="Bound">nextstep</a>
            <a id="18917" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18917" class="Bound">gasLeft</a>  <a id="18926" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18926" class="Bound">funNameevalState</a> <a id="18943" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18943" class="Bound">msgevalState</a><a id="18955" class="Symbol">)</a> <a id="18957" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18957" class="Bound">gasDeducted</a>
       <a id="18976" class="Symbol">=</a> <a id="18978" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="18986" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18838" class="Bound">ledger</a> <a id="18993" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18845" class="Bound">executionStack</a> <a id="19008" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18860" class="Bound">initialAddr</a> <a id="19020" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18872" class="Bound">lastCallAddr</a> <a id="19033" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18885" class="Bound">calledAddr</a> <a id="19044" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18896" class="Bound">nextstep</a>
       <a id="19060" class="Symbol">(</a><a id="19061" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18917" class="Bound">gasLeft</a> <a id="19069" href="Agda.Builtin.Nat.html#426" class="Primitive Operator">-</a> <a id="19071" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18957" class="Bound">gasDeducted</a><a id="19082" class="Symbol">)</a>  <a id="19085" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18926" class="Bound">funNameevalState</a> <a id="19102" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18943" class="Bound">msgevalState</a>


<a id="19117" class="Comment">-- this function we use it to cpmare gas in stepEFgasNeeded with stepEFgasAvailable</a>
<a id="stepEFAuxCompare"></a><a id="19201" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19201" class="Function">stepEFAuxCompare</a> <a id="19218" class="Symbol">:</a> <a id="19220" class="Symbol">(</a><a id="19221" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19221" class="Bound">oldLedger</a> <a id="19231" class="Symbol">:</a> <a id="19233" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a><a id="19239" class="Symbol">)</a> <a id="19241" class="Symbol">→</a> <a id="19243" class="Symbol">(</a><a id="19244" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19244" class="Bound">statefun</a> <a id="19253" class="Symbol">:</a> <a id="19255" href="libraries.Mainlibrary.html#2131" class="Record">StateExecFun</a><a id="19267" class="Symbol">)</a>
                <a id="19285" class="Symbol">→</a> <a id="19287" href="libraries.natCompare.html#1047" class="Datatype">OrderingLeq</a> <a id="19299" class="Symbol">(</a><a id="19300" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="19304" class="Symbol">(</a><a id="19305" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15803" class="Function">stepEFgasNeeded</a> <a id="19321" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19244" class="Bound">statefun</a><a id="19329" class="Symbol">))(</a><a id="19332" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15490" class="Function">stepEFgasAvailable</a> <a id="19351" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19244" class="Bound">statefun</a><a id="19359" class="Symbol">)</a>
                <a id="19377" class="Symbol">→</a> <a id="19379" href="libraries.Mainlibrary.html#2131" class="Record">StateExecFun</a>
<a id="19392" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19201" class="Function">stepEFAuxCompare</a> <a id="19409" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19409" class="Bound">oldLedger</a> <a id="19419" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19419" class="Bound">statefun</a> <a id="19428" class="Symbol">(</a><a id="19429" href="libraries.natCompare.html#1085" class="InductiveConstructor">leq</a> <a id="19433" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19433" class="Bound">x</a><a id="19434" class="Symbol">)</a> <a id="19436" class="Symbol">=</a> <a id="19438" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18747" class="Function">deductGas</a> <a id="19448" class="Symbol">(</a><a id="19449" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7961" class="Function">stepEF</a> <a id="19456" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19409" class="Bound">oldLedger</a> <a id="19466" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19419" class="Bound">statefun</a><a id="19474" class="Symbol">)</a> <a id="19476" class="Symbol">(</a><a id="19477" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="19481" class="Symbol">(</a><a id="19482" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15803" class="Function">stepEFgasNeeded</a> <a id="19498" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19419" class="Bound">statefun</a><a id="19506" class="Symbol">))</a>
<a id="19509" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19201" class="Function">stepEFAuxCompare</a> <a id="19526" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19526" class="Bound">oldLedger</a> <a id="19536" class="Symbol">(</a><a id="19537" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="19545" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19545" class="Bound">ledger</a> <a id="19552" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19552" class="Bound">executionStack</a> <a id="19567" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19567" class="Bound">initialAddr</a> <a id="19579" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19579" class="Bound">lastCallAddr</a> <a id="19592" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19592" class="Bound">calledAddr</a> <a id="19603" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19603" class="Bound">nextstep</a>
                 <a id="19629" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19629" class="Bound">gasLeft</a>  <a id="19638" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19638" class="Bound">funNameevalState</a> <a id="19655" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19655" class="Bound">msgevalState</a><a id="19667" class="Symbol">)</a> <a id="19669" class="Symbol">(</a><a id="19670" href="libraries.natCompare.html#1123" class="InductiveConstructor">greater</a> <a id="19678" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19678" class="Bound">x</a><a id="19679" class="Symbol">)</a>
        <a id="19689" class="Symbol">=</a> <a id="19691" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="19699" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19526" class="Bound">oldLedger</a> <a id="19709" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19552" class="Bound">executionStack</a> <a id="19724" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19567" class="Bound">initialAddr</a> <a id="19736" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19579" class="Bound">lastCallAddr</a> <a id="19749" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19592" class="Bound">calledAddr</a> <a id="19760" class="Symbol">(</a><a id="19761" href="Complex-Model.ccomand.ccommands-cresponse.html#1624" class="InductiveConstructor">error</a> <a id="19767" href="basicDataStructure.html#776" class="InductiveConstructor">outOfGasError</a>
            <a id="19793" href="basicDataStructure.html#881" class="InductiveConstructor Operator">⟨</a> <a id="19795" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19579" class="Bound">lastCallAddr</a> <a id="19808" href="basicDataStructure.html#881" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="19811" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19567" class="Bound">initialAddr</a> <a id="19823" href="basicDataStructure.html#881" class="InductiveConstructor Operator">∙</a> <a id="19825" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19638" class="Bound">funNameevalState</a> <a id="19842" href="basicDataStructure.html#881" class="InductiveConstructor Operator">[</a> <a id="19844" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19655" class="Bound">msgevalState</a> <a id="19857" href="basicDataStructure.html#881" class="InductiveConstructor Operator">]⟩</a><a id="19859" class="Symbol">)</a> <a id="19861" class="Number">0</a>
            <a id="19875" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19638" class="Bound">funNameevalState</a> <a id="19892" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19655" class="Bound">msgevalState</a>


<a id="stepEFwithGasError"></a><a id="19907" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19907" class="Function">stepEFwithGasError</a> <a id="19926" class="Symbol">:</a> <a id="19928" class="Symbol">(</a><a id="19929" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19929" class="Bound">oldLedger</a> <a id="19939" class="Symbol">:</a> <a id="19941" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a><a id="19947" class="Symbol">)</a> <a id="19949" class="Symbol">→</a> <a id="19951" class="Symbol">(</a><a id="19952" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19952" class="Bound">evals</a> <a id="19958" class="Symbol">:</a> <a id="19960" href="libraries.Mainlibrary.html#2131" class="Record">StateExecFun</a><a id="19972" class="Symbol">)</a> <a id="19974" class="Symbol">→</a> <a id="19976" href="libraries.Mainlibrary.html#2131" class="Record">StateExecFun</a>
<a id="19989" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19907" class="Function">stepEFwithGasError</a> <a id="20008" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20008" class="Bound">oldLedger</a> <a id="20018" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20018" class="Bound">evals</a>  <a id="20025" class="Symbol">=</a> <a id="20027" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19201" class="Function">stepEFAuxCompare</a> <a id="20044" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20008" class="Bound">oldLedger</a> <a id="20054" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20018" class="Bound">evals</a>
                                      <a id="20098" class="Symbol">(</a><a id="20099" href="libraries.natCompare.html#2247" class="Function">compareLeq</a> <a id="20110" class="Symbol">(</a><a id="20111" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="20115" class="Symbol">(</a><a id="20116" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15803" class="Function">stepEFgasNeeded</a> <a id="20132" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20018" class="Bound">evals</a><a id="20137" class="Symbol">))</a>
                                      <a id="20178" class="Symbol">(</a><a id="20179" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15490" class="Function">stepEFgasAvailable</a> <a id="20198" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20018" class="Bound">evals</a><a id="20203" class="Symbol">))</a>



<a id="20209" class="Comment">-- definition of stepEFntimes</a>
<a id="stepEFntimes"></a><a id="20239" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20239" class="Function">stepEFntimes</a> <a id="20252" class="Symbol">:</a> <a id="20254" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a> <a id="20261" class="Symbol">→</a> <a id="20263" href="libraries.Mainlibrary.html#2131" class="Record">StateExecFun</a> <a id="20276" class="Symbol">→</a> <a id="20278" class="Symbol">(</a><a id="20279" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20279" class="Bound">ntimes</a> <a id="20286" class="Symbol">:</a> <a id="20288" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="20289" class="Symbol">)</a> <a id="20291" class="Symbol">→</a> <a id="20293" href="libraries.Mainlibrary.html#2131" class="Record">StateExecFun</a>
<a id="20306" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20239" class="Function">stepEFntimes</a> <a id="20319" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20319" class="Bound">oldLedger</a> <a id="20329" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20329" class="Bound">ledgerstateexecfun</a> <a id="20348" class="Number">0</a>
             <a id="20363" class="Symbol">=</a> <a id="20365" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20329" class="Bound">ledgerstateexecfun</a>
<a id="20384" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20239" class="Function">stepEFntimes</a> <a id="20397" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20397" class="Bound">oldLedger</a> <a id="20407" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20407" class="Bound">ledgerstateexecfun</a> <a id="20426" class="Symbol">(</a><a id="20427" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="20431" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20431" class="Bound">n</a><a id="20432" class="Symbol">)</a>
             <a id="20447" class="Symbol">=</a> <a id="20449" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19907" class="Function">stepEFwithGasError</a> <a id="20468" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20397" class="Bound">oldLedger</a> <a id="20478" class="Symbol">(</a><a id="20479" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20239" class="Function">stepEFntimes</a> <a id="20492" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20397" class="Bound">oldLedger</a> <a id="20502" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20407" class="Bound">ledgerstateexecfun</a> <a id="20521" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20431" class="Bound">n</a><a id="20522" class="Symbol">)</a>

<a id="20525" class="Comment">-- definition of stepEFntimes list</a>
<a id="stepEFntimesList"></a><a id="20560" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20560" class="Function">stepEFntimesList</a> <a id="20577" class="Symbol">:</a> <a id="20579" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a> <a id="20586" class="Symbol">→</a> <a id="20588" href="libraries.Mainlibrary.html#2131" class="Record">StateExecFun</a> <a id="20601" class="Symbol">→</a> <a id="20603" class="Symbol">(</a><a id="20604" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20604" class="Bound">ntimes</a> <a id="20611" class="Symbol">:</a> <a id="20613" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="20614" class="Symbol">)</a> <a id="20616" class="Symbol">→</a> <a id="20618" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="20623" href="libraries.Mainlibrary.html#2131" class="Record">StateExecFun</a>
<a id="20636" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20560" class="Function">stepEFntimesList</a> <a id="20653" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20653" class="Bound">oldLedger</a> <a id="20663" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20663" class="Bound">ledgerstateexecfun</a> <a id="20682" class="Number">0</a>
                 <a id="20701" class="Symbol">=</a> <a id="20703" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20663" class="Bound">ledgerstateexecfun</a> <a id="20722" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="20724" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
<a id="20727" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20560" class="Function">stepEFntimesList</a> <a id="20744" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20744" class="Bound">oldLedger</a> <a id="20754" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20754" class="Bound">ledgerstateexecfun</a> <a id="20773" class="Symbol">(</a><a id="20774" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="20778" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20778" class="Bound">n</a><a id="20779" class="Symbol">)</a>
                 <a id="20798" class="Symbol">=</a> <a id="20800" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20239" class="Function">stepEFntimes</a> <a id="20813" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20744" class="Bound">oldLedger</a> <a id="20823" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20754" class="Bound">ledgerstateexecfun</a> <a id="20842" class="Symbol">(</a><a id="20843" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="20847" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20778" class="Bound">n</a><a id="20848" class="Symbol">)</a>
                   <a id="20869" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="20871" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20560" class="Function">stepEFntimesList</a> <a id="20888" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20744" class="Bound">oldLedger</a> <a id="20898" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20754" class="Bound">ledgerstateexecfun</a> <a id="20917" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20778" class="Bound">n</a>

<a id="20920" class="Comment">--this function below we use it to refund as a part of septEF</a>
<a id="20982" class="Comment">---- we use stepEFwithGasError instead of stepEF in refund and stepEFntimesWithRefund</a>
<a id="refund"></a><a id="21068" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21068" class="Function">refund</a> <a id="21075" class="Symbol">:</a> <a id="21077" href="libraries.Mainlibrary.html#2131" class="Record">StateExecFun</a> <a id="21090" class="Symbol">→</a> <a id="21092" href="libraries.Mainlibrary.html#2131" class="Record">StateExecFun</a>
<a id="21105" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21068" class="Function">refund</a> <a id="21112" class="Symbol">(</a><a id="21113" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="21121" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21121" class="Bound">currentLedger</a> <a id="21135" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="21138" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21138" class="Bound">initialAddr</a> <a id="21150" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21150" class="Bound">lastCallAddr</a> <a id="21163" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21163" class="Bound">calledAddr</a> <a id="21174" class="Symbol">(</a><a id="21175" href="Complex-Model.ccomand.ccommands-cresponse.html#1586" class="InductiveConstructor">return</a> <a id="21182" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21182" class="Bound">cost</a> <a id="21187" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21187" class="Bound">result</a><a id="21193" class="Symbol">)</a>
        <a id="21203" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21203" class="Bound">gasLeft</a>  <a id="21212" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21212" class="Bound">funNameevalState</a> <a id="21229" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21229" class="Bound">msgevalState</a><a id="21241" class="Symbol">)</a>
            <a id="21255" class="Symbol">=</a> <a id="21257" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="21265" class="Symbol">(</a><a id="21266" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3428" class="Function">addWeiToLedger</a> <a id="21281" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21121" class="Bound">currentLedger</a> <a id="21295" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21150" class="Bound">lastCallAddr</a> <a id="21308" class="Symbol">(</a><a id="21309" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="21318" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="21324" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21203" class="Bound">gasLeft</a><a id="21331" class="Symbol">))</a>
              <a id="21348" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="21351" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21138" class="Bound">initialAddr</a> <a id="21363" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21150" class="Bound">lastCallAddr</a> <a id="21376" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21163" class="Bound">calledAddr</a> <a id="21387" class="Symbol">(</a><a id="21388" href="Complex-Model.ccomand.ccommands-cresponse.html#1586" class="InductiveConstructor">return</a> <a id="21395" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21182" class="Bound">cost</a> <a id="21400" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21187" class="Bound">result</a><a id="21406" class="Symbol">)</a>
               <a id="21423" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21203" class="Bound">gasLeft</a> <a id="21431" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21212" class="Bound">funNameevalState</a> <a id="21448" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21229" class="Bound">msgevalState</a>
<a id="21461" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21068" class="CatchallClause Function">refund</a><a id="21467" class="CatchallClause"> </a><a id="21468" class="CatchallClause Symbol">(</a><a id="21469" href="libraries.Mainlibrary.html#2170" class="CatchallClause InductiveConstructor">stateEF</a><a id="21476" class="CatchallClause"> </a><a id="21477" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21477" class="CatchallClause Bound">currentLedger</a><a id="21490" class="CatchallClause"> </a><a id="21491" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21491" class="CatchallClause Bound">executionStack</a><a id="21505" class="CatchallClause"> </a><a id="21506" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21506" class="CatchallClause Bound">initialAddr</a><a id="21517" class="CatchallClause"> </a><a id="21518" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21518" class="CatchallClause Bound">lastCallAddr</a><a id="21530" class="CatchallClause"> </a><a id="21531" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21531" class="CatchallClause Bound">calledAddr</a>
       <a id="21549" class="CatchallClause Symbol">(</a><a id="21550" href="Complex-Model.ccomand.ccommands-cresponse.html#1624" class="CatchallClause InductiveConstructor">error</a><a id="21555" class="CatchallClause"> </a><a id="21556" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21556" class="CatchallClause Bound">errorMsg</a><a id="21564" class="CatchallClause"> </a><a id="21565" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21565" class="CatchallClause Bound">debugInfo</a><a id="21574" class="CatchallClause Symbol">)</a><a id="21575" class="CatchallClause"> </a><a id="21576" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21576" class="CatchallClause Bound">gasLeft</a><a id="21583" class="CatchallClause">  </a><a id="21585" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21585" class="CatchallClause Bound">funNameevalState</a><a id="21601" class="CatchallClause"> </a><a id="21602" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21602" class="CatchallClause Bound">msgevalState</a><a id="21614" class="CatchallClause Symbol">)</a>
            <a id="21628" class="Symbol">=</a> <a id="21630" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="21638" class="Symbol">(</a><a id="21639" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3428" class="Function">addWeiToLedger</a> <a id="21654" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21477" class="Bound">currentLedger</a>  <a id="21669" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21518" class="Bound">lastCallAddr</a> <a id="21682" class="Symbol">(</a><a id="21683" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="21692" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="21698" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21576" class="Bound">gasLeft</a><a id="21705" class="Symbol">))</a>
              <a id="21722" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21491" class="Bound">executionStack</a> <a id="21737" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21506" class="Bound">initialAddr</a> <a id="21749" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21518" class="Bound">lastCallAddr</a> <a id="21762" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21531" class="Bound">calledAddr</a>
              <a id="21787" class="Symbol">(</a><a id="21788" href="Complex-Model.ccomand.ccommands-cresponse.html#1624" class="InductiveConstructor">error</a> <a id="21794" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21556" class="Bound">errorMsg</a> <a id="21803" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21565" class="Bound">debugInfo</a><a id="21812" class="Symbol">)</a> <a id="21814" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21576" class="Bound">gasLeft</a>
               <a id="21837" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21585" class="Bound">funNameevalState</a> <a id="21854" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21602" class="Bound">msgevalState</a>
<a id="21867" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21068" class="CatchallClause Function">refund</a><a id="21873" class="CatchallClause"> </a><a id="21874" class="CatchallClause Symbol">(</a><a id="21875" href="libraries.Mainlibrary.html#2170" class="CatchallClause InductiveConstructor">stateEF</a><a id="21882" class="CatchallClause"> </a><a id="21883" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21883" class="CatchallClause Bound">ledger</a><a id="21889" class="CatchallClause"> </a><a id="21890" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21890" class="CatchallClause Bound">executionStack</a><a id="21904" class="CatchallClause"> </a><a id="21905" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21905" class="CatchallClause Bound">initialAddr</a><a id="21916" class="CatchallClause"> </a><a id="21917" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21917" class="CatchallClause Bound">lastCallAddr</a><a id="21929" class="CatchallClause"> </a><a id="21930" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21930" class="CatchallClause Bound">calledAddr</a>
        <a id="21949" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21949" class="CatchallClause Bound">nextstep</a><a id="21957" class="CatchallClause"> </a><a id="21958" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21958" class="CatchallClause Bound">gasLeft</a><a id="21965" class="CatchallClause">  </a><a id="21967" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21967" class="CatchallClause Bound">funNameevalState</a><a id="21983" class="CatchallClause"> </a><a id="21984" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21984" class="CatchallClause Bound">msgevalState</a><a id="21996" class="CatchallClause Symbol">)</a>
            <a id="22010" class="Symbol">=</a> <a id="22012" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19907" class="Function">stepEFwithGasError</a> <a id="22031" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21883" class="Bound">ledger</a> <a id="22038" class="Symbol">(</a><a id="22039" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="22047" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21883" class="Bound">ledger</a> <a id="22054" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21890" class="Bound">executionStack</a>
              <a id="22083" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21905" class="Bound">initialAddr</a> <a id="22095" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21917" class="Bound">lastCallAddr</a> <a id="22108" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21930" class="Bound">calledAddr</a> <a id="22119" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21949" class="Bound">nextstep</a> <a id="22128" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21958" class="Bound">gasLeft</a>
                <a id="22152" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21967" class="Bound">funNameevalState</a> <a id="22169" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21984" class="Bound">msgevalState</a><a id="22181" class="Symbol">)</a>


<a id="stepEFntimesWithRefund"></a><a id="22185" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22185" class="Function">stepEFntimesWithRefund</a> <a id="22208" class="Symbol">:</a> <a id="22210" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a> <a id="22217" class="Symbol">→</a> <a id="22219" href="libraries.Mainlibrary.html#2131" class="Record">StateExecFun</a> <a id="22232" class="Symbol">→</a> <a id="22234" class="Symbol">(</a><a id="22235" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22235" class="Bound">ntimes</a> <a id="22242" class="Symbol">:</a> <a id="22244" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="22245" class="Symbol">)</a> <a id="22247" class="Symbol">→</a> <a id="22249" href="libraries.Mainlibrary.html#2131" class="Record">StateExecFun</a>
<a id="22262" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22185" class="Function">stepEFntimesWithRefund</a> <a id="22285" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22285" class="Bound">oldLedger</a> <a id="22295" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22295" class="Bound">ledgerstateexecfun</a> <a id="22314" class="Number">0</a>
                       <a id="22339" class="Symbol">=</a> <a id="22341" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22295" class="Bound">ledgerstateexecfun</a>
<a id="22360" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22185" class="Function">stepEFntimesWithRefund</a> <a id="22383" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22383" class="Bound">oldLedger</a> <a id="22393" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22393" class="Bound">ledgerstateexecfun</a> <a id="22412" class="Symbol">(</a><a id="22413" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="22417" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22417" class="Bound">n</a><a id="22418" class="Symbol">)</a>
                       <a id="22443" class="Symbol">=</a> <a id="22445" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21068" class="Function">refund</a> <a id="22452" class="Symbol">(</a><a id="22453" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20239" class="Function">stepEFntimes</a> <a id="22466" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22383" class="Bound">oldLedger</a> <a id="22476" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22393" class="Bound">ledgerstateexecfun</a> <a id="22495" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22417" class="Bound">n</a><a id="22496" class="Symbol">)</a>


<a id="22500" class="Comment">---## similar to above but we use it with the new version of stepEFwithGasError</a>
<a id="22580" class="Comment">--initialAddr lastCallAddr calledAddr</a>
<a id="stepLedgerFunntimesAux"></a><a id="22618" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22618" class="Function">stepLedgerFunntimesAux</a> <a id="22641" class="Symbol">:</a> <a id="22643" class="Symbol">(</a><a id="22644" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22644" class="Bound">ledger</a> <a id="22651" class="Symbol">:</a> <a id="22653" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a><a id="22659" class="Symbol">)</a> <a id="22661" class="Symbol">→</a> <a id="22663" class="Symbol">(</a><a id="22664" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22664" class="Bound">initialAddr</a> <a id="22676" class="Symbol">:</a> <a id="22678" href="basicDataStructure.html#405" class="Function">Address</a><a id="22685" class="Symbol">)</a> <a id="22687" class="Symbol">→</a> <a id="22689" class="Symbol">(</a><a id="22690" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22690" class="Bound">lastCallAddr</a> <a id="22703" class="Symbol">:</a> <a id="22705" href="basicDataStructure.html#405" class="Function">Address</a><a id="22712" class="Symbol">)</a> <a id="22714" class="Symbol">→</a> <a id="22716" class="Symbol">(</a><a id="22717" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22717" class="Bound">calledAddr</a> <a id="22728" class="Symbol">:</a> <a id="22730" href="basicDataStructure.html#405" class="Function">Address</a><a id="22737" class="Symbol">)</a> <a id="22739" class="Symbol">→</a> <a id="22741" href="basicDataStructure.html#190" class="Function">FunctionName</a>
                        <a id="22778" class="Symbol">→</a> <a id="22780" href="basicDataStructure.html#523" class="Datatype">Msg</a>  <a id="22785" class="Symbol">→</a> <a id="22787" class="Symbol">(</a><a id="22788" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22788" class="Bound">gascost</a> <a id="22796" class="Symbol">:</a> <a id="22798" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="22799" class="Symbol">)</a>  <a id="22802" class="Symbol">→</a> <a id="22804" class="Symbol">(</a><a id="22805" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22805" class="Bound">ntimes</a> <a id="22812" class="Symbol">:</a> <a id="22814" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="22815" class="Symbol">)</a>
                        <a id="22841" class="Symbol">→</a> <a id="22843" class="Symbol">(</a><a id="22844" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22844" class="Bound">cp</a>  <a id="22848" class="Symbol">:</a> <a id="22850" href="libraries.natCompare.html#1047" class="Datatype">OrderingLeq</a> <a id="22862" class="Symbol">(</a><a id="22863" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="22872" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="22878" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22788" class="Bound">gascost</a><a id="22885" class="Symbol">)</a> <a id="22887" class="Symbol">(</a><a id="22888" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22644" class="Bound">ledger</a> <a id="22895" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22690" class="Bound">lastCallAddr</a> <a id="22908" class="Symbol">.</a><a id="22909" href="libraries.Mainlibrary.html#800" class="Field">amount</a><a id="22915" class="Symbol">))</a>
                        <a id="22942" class="Symbol">→</a> <a id="22944" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="22950" href="libraries.Mainlibrary.html#2131" class="Record">StateExecFun</a>
<a id="22963" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22618" class="Function">stepLedgerFunntimesAux</a> <a id="22986" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22986" class="Bound">ledger</a> <a id="22993" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22993" class="Bound">initialAddr</a> <a id="23005" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23005" class="Bound">lastCallAddr</a> <a id="23018" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23018" class="Bound">calledAddr</a> <a id="23029" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23029" class="Bound">funname</a> <a id="23037" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23037" class="Bound">msg</a> <a id="23041" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23041" class="Bound">gascost</a>  <a id="23050" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23050" class="Bound">ntimes</a>  <a id="23058" class="Symbol">(</a><a id="23059" href="libraries.natCompare.html#1085" class="InductiveConstructor">leq</a> <a id="23063" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23063" class="Bound">leqpro</a><a id="23069" class="Symbol">)</a>
                             <a id="23100" class="Symbol">=</a> <a id="23102" class="Keyword">let</a>
                                 <a id="23139" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23139" class="Bound">ledgerDeducted</a> <a id="23154" class="Symbol">:</a> <a id="23156" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a>
                                 <a id="23196" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23139" class="Bound">ledgerDeducted</a> <a id="23211" class="Symbol">=</a> <a id="23213" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2556" class="Function">deductGasFromLedger</a> <a id="23233" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22986" class="Bound">ledger</a> <a id="23240" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23005" class="Bound">lastCallAddr</a> <a id="23253" class="Symbol">(</a><a id="23254" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="23263" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="23269" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23041" class="Bound">gascost</a><a id="23276" class="Symbol">)</a> <a id="23278" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23063" class="Bound">leqpro</a>
                               <a id="23316" class="Keyword">in</a> <a id="23319" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="23324" class="Symbol">(</a><a id="23325" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20239" class="Function">stepEFntimes</a> <a id="23338" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23139" class="Bound">ledgerDeducted</a>
                               <a id="23384" class="Symbol">(</a><a id="23385" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="23393" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23139" class="Bound">ledgerDeducted</a> <a id="23408" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="23411" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22993" class="Bound">initialAddr</a> <a id="23423" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23005" class="Bound">lastCallAddr</a> <a id="23436" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23018" class="Bound">calledAddr</a>
                               <a id="23478" class="Symbol">(</a><a id="23479" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23139" class="Bound">ledgerDeducted</a> <a id="23494" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23018" class="Bound">calledAddr</a> <a id="23505" class="Symbol">.</a><a id="23506" href="libraries.Mainlibrary.html#826" class="Field">fun</a> <a id="23510" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23029" class="Bound">funname</a> <a id="23518" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23037" class="Bound">msg</a><a id="23521" class="Symbol">)</a>
                               <a id="23554" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23041" class="Bound">gascost</a> <a id="23562" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23029" class="Bound">funname</a> <a id="23570" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23037" class="Bound">msg</a><a id="23573" class="Symbol">)</a>
                               <a id="23606" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23050" class="Bound">ntimes</a><a id="23612" class="Symbol">)</a>

<a id="23615" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22618" class="Function">stepLedgerFunntimesAux</a> <a id="23638" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23638" class="Bound">ledger</a> <a id="23645" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23645" class="Bound">initialAddr</a> <a id="23657" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23657" class="Bound">lastCallAddr</a> <a id="23670" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23670" class="Bound">calledAddr</a> <a id="23681" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23681" class="Bound">funname</a> <a id="23689" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23689" class="Bound">msg</a> <a id="23693" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23693" class="Bound">gascost</a> <a id="23701" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23701" class="Bound">ntimes</a> <a id="23708" class="Symbol">(</a><a id="23709" href="libraries.natCompare.html#1123" class="InductiveConstructor">greater</a> <a id="23717" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23717" class="Bound">greaterpro</a><a id="23727" class="Symbol">)</a>
                             <a id="23758" class="Symbol">=</a> <a id="23760" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

<a id="23769" class="Comment">--stepLedgerFunntimesAux ledger callAddr currentAddr funname msg gasreserved ntimes</a>
<a id="23853" class="Comment">--                       (compareLeq (GastoWei param gasreserved) (ledger callAddr .amount))</a>
<a id="23946" class="Comment">-- NNN here we need before running stepEFntimes  deduct the gas from ledger</a>
<a id="24022" class="Comment">-- NNN    it needs as argument just one gas parameter which is set to both oldgas and newgas</a>
<a id="24115" class="Comment">-- NNN    if there is not enough money in the account, then we should fail (not an error but fail)</a>
<a id="24214" class="Comment">-- NNN    so return type  should be Maybe EvalState</a>

<a id="stepLedgerFunntimes"></a><a id="24267" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24267" class="Function">stepLedgerFunntimes</a> <a id="24287" class="Symbol">:</a> <a id="24289" class="Symbol">(</a><a id="24290" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24290" class="Bound">ledger</a> <a id="24297" class="Symbol">:</a> <a id="24299" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a><a id="24305" class="Symbol">)</a>
                      <a id="24329" class="Symbol">→</a> <a id="24331" class="Symbol">(</a><a id="24332" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24332" class="Bound">initialAddr</a> <a id="24344" class="Symbol">:</a> <a id="24346" href="basicDataStructure.html#405" class="Function">Address</a><a id="24353" class="Symbol">)</a>
                      <a id="24377" class="Symbol">→</a> <a id="24379" class="Symbol">(</a><a id="24380" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24380" class="Bound">lastCallAddr</a> <a id="24393" class="Symbol">:</a> <a id="24395" href="basicDataStructure.html#405" class="Function">Address</a><a id="24402" class="Symbol">)</a>
                      <a id="24426" class="Symbol">→</a> <a id="24428" class="Symbol">(</a><a id="24429" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24429" class="Bound">calledAddr</a> <a id="24440" class="Symbol">:</a> <a id="24442" href="basicDataStructure.html#405" class="Function">Address</a><a id="24449" class="Symbol">)</a>
                      <a id="24473" class="Symbol">→</a> <a id="24475" href="basicDataStructure.html#190" class="Function">FunctionName</a>
                      <a id="24510" class="Symbol">→</a> <a id="24512" href="basicDataStructure.html#523" class="Datatype">Msg</a>
                      <a id="24538" class="Symbol">→</a> <a id="24540" class="Symbol">(</a><a id="24541" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24541" class="Bound">gasreserved</a> <a id="24553" class="Symbol">:</a> <a id="24555" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="24556" class="Symbol">)</a>
                      <a id="24580" class="Symbol">→</a> <a id="24582" class="Symbol">(</a><a id="24583" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24583" class="Bound">ntimes</a> <a id="24590" class="Symbol">:</a> <a id="24592" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="24593" class="Symbol">)</a>
                      <a id="24617" class="Symbol">→</a> <a id="24619" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="24625" href="libraries.Mainlibrary.html#2131" class="Record">StateExecFun</a>
<a id="24638" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24267" class="Function">stepLedgerFunntimes</a> <a id="24658" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24658" class="Bound">ledger</a> <a id="24665" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24665" class="Bound">initialAddr</a> <a id="24677" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24677" class="Bound">lastCallAddr</a> <a id="24690" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24690" class="Bound">calledAddr</a> <a id="24701" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24701" class="Bound">funname</a> <a id="24709" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24709" class="Bound">msg</a> <a id="24713" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24713" class="Bound">gasreserved</a>  <a id="24726" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24726" class="Bound">ntimes</a>
                     <a id="24754" class="Symbol">=</a> <a id="24756" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22618" class="Function">stepLedgerFunntimesAux</a> <a id="24779" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24658" class="Bound">ledger</a> <a id="24786" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24665" class="Bound">initialAddr</a> <a id="24798" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24677" class="Bound">lastCallAddr</a> <a id="24811" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24690" class="Bound">calledAddr</a>
                       <a id="24845" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24701" class="Bound">funname</a> <a id="24853" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24709" class="Bound">msg</a> <a id="24857" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24713" class="Bound">gasreserved</a>  <a id="24870" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24726" class="Bound">ntimes</a>
                       <a id="24900" class="Symbol">(</a><a id="24901" href="libraries.natCompare.html#2247" class="Function">compareLeq</a> <a id="24912" class="Symbol">(</a><a id="24913" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="24922" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="24928" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24713" class="Bound">gasreserved</a><a id="24939" class="Symbol">)</a> <a id="24941" class="Symbol">(</a><a id="24942" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24658" class="Bound">ledger</a> <a id="24949" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24677" class="Bound">lastCallAddr</a> <a id="24962" class="Symbol">.</a><a id="24963" href="libraries.Mainlibrary.html#800" class="Field">amount</a><a id="24969" class="Symbol">))</a>


<a id="24974" class="Comment">--with list</a>
<a id="stepLedgerFunntimesListAux"></a><a id="24986" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24986" class="Function">stepLedgerFunntimesListAux</a> <a id="25013" class="Symbol">:</a> <a id="25015" class="Symbol">(</a><a id="25016" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25016" class="Bound">ledger</a> <a id="25023" class="Symbol">:</a> <a id="25025" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a><a id="25031" class="Symbol">)</a>
                           <a id="25060" class="Symbol">→</a> <a id="25062" class="Symbol">(</a><a id="25063" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25063" class="Bound">initialAddr</a> <a id="25075" class="Symbol">:</a> <a id="25077" href="basicDataStructure.html#405" class="Function">Address</a><a id="25084" class="Symbol">)</a>
                           <a id="25113" class="Symbol">→</a> <a id="25115" class="Symbol">(</a><a id="25116" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25116" class="Bound">lastCallAddr</a> <a id="25129" class="Symbol">:</a> <a id="25131" href="basicDataStructure.html#405" class="Function">Address</a><a id="25138" class="Symbol">)</a>
                           <a id="25167" class="Symbol">→</a> <a id="25169" class="Symbol">(</a><a id="25170" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25170" class="Bound">calledAddr</a> <a id="25181" class="Symbol">:</a> <a id="25183" href="basicDataStructure.html#405" class="Function">Address</a><a id="25190" class="Symbol">)</a>
                           <a id="25219" class="Symbol">→</a> <a id="25221" href="basicDataStructure.html#190" class="Function">FunctionName</a>
                           <a id="25261" class="Symbol">→</a> <a id="25263" href="basicDataStructure.html#523" class="Datatype">Msg</a>
                           <a id="25294" class="Symbol">→</a> <a id="25296" class="Symbol">(</a><a id="25297" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25297" class="Bound">gasreserved</a> <a id="25309" class="Symbol">:</a> <a id="25311" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="25312" class="Symbol">)</a>
                           <a id="25341" class="Symbol">→</a> <a id="25343" class="Symbol">(</a><a id="25344" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25344" class="Bound">ntimes</a> <a id="25351" class="Symbol">:</a> <a id="25353" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="25354" class="Symbol">)</a>
                           <a id="25383" class="Symbol">→</a> <a id="25385" class="Symbol">(</a><a id="25386" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25386" class="Bound">cp</a>  <a id="25390" class="Symbol">:</a> <a id="25392" href="libraries.natCompare.html#1047" class="Datatype">OrderingLeq</a> <a id="25404" class="Symbol">(</a><a id="25405" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="25414" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="25420" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25297" class="Bound">gasreserved</a><a id="25431" class="Symbol">)</a> <a id="25433" class="Symbol">(</a><a id="25434" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25016" class="Bound">ledger</a> <a id="25441" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25116" class="Bound">lastCallAddr</a> <a id="25454" class="Symbol">.</a><a id="25455" href="libraries.Mainlibrary.html#800" class="Field">amount</a><a id="25461" class="Symbol">))</a>
                           <a id="25491" class="Symbol">→</a> <a id="25493" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="25499" class="Symbol">(</a><a id="25500" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="25505" href="libraries.Mainlibrary.html#2131" class="Record">StateExecFun</a><a id="25517" class="Symbol">)</a>
<a id="25519" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24986" class="Function">stepLedgerFunntimesListAux</a> <a id="25546" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25546" class="Bound">ledger</a> <a id="25553" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25553" class="Bound">initialAddr</a> <a id="25565" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25565" class="Bound">lastCallAddr</a> <a id="25578" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25578" class="Bound">calledAddr</a> <a id="25589" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25589" class="Bound">funname</a> <a id="25597" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25597" class="Bound">msg</a> <a id="25601" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25601" class="Bound">gasreserved</a>  <a id="25614" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25614" class="Bound">ntimes</a> <a id="25621" class="Symbol">(</a><a id="25622" href="libraries.natCompare.html#1085" class="InductiveConstructor">leq</a> <a id="25626" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25626" class="Bound">leqpro</a><a id="25632" class="Symbol">)</a>
                            <a id="25662" class="Symbol">=</a> <a id="25664" class="Keyword">let</a>
                               <a id="25699" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25699" class="Bound">ledgerDeducted</a> <a id="25714" class="Symbol">:</a> <a id="25716" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a>
                               <a id="25754" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25699" class="Bound">ledgerDeducted</a> <a id="25769" class="Symbol">=</a> <a id="25771" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2556" class="Function">deductGasFromLedger</a> <a id="25791" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25546" class="Bound">ledger</a> <a id="25798" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25565" class="Bound">lastCallAddr</a> <a id="25811" class="Symbol">(</a><a id="25812" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="25821" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="25827" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25601" class="Bound">gasreserved</a><a id="25838" class="Symbol">)</a> <a id="25840" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25626" class="Bound">leqpro</a>
                            <a id="25875" class="Keyword">in</a>
                              <a id="25908" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="25913" class="Symbol">(</a><a id="25914" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20560" class="Function">stepEFntimesList</a> <a id="25931" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25699" class="Bound">ledgerDeducted</a>
                                   <a id="25981" class="Symbol">(</a><a id="25982" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="25990" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25699" class="Bound">ledgerDeducted</a> <a id="26005" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="26008" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25553" class="Bound">initialAddr</a> <a id="26020" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25565" class="Bound">lastCallAddr</a> <a id="26033" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25578" class="Bound">calledAddr</a>
                                   <a id="26079" class="Symbol">(</a><a id="26080" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25699" class="Bound">ledgerDeducted</a> <a id="26095" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25578" class="Bound">calledAddr</a> <a id="26106" class="Symbol">.</a><a id="26107" href="libraries.Mainlibrary.html#826" class="Field">fun</a> <a id="26111" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25589" class="Bound">funname</a> <a id="26119" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25597" class="Bound">msg</a><a id="26122" class="Symbol">)</a> <a id="26124" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25601" class="Bound">gasreserved</a> <a id="26136" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25589" class="Bound">funname</a> <a id="26144" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25597" class="Bound">msg</a><a id="26147" class="Symbol">)</a> <a id="26149" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25614" class="Bound">ntimes</a><a id="26155" class="Symbol">)</a>
<a id="26157" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24986" class="Function">stepLedgerFunntimesListAux</a> <a id="26184" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26184" class="Bound">ledger</a> <a id="26191" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26191" class="Bound">initialAddr</a> <a id="26203" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26203" class="Bound">lastCallAddr</a> <a id="26216" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26216" class="Bound">calledAddr</a> <a id="26227" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26227" class="Bound">funname</a> <a id="26235" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26235" class="Bound">msg</a> <a id="26239" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26239" class="Bound">gasreserved</a> <a id="26251" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26251" class="Bound">ntimes</a> <a id="26258" class="Symbol">(</a><a id="26259" href="libraries.natCompare.html#1123" class="InductiveConstructor">greater</a> <a id="26267" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26267" class="Bound">greaterpro</a><a id="26277" class="Symbol">)</a>
                            <a id="26307" class="Symbol">=</a> <a id="26309" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>


<a id="stepLedgerFunntimesList"></a><a id="26319" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26319" class="Function">stepLedgerFunntimesList</a> <a id="26343" class="Symbol">:</a> <a id="26345" class="Symbol">(</a><a id="26346" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26346" class="Bound">ledger</a> <a id="26353" class="Symbol">:</a> <a id="26355" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a><a id="26361" class="Symbol">)</a>
                          <a id="26389" class="Symbol">→</a> <a id="26391" class="Symbol">(</a><a id="26392" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26392" class="Bound">initialAddr</a> <a id="26404" class="Symbol">:</a> <a id="26406" href="basicDataStructure.html#405" class="Function">Address</a><a id="26413" class="Symbol">)</a>
                          <a id="26441" class="Symbol">→</a> <a id="26443" class="Symbol">(</a><a id="26444" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26444" class="Bound">lastCallAddr</a> <a id="26457" class="Symbol">:</a> <a id="26459" href="basicDataStructure.html#405" class="Function">Address</a><a id="26466" class="Symbol">)</a>
                          <a id="26494" class="Symbol">→</a> <a id="26496" class="Symbol">(</a><a id="26497" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26497" class="Bound">calledAddr</a> <a id="26508" class="Symbol">:</a> <a id="26510" href="basicDataStructure.html#405" class="Function">Address</a><a id="26517" class="Symbol">)</a>
                          <a id="26545" class="Symbol">→</a> <a id="26547" class="Symbol">(</a><a id="26548" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26548" class="Bound">funname</a> <a id="26556" class="Symbol">:</a> <a id="26558" href="basicDataStructure.html#190" class="Function">FunctionName</a><a id="26570" class="Symbol">)</a>
                          <a id="26598" class="Symbol">→</a> <a id="26600" class="Symbol">(</a><a id="26601" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26601" class="Bound">msg</a> <a id="26605" class="Symbol">:</a> <a id="26607" href="basicDataStructure.html#523" class="Datatype">Msg</a><a id="26610" class="Symbol">)</a>
                          <a id="26638" class="Symbol">→</a> <a id="26640" class="Symbol">(</a><a id="26641" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26641" class="Bound">gasreserved</a> <a id="26653" class="Symbol">:</a> <a id="26655" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="26656" class="Symbol">)</a>
                          <a id="26684" class="Symbol">→</a> <a id="26686" class="Symbol">(</a><a id="26687" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26687" class="Bound">ntimes</a> <a id="26694" class="Symbol">:</a> <a id="26696" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="26697" class="Symbol">)</a>
                          <a id="26725" class="Symbol">→</a> <a id="26727" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="26733" class="Symbol">(</a><a id="26734" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="26739" href="libraries.Mainlibrary.html#2131" class="Record">StateExecFun</a><a id="26751" class="Symbol">)</a>
<a id="26753" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26319" class="Function">stepLedgerFunntimesList</a> <a id="26777" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26777" class="Bound">ledger</a> <a id="26784" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26784" class="Bound">initialAddr</a> <a id="26796" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26796" class="Bound">lastCallAddr</a> <a id="26809" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26809" class="Bound">calledAddr</a> <a id="26820" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26820" class="Bound">funname</a> <a id="26828" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26828" class="Bound">msg</a> <a id="26832" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26832" class="Bound">gasreserved</a>  <a id="26845" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26845" class="Bound">ntimes</a>
                        <a id="26876" class="Symbol">=</a> <a id="26878" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24986" class="Function">stepLedgerFunntimesListAux</a> <a id="26905" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26777" class="Bound">ledger</a> <a id="26912" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26784" class="Bound">initialAddr</a> <a id="26924" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26796" class="Bound">lastCallAddr</a> <a id="26937" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26809" class="Bound">calledAddr</a> <a id="26948" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26820" class="Bound">funname</a> <a id="26956" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26828" class="Bound">msg</a> <a id="26960" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26832" class="Bound">gasreserved</a>  <a id="26973" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26845" class="Bound">ntimes</a>
                       <a id="27003" class="Symbol">(</a><a id="27004" href="libraries.natCompare.html#2247" class="Function">compareLeq</a> <a id="27015" class="Symbol">(</a><a id="27016" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="27025" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="27031" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26832" class="Bound">gasreserved</a><a id="27042" class="Symbol">)</a> <a id="27044" class="Symbol">(</a><a id="27045" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26777" class="Bound">ledger</a> <a id="27052" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26796" class="Bound">lastCallAddr</a> <a id="27065" class="Symbol">.</a><a id="27066" href="libraries.Mainlibrary.html#800" class="Field">amount</a><a id="27072" class="Symbol">))</a>





<a id="27080" class="Comment">--clear version of evaluateNonTerminating&#39;</a>
<a id="27123" class="Comment">-- the below is the final step and we use it to solve the return cost</a>

<a id="evaluateAuxfinal0&#39;"></a><a id="27194" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27194" class="Function">evaluateAuxfinal0&#39;</a> <a id="27213" class="Symbol">:</a> <a id="27215" class="Symbol">(</a><a id="27216" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27216" class="Bound">oldLedger</a> <a id="27226" class="Symbol">:</a> <a id="27228" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a><a id="27234" class="Symbol">)</a>
                          <a id="27262" class="Symbol">→</a> <a id="27264" class="Symbol">(</a><a id="27265" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27265" class="Bound">currentLedger</a> <a id="27279" class="Symbol">:</a> <a id="27281" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a><a id="27287" class="Symbol">)</a>
                          <a id="27315" class="Symbol">→</a> <a id="27317" class="Symbol">(</a><a id="27318" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27318" class="Bound">initialAddr</a> <a id="27330" class="Symbol">:</a> <a id="27332" href="basicDataStructure.html#405" class="Function">Address</a><a id="27339" class="Symbol">)</a>
                          <a id="27367" class="Symbol">→</a> <a id="27369" class="Symbol">(</a><a id="27370" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27370" class="Bound">lastCallAddr</a> <a id="27383" class="Symbol">:</a> <a id="27385" href="basicDataStructure.html#405" class="Function">Address</a><a id="27392" class="Symbol">)</a>
                          <a id="27420" class="Symbol">→</a> <a id="27422" class="Symbol">(</a><a id="27423" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27423" class="Bound">calledAddr</a> <a id="27434" class="Symbol">:</a> <a id="27436" href="basicDataStructure.html#405" class="Function">Address</a><a id="27443" class="Symbol">)</a>
                          <a id="27471" class="Symbol">→</a> <a id="27473" class="Symbol">(</a><a id="27474" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27474" class="Bound">cost</a> <a id="27479" class="Symbol">:</a> <a id="27481" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="27482" class="Symbol">)</a>
                          <a id="27510" class="Symbol">→</a> <a id="27512" class="Symbol">(</a><a id="27513" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27513" class="Bound">returnvalue</a> <a id="27525" class="Symbol">:</a> <a id="27527" href="basicDataStructure.html#523" class="Datatype">Msg</a><a id="27530" class="Symbol">)</a>
                          <a id="27558" class="Symbol">→</a> <a id="27560" class="Symbol">(</a><a id="27561" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27561" class="Bound">gasLeft</a> <a id="27569" class="Symbol">:</a> <a id="27571" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="27572" class="Symbol">)</a>
                          <a id="27600" class="Symbol">→</a> <a id="27602" class="Symbol">(</a><a id="27603" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27603" class="Bound">funNameevalState</a> <a id="27620" class="Symbol">:</a> <a id="27622" href="basicDataStructure.html#190" class="Function">FunctionName</a><a id="27634" class="Symbol">)</a>
                          <a id="27662" class="Symbol">→</a> <a id="27664" class="Symbol">(</a><a id="27665" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27665" class="Bound">msgevalState</a> <a id="27678" class="Symbol">:</a> <a id="27680" href="basicDataStructure.html#523" class="Datatype">Msg</a><a id="27683" class="Symbol">)</a>
                          <a id="27711" class="Symbol">→</a> <a id="27713" class="Symbol">(</a><a id="27714" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27714" class="Bound">cp</a>  <a id="27718" class="Symbol">:</a> <a id="27720" href="libraries.natCompare.html#1047" class="Datatype">OrderingLeq</a> <a id="27732" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27474" class="Bound">cost</a> <a id="27737" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27561" class="Bound">gasLeft</a><a id="27744" class="Symbol">)</a>
                          <a id="27772" class="Symbol">→</a> <a id="27774" class="Symbol">(</a><a id="27775" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a> <a id="27782" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="27784" href="basicDataStructure.html#1675" class="Record">MsgOrErrorWithGas</a><a id="27801" class="Symbol">)</a>
<a id="27803" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27194" class="Function">evaluateAuxfinal0&#39;</a> <a id="27822" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27822" class="Bound">oldLedger</a> <a id="27832" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27832" class="Bound">currentLedger</a> <a id="27846" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27846" class="Bound">initialAddr</a> <a id="27858" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27858" class="Bound">lastCallAddr</a> <a id="27871" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27871" class="Bound">calledAddr</a> <a id="27882" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27882" class="Bound">cost</a> <a id="27887" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27887" class="Bound">ms</a> <a id="27890" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27890" class="Bound">gasLeft</a> <a id="27898" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27898" class="Bound">funNameevalState</a> <a id="27915" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27915" class="Bound">msgevalState</a> <a id="27928" class="Symbol">(</a><a id="27929" href="libraries.natCompare.html#1085" class="InductiveConstructor">leq</a> <a id="27933" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27933" class="Bound">x</a><a id="27934" class="Symbol">)</a>
                               <a id="27967" class="Symbol">=</a>  <a id="27970" class="Symbol">(</a><a id="27971" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3428" class="Function">addWeiToLedger</a> <a id="27986" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27832" class="Bound">currentLedger</a> <a id="28000" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27846" class="Bound">initialAddr</a>
                                   <a id="28047" class="Symbol">(</a><a id="28048" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="28057" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="28063" class="Symbol">(</a><a id="28064" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27890" class="Bound">gasLeft</a> <a id="28072" href="Agda.Builtin.Nat.html#426" class="Primitive Operator">-</a> <a id="28074" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27882" class="Bound">cost</a><a id="28078" class="Symbol">)))</a> <a id="28082" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a> <a id="28085" class="Symbol">(</a><a id="28086" href="basicDataStructure.html#1562" class="InductiveConstructor">theMsg</a> <a id="28093" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27887" class="Bound">ms</a> <a id="28096" href="basicDataStructure.html#1726" class="InductiveConstructor Operator">,</a> <a id="28098" class="Symbol">(</a><a id="28099" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27890" class="Bound">gasLeft</a> <a id="28107" href="Agda.Builtin.Nat.html#426" class="Primitive Operator">-</a> <a id="28109" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27882" class="Bound">cost</a><a id="28113" class="Symbol">)</a> <a id="28115" href="basicDataStructure.html#1726" class="InductiveConstructor Operator">gas</a><a id="28118" class="Symbol">)</a>

<a id="28121" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27194" class="Function">evaluateAuxfinal0&#39;</a> <a id="28140" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28140" class="Bound">oldLedger</a> <a id="28150" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28150" class="Bound">currentLedger</a> <a id="28164" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28164" class="Bound">initialAddr</a> <a id="28176" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28176" class="Bound">lastCallAddr</a> <a id="28189" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28189" class="Bound">calledAddr</a> <a id="28200" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28200" class="Bound">cost</a> <a id="28205" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28205" class="Bound">returnvalue</a> <a id="28217" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28217" class="Bound">gasLeft</a> <a id="28225" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28225" class="Bound">funNameevalState</a> <a id="28242" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28242" class="Bound">msgevalState</a> <a id="28255" class="Symbol">(</a><a id="28256" href="libraries.natCompare.html#1123" class="InductiveConstructor">greater</a> <a id="28264" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28264" class="Bound">x</a><a id="28265" class="Symbol">)</a>
                               <a id="28298" class="Symbol">=</a> <a id="28300" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28140" class="Bound">oldLedger</a> <a id="28310" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a> <a id="28313" class="Symbol">((</a><a id="28315" href="basicDataStructure.html#1590" class="InductiveConstructor">err</a> <a id="28319" class="Symbol">(</a><a id="28320" href="basicDataStructure.html#694" class="InductiveConstructor">strErr</a> <a id="28327" class="String">&quot; Out Of Gass &quot;</a><a id="28342" class="Symbol">)</a> <a id="28344" href="basicDataStructure.html#881" class="InductiveConstructor Operator">⟨</a> <a id="28346" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28176" class="Bound">lastCallAddr</a> <a id="28359" href="basicDataStructure.html#881" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="28362" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28164" class="Bound">initialAddr</a> <a id="28374" href="basicDataStructure.html#881" class="InductiveConstructor Operator">∙</a> <a id="28376" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28225" class="Bound">funNameevalState</a> <a id="28393" href="basicDataStructure.html#881" class="InductiveConstructor Operator">[</a> <a id="28395" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28242" class="Bound">msgevalState</a> <a id="28408" href="basicDataStructure.html#881" class="InductiveConstructor Operator">]⟩</a><a id="28410" class="Symbol">)</a> <a id="28412" href="basicDataStructure.html#1726" class="InductiveConstructor Operator">,</a> <a id="28414" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28217" class="Bound">gasLeft</a> <a id="28422" href="basicDataStructure.html#1726" class="InductiveConstructor Operator">gas</a><a id="28425" class="Symbol">)</a>
</pre></body></html>