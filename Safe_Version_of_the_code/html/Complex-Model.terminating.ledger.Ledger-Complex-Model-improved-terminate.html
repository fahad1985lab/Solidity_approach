<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="constantparameters.html" class="Module">constantparameters</a>

<a id="33" class="Keyword">module</a> <a id="40" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html" class="Module">Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate</a> <a id="113" class="Symbol">(</a><a id="114" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#114" class="Bound">param</a> <a id="120" class="Symbol">:</a> <a id="122" href="constantparameters.html#235" class="Record">ConstantParameters</a><a id="140" class="Symbol">)</a> <a id="142" class="Keyword">where</a>

<a id="149" class="Keyword">open</a> <a id="154" class="Keyword">import</a> <a id="161" href="Data.Nat.html" class="Module">Data.Nat</a>
<a id="170" class="Keyword">open</a> <a id="175" class="Keyword">import</a> <a id="182" href="Agda.Builtin.Nat.html" class="Module">Agda.Builtin.Nat</a> <a id="199" class="Keyword">using</a> <a id="205" class="Symbol">(</a><a id="206" href="Agda.Builtin.Nat.html#426" class="Primitive Operator">_-_</a><a id="209" class="Symbol">;</a> <a id="211" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">_*_</a><a id="214" class="Symbol">)</a>
<a id="216" class="Keyword">open</a> <a id="221" class="Keyword">import</a> <a id="228" href="Data.Unit.html" class="Module">Data.Unit</a>
<a id="238" class="Keyword">open</a> <a id="243" class="Keyword">import</a> <a id="250" href="Data.List.html" class="Module">Data.List</a>
<a id="260" class="Keyword">open</a> <a id="265" class="Keyword">import</a> <a id="272" href="Data.Bool.html" class="Module">Data.Bool</a>
<a id="282" class="Keyword">open</a> <a id="287" class="Keyword">import</a> <a id="294" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a>
<a id="309" class="Keyword">open</a> <a id="314" class="Keyword">import</a> <a id="321" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="335" class="Keyword">open</a> <a id="340" class="Keyword">import</a> <a id="347" href="Data.Maybe.html" class="Module">Data.Maybe</a>  <a id="359" class="Keyword">hiding</a> <a id="366" class="Symbol">(</a><a id="367" href="Data.Maybe.Base.html#2256" class="Function Operator">_&gt;&gt;=_</a><a id="372" class="Symbol">)</a>
<a id="374" class="Keyword">open</a> <a id="379" class="Keyword">import</a> <a id="386" href="Data.String.html" class="Module">Data.String</a> <a id="398" class="Keyword">hiding</a> <a id="405" class="Symbol">(</a><a id="406" href="Data.String.Base.html#2468" class="Function">length</a><a id="412" class="Symbol">;</a> <a id="414" href="Data.String.Base.html#1605" class="Primitive">show</a><a id="418" class="Symbol">)</a> <a id="420" class="Keyword">renaming</a> <a id="429" class="Symbol">(</a><a id="430" href="Data.String.Base.html#2404" class="Function Operator">_++_</a> <a id="435" class="Symbol">to</a> <a id="438" class="Function Operator">_++str_</a><a id="445" class="Symbol">)</a>
<a id="447" class="Keyword">open</a> <a id="452" class="Keyword">import</a> <a id="459" href="Data.Product.html" class="Module">Data.Product</a> <a id="472" class="Keyword">renaming</a> <a id="481" class="Symbol">(</a><a id="482" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a> <a id="486" class="Symbol">to</a> <a id="489" class="InductiveConstructor Operator">_,,_</a> <a id="494" class="Symbol">)</a>
<a id="496" class="Keyword">open</a> <a id="501" class="Keyword">import</a> <a id="508" href="Data.Nat.Show.html" class="Module">Data.Nat.Show</a>
<a id="522" class="Keyword">open</a> <a id="527" class="Keyword">import</a> <a id="534" href="Data.Empty.html" class="Module">Data.Empty</a>


<a id="547" class="Comment">-- our work</a>
<a id="559" class="Keyword">open</a> <a id="564" class="Keyword">import</a> <a id="571" href="Complex-Model.ccomand.ccommands-cresponse.html" class="Module">Complex-Model.ccomand.ccommands-cresponse</a>
<a id="613" class="Keyword">open</a> <a id="618" class="Keyword">import</a> <a id="625" href="basicDataStructure.html" class="Module">basicDataStructure</a>
<a id="644" class="Keyword">open</a> <a id="649" class="Keyword">import</a> <a id="656" href="libraries.natCompare.html" class="Module">libraries.natCompare</a>
<a id="677" class="Keyword">open</a> <a id="682" class="Keyword">import</a> <a id="689" href="libraries.Mainlibrary.html" class="Module">libraries.Mainlibrary</a>
<a id="711" class="Keyword">open</a> <a id="716" class="Keyword">import</a> <a id="723" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html" class="Module">Complex-Model.ledgerversion.Ledger-Complex-Model</a>


<a id="774" class="Keyword">mutual</a>

  <a id="evaluateTerminatingAuxStep2"></a><a id="784" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#784" class="Function">evaluateTerminatingAuxStep2</a> <a id="812" class="Symbol">:</a> <a id="814" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a>
                                    <a id="857" class="Symbol">→</a> <a id="859" class="Symbol">(</a><a id="860" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#860" class="Bound">stateEF</a> <a id="868" class="Symbol">:</a> <a id="870" href="libraries.Mainlibrary.html#2131" class="Record">StateExecFun</a><a id="882" class="Symbol">)</a>
                                    <a id="920" class="Symbol">→</a> <a id="922" class="Symbol">(</a><a id="923" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#923" class="Bound">numberOfSteps</a> <a id="937" class="Symbol">:</a> <a id="939" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="940" class="Symbol">)</a>
                                    <a id="978" class="Symbol">→</a> <a id="980" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15490" class="Function">stepEFgasAvailable</a> <a id="999" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#114" class="Bound">param</a> <a id="1005" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#860" class="Bound">stateEF</a> <a id="1013" href="libraries.natCompare.html#710" class="Function Operator">≦r</a> <a id="1016" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#923" class="Bound">numberOfSteps</a>
                                    <a id="1066" class="Symbol">→</a> <a id="1068" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a> <a id="1075" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1077" href="basicDataStructure.html#1675" class="Record">MsgOrErrorWithGas</a>
  <a id="1097" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#784" class="Function">evaluateTerminatingAuxStep2</a> <a id="1125" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1125" class="Bound">oldLedger</a> <a id="1135" class="Symbol">(</a><a id="1136" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="1144" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1144" class="Bound">currentLedger</a> <a id="1158" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="1161" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1161" class="Bound">initialAddr</a> <a id="1173" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1173" class="Bound">lastCallAddr</a> <a id="1186" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1186" class="Bound">calledAddr</a> <a id="1197" class="Symbol">(</a><a id="1198" href="Complex-Model.ccomand.ccommands-cresponse.html#1586" class="InductiveConstructor">return</a> <a id="1205" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1205" class="Bound">cost</a> <a id="1210" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1210" class="Bound">ms</a><a id="1212" class="Symbol">)</a>
                              <a id="1244" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1244" class="Bound">gasLeft</a>  <a id="1253" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1253" class="Bound">funNameevalState</a> <a id="1270" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1270" class="Bound">msgevalState</a><a id="1282" class="Symbol">)</a>
                              <a id="1314" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1314" class="Bound">numberOfSteps</a> <a id="1328" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1328" class="Bound">numberOfStepsLessGas</a>
                              <a id="1379" class="Symbol">=</a> <a id="1381" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27194" class="Function">evaluateAuxfinal0&#39;</a> <a id="1400" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#114" class="Bound">param</a> <a id="1406" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1125" class="Bound">oldLedger</a> <a id="1416" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1144" class="Bound">currentLedger</a>
                                  <a id="1464" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1161" class="Bound">initialAddr</a> <a id="1476" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1173" class="Bound">lastCallAddr</a> <a id="1489" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1186" class="Bound">calledAddr</a> <a id="1500" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1205" class="Bound">cost</a> <a id="1505" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1210" class="Bound">ms</a> <a id="1508" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1244" class="Bound">gasLeft</a> <a id="1516" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1253" class="Bound">funNameevalState</a> <a id="1533" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1270" class="Bound">msgevalState</a> <a id="1546" class="Symbol">(</a><a id="1547" href="libraries.natCompare.html#2247" class="Function">compareLeq</a> <a id="1558" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1205" class="Bound">cost</a> <a id="1563" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1244" class="Bound">gasLeft</a><a id="1570" class="Symbol">)</a>

  <a id="1575" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#784" class="CatchallClause Function">evaluateTerminatingAuxStep2</a><a id="1602" class="CatchallClause"> </a><a id="1603" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1603" class="CatchallClause Bound">oldLedger</a><a id="1612" class="CatchallClause"> </a><a id="1613" class="CatchallClause Symbol">(</a><a id="1614" href="libraries.Mainlibrary.html#2170" class="CatchallClause InductiveConstructor">stateEF</a><a id="1621" class="CatchallClause"> </a><a id="1622" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1622" class="CatchallClause Bound">currentLedger</a><a id="1635" class="CatchallClause"> </a><a id="1636" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1636" class="CatchallClause Bound">s</a><a id="1637" class="CatchallClause"> </a><a id="1638" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1638" class="CatchallClause Bound">initialAddr</a><a id="1649" class="CatchallClause"> </a><a id="1650" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1650" class="CatchallClause Bound">lastCallAddr</a><a id="1662" class="CatchallClause"> </a><a id="1663" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1663" class="CatchallClause Bound">calledAddr</a><a id="1673" class="CatchallClause"> </a><a id="1674" class="CatchallClause Symbol">(</a><a id="1675" href="Complex-Model.ccomand.ccommands-cresponse.html#1624" class="CatchallClause InductiveConstructor">error</a><a id="1680" class="CatchallClause"> </a><a id="1681" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1681" class="CatchallClause Bound">msgg</a><a id="1685" class="CatchallClause"> </a><a id="1686" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1686" class="CatchallClause Bound">debugInfo</a><a id="1695" class="CatchallClause Symbol">)</a>
                               <a id="1728" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1728" class="CatchallClause Bound">gasLeft</a><a id="1735" class="CatchallClause">  </a><a id="1737" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1737" class="CatchallClause Bound">funNameevalState</a><a id="1753" class="CatchallClause"> </a><a id="1754" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1754" class="CatchallClause Bound">msgevalState</a><a id="1766" class="CatchallClause Symbol">)</a>
                               <a id="1799" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1799" class="CatchallClause Bound">numberOfSteps</a><a id="1812" class="CatchallClause"> </a><a id="1813" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1813" class="CatchallClause Bound">numberOfStepsLessGas</a>
                            <a id="1862" class="Symbol">=</a> <a id="1864" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3428" class="Function">addWeiToLedger</a> <a id="1879" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#114" class="Bound">param</a> <a id="1885" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1603" class="Bound">oldLedger</a> <a id="1895" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1638" class="Bound">initialAddr</a> <a id="1907" class="Symbol">(</a><a id="1908" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="1917" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#114" class="Bound">param</a> <a id="1923" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1728" class="Bound">gasLeft</a><a id="1930" class="Symbol">)</a> <a id="1932" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#489" class="InductiveConstructor Operator">,,</a>
                              <a id="1965" class="Symbol">(</a><a id="1966" href="basicDataStructure.html#1590" class="InductiveConstructor">err</a> <a id="1970" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1681" class="Bound">msgg</a> <a id="1975" href="basicDataStructure.html#881" class="InductiveConstructor Operator">⟨</a>  <a id="1978" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1650" class="Bound">lastCallAddr</a> <a id="1991" href="basicDataStructure.html#881" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="1994" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1638" class="Bound">initialAddr</a> <a id="2006" href="basicDataStructure.html#881" class="InductiveConstructor Operator">∙</a> <a id="2008" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1737" class="Bound">funNameevalState</a> <a id="2025" href="basicDataStructure.html#881" class="InductiveConstructor Operator">[</a> <a id="2027" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1754" class="Bound">msgevalState</a> <a id="2040" href="basicDataStructure.html#881" class="InductiveConstructor Operator">]⟩</a> <a id="2043" href="basicDataStructure.html#1726" class="InductiveConstructor Operator">,</a> <a id="2045" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#1728" class="Bound">gasLeft</a> <a id="2053" href="basicDataStructure.html#1726" class="InductiveConstructor Operator">gas</a><a id="2056" class="Symbol">)</a>
  <a id="2060" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#784" class="CatchallClause Function">evaluateTerminatingAuxStep2</a><a id="2087" class="CatchallClause"> </a><a id="2088" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#2088" class="CatchallClause Bound">oldLedger</a><a id="2097" class="CatchallClause"> </a><a id="2098" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#2098" class="CatchallClause Bound">evals</a><a id="2103" class="CatchallClause"> </a><a id="2104" class="CatchallClause Symbol">(</a><a id="2105" href="Agda.Builtin.Nat.html#234" class="CatchallClause InductiveConstructor">suc</a><a id="2108" class="CatchallClause"> </a><a id="2109" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#2109" class="CatchallClause Bound">numberOfSteps</a><a id="2122" class="CatchallClause Symbol">)</a><a id="2123" class="CatchallClause"> </a><a id="2124" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#2124" class="CatchallClause Bound">numberOfStepsLessGas</a>
                             <a id="2174" class="Symbol">=</a> <a id="2176" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#2754" class="Function">evaluateTerminatingAuxStep3</a> <a id="2204" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#2088" class="Bound">oldLedger</a> <a id="2214" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#2098" class="Bound">evals</a> <a id="2220" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#2109" class="Bound">numberOfSteps</a> <a id="2234" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#2124" class="Bound">numberOfStepsLessGas</a>
                               <a id="2286" class="Symbol">(</a><a id="2287" href="libraries.natCompare.html#2247" class="Function">compareLeq</a> <a id="2298" class="Symbol">(</a><a id="2299" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15803" class="Function">stepEFgasNeeded</a> <a id="2315" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#114" class="Bound">param</a> <a id="2321" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#2098" class="Bound">evals</a><a id="2326" class="Symbol">)</a> <a id="2328" class="Symbol">(</a><a id="2329" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15490" class="Function">stepEFgasAvailable</a> <a id="2348" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#114" class="Bound">param</a> <a id="2354" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#2098" class="Bound">evals</a><a id="2359" class="Symbol">))</a>

  <a id="2365" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#784" class="CatchallClause Function">evaluateTerminatingAuxStep2</a><a id="2392" class="CatchallClause"> </a><a id="2393" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#2393" class="CatchallClause Bound">oldLedger</a>
                               <a id="2434" class="CatchallClause Symbol">(</a><a id="2435" href="libraries.Mainlibrary.html#2170" class="CatchallClause InductiveConstructor">stateEF</a><a id="2442" class="CatchallClause"> </a><a id="2443" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#2443" class="CatchallClause Bound">currentLedger</a><a id="2456" class="CatchallClause"> </a><a id="2457" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#2457" class="CatchallClause Bound">executionStack</a><a id="2471" class="CatchallClause"> </a><a id="2472" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#2472" class="CatchallClause Bound">initialAddr</a><a id="2483" class="CatchallClause"> </a><a id="2484" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#2484" class="CatchallClause Bound">lastCallAddr</a><a id="2496" class="CatchallClause"> </a><a id="2497" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#2497" class="CatchallClause Bound">calledAddr</a><a id="2507" class="CatchallClause"> </a><a id="2508" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#2508" class="CatchallClause Bound">nextstep</a><a id="2516" class="CatchallClause"> </a><a id="2517" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#2517" class="CatchallClause Bound">gasLeft</a><a id="2524" class="CatchallClause"> </a><a id="2525" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#2525" class="CatchallClause Bound">funNameevalState</a><a id="2541" class="CatchallClause"> </a><a id="2542" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#2542" class="CatchallClause Bound">msgevalState</a><a id="2554" class="CatchallClause Symbol">)</a><a id="2555" class="CatchallClause"> </a><a id="2556" class="CatchallClause Number">0</a><a id="2557" class="CatchallClause"> </a><a id="2558" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#2558" class="CatchallClause Bound">numberOfStepsLessGas</a>
                               <a id="2610" class="Symbol">=</a> <a id="2612" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#2393" class="Bound">oldLedger</a> <a id="2622" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#489" class="InductiveConstructor Operator">,,</a>  <a id="2626" class="Symbol">(</a><a id="2627" href="basicDataStructure.html#1590" class="InductiveConstructor">err</a> <a id="2631" href="basicDataStructure.html#776" class="InductiveConstructor">outOfGasError</a> <a id="2645" href="basicDataStructure.html#881" class="InductiveConstructor Operator">⟨</a> <a id="2647" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#2484" class="Bound">lastCallAddr</a> <a id="2660" href="basicDataStructure.html#881" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="2663" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#2472" class="Bound">initialAddr</a> <a id="2675" href="basicDataStructure.html#881" class="InductiveConstructor Operator">∙</a> <a id="2677" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#2525" class="Bound">funNameevalState</a> <a id="2694" href="basicDataStructure.html#881" class="InductiveConstructor Operator">[</a> <a id="2696" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#2542" class="Bound">msgevalState</a> <a id="2709" href="basicDataStructure.html#881" class="InductiveConstructor Operator">]⟩</a> <a id="2712" href="basicDataStructure.html#1726" class="InductiveConstructor Operator">,</a> <a id="2714" class="Number">0</a> <a id="2716" href="basicDataStructure.html#1726" class="InductiveConstructor Operator">gas</a><a id="2719" class="Symbol">)</a>

                          <a id="2748" class="Comment">--</a>

  <a id="evaluateTerminatingAuxStep3"></a><a id="2754" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#2754" class="Function">evaluateTerminatingAuxStep3</a> <a id="2782" class="Symbol">:</a> <a id="2784" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a>
                                    <a id="2827" class="Symbol">→</a> <a id="2829" class="Symbol">(</a><a id="2830" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#2830" class="Bound">stateEF</a> <a id="2838" class="Symbol">:</a> <a id="2840" href="libraries.Mainlibrary.html#2131" class="Record">StateExecFun</a><a id="2852" class="Symbol">)</a>
                                    <a id="2890" class="Symbol">→</a> <a id="2892" class="Symbol">(</a><a id="2893" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#2893" class="Bound">numberOfSteps</a> <a id="2907" class="Symbol">:</a> <a id="2909" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="2910" class="Symbol">)</a>
                                    <a id="2948" class="Symbol">→</a> <a id="2950" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15490" class="Function">stepEFgasAvailable</a> <a id="2969" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#114" class="Bound">param</a> <a id="2975" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#2830" class="Bound">stateEF</a> <a id="2983" href="libraries.natCompare.html#710" class="Function Operator">≦r</a> <a id="2986" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2990" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#2893" class="Bound">numberOfSteps</a>
                                    <a id="3040" class="Symbol">→</a> <a id="3042" href="libraries.natCompare.html#1047" class="Datatype">OrderingLeq</a> <a id="3054" class="Symbol">(</a><a id="3055" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15803" class="Function">stepEFgasNeeded</a> <a id="3071" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#114" class="Bound">param</a> <a id="3077" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#2830" class="Bound">stateEF</a><a id="3084" class="Symbol">)</a> <a id="3086" class="Symbol">(</a><a id="3087" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15490" class="Function">stepEFgasAvailable</a> <a id="3106" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#114" class="Bound">param</a> <a id="3112" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#2830" class="Bound">stateEF</a><a id="3119" class="Symbol">)</a>
                                    <a id="3157" class="Symbol">→</a> <a id="3159" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a> <a id="3166" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3168" href="basicDataStructure.html#1675" class="Record">MsgOrErrorWithGas</a>
  <a id="3188" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#2754" class="Function">evaluateTerminatingAuxStep3</a> <a id="3216" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#3216" class="Bound">oldLedger</a> <a id="3226" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#3226" class="Bound">state</a> <a id="3232" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#3232" class="Bound">numberOfSteps</a> <a id="3246" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#3246" class="Bound">numberOfStepsLessgas</a> <a id="3267" class="Symbol">(</a><a id="3268" href="libraries.natCompare.html#1085" class="InductiveConstructor">leq</a> <a id="3272" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#3272" class="Bound">x</a><a id="3273" class="Symbol">)</a>
               <a id="3290" class="Symbol">=</a> <a id="3292" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#784" class="Function">evaluateTerminatingAuxStep2</a> <a id="3320" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#3216" class="Bound">oldLedger</a>
                 <a id="3347" class="Symbol">(</a><a id="3348" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18747" class="Function">deductGas</a> <a id="3358" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#114" class="Bound">param</a> <a id="3364" class="Symbol">(</a><a id="3365" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7961" class="Function">stepEF</a> <a id="3372" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#114" class="Bound">param</a> <a id="3378" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#3216" class="Bound">oldLedger</a> <a id="3388" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#3226" class="Bound">state</a><a id="3393" class="Symbol">)</a> <a id="3395" class="Symbol">(</a><a id="3396" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3400" class="Symbol">(</a><a id="3401" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15803" class="Function">stepEFgasNeeded</a> <a id="3417" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#114" class="Bound">param</a> <a id="3423" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#3226" class="Bound">state</a><a id="3428" class="Symbol">)))</a> <a id="3432" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#3232" class="Bound">numberOfSteps</a>
                 <a id="3463" class="Symbol">(</a><a id="3464" href="libraries.natCompare.html#3932" class="Function">lemmaxSucY</a> <a id="3475" class="Symbol">(</a><a id="3476" href="libraries.Mainlibrary.html#2605" class="Field">gasLeft</a> <a id="3484" class="Symbol">(</a><a id="3485" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7961" class="Function">stepEF</a> <a id="3492" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#114" class="Bound">param</a> <a id="3498" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#3216" class="Bound">oldLedger</a> <a id="3508" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#3226" class="Bound">state</a><a id="3513" class="Symbol">))</a> <a id="3516" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#3232" class="Bound">numberOfSteps</a> <a id="3530" class="Symbol">(</a><a id="3531" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15803" class="Function">stepEFgasNeeded</a> <a id="3547" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#114" class="Bound">param</a> <a id="3553" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#3226" class="Bound">state</a><a id="3558" class="Symbol">)</a>
                   <a id="3579" class="Symbol">(</a><a id="3580" href="libraries.natCompare.html#4123" class="Function">lemma=≦r</a> <a id="3589" class="Symbol">(</a><a id="3590" href="libraries.Mainlibrary.html#2605" class="Field">gasLeft</a> <a id="3598" class="Symbol">(</a><a id="3599" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7961" class="Function">stepEF</a> <a id="3606" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#114" class="Bound">param</a> <a id="3612" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#3216" class="Bound">oldLedger</a> <a id="3622" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#3226" class="Bound">state</a><a id="3627" class="Symbol">))</a> <a id="3630" class="Symbol">(</a><a id="3631" href="libraries.Mainlibrary.html#2605" class="Field">gasLeft</a> <a id="3639" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#3226" class="Bound">state</a><a id="3644" class="Symbol">)</a> <a id="3646" class="Symbol">(</a><a id="3647" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3651" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#3232" class="Bound">numberOfSteps</a><a id="3664" class="Symbol">)</a>
                             <a id="3695" class="Symbol">(</a><a id="3696" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15111" class="Function">lemmaStepEFpreserveGas2</a> <a id="3720" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#114" class="Bound">param</a> <a id="3726" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#3216" class="Bound">oldLedger</a> <a id="3736" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#3226" class="Bound">state</a><a id="3741" class="Symbol">)</a> <a id="3743" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#3246" class="Bound">numberOfStepsLessgas</a><a id="3763" class="Symbol">))</a>


  <a id="3770" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#2754" class="Function">evaluateTerminatingAuxStep3</a> <a id="3798" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#3798" class="Bound">oldLedger</a> <a id="3808" class="Symbol">(</a><a id="3809" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="3817" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#3817" class="Bound">ledger</a> <a id="3824" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#3824" class="Bound">executionStack</a> <a id="3839" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#3839" class="Bound">initialAddr</a> <a id="3851" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#3851" class="Bound">lastCallAddr</a> <a id="3864" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#3864" class="Bound">calledAddr</a> <a id="3875" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#3875" class="Bound">nextstep</a> <a id="3884" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#3884" class="Bound">gasLeft₁</a> <a id="3893" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#3893" class="Bound">funNameevalState</a> <a id="3910" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#3910" class="Bound">msgevalState</a><a id="3922" class="Symbol">)</a>
                                  <a id="3958" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#3958" class="Bound">numberOfSteps</a> <a id="3972" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#3972" class="Bound">numberOfStepsLessgas</a> <a id="3993" class="Symbol">(</a><a id="3994" href="libraries.natCompare.html#1123" class="InductiveConstructor">greater</a> <a id="4002" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4002" class="Bound">x</a><a id="4003" class="Symbol">)</a>
                                  <a id="4039" class="Symbol">=</a> <a id="4041" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#3798" class="Bound">oldLedger</a> <a id="4051" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#489" class="InductiveConstructor Operator">,,</a>  <a id="4055" class="Symbol">(</a><a id="4056" href="basicDataStructure.html#1590" class="InductiveConstructor">err</a> <a id="4060" href="basicDataStructure.html#776" class="InductiveConstructor">outOfGasError</a> <a id="4074" href="basicDataStructure.html#881" class="InductiveConstructor Operator">⟨</a> <a id="4076" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#3851" class="Bound">lastCallAddr</a> <a id="4089" href="basicDataStructure.html#881" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="4092" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#3839" class="Bound">initialAddr</a> <a id="4104" href="basicDataStructure.html#881" class="InductiveConstructor Operator">∙</a> <a id="4106" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#3893" class="Bound">funNameevalState</a> <a id="4123" href="basicDataStructure.html#881" class="InductiveConstructor Operator">[</a> <a id="4125" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#3910" class="Bound">msgevalState</a> <a id="4138" href="basicDataStructure.html#881" class="InductiveConstructor Operator">]⟩</a> <a id="4141" href="basicDataStructure.html#1726" class="InductiveConstructor Operator">,</a> <a id="4143" class="Number">0</a> <a id="4145" href="basicDataStructure.html#1726" class="InductiveConstructor Operator">gas</a><a id="4148" class="Symbol">)</a>



<a id="evaluateTerminatingAuxStep1"></a><a id="4153" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4153" class="Function">evaluateTerminatingAuxStep1</a> <a id="4181" class="Symbol">:</a> <a id="4183" class="Symbol">(</a><a id="4184" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4184" class="Bound">ledger</a> <a id="4191" class="Symbol">:</a> <a id="4193" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a><a id="4199" class="Symbol">)</a>
                          <a id="4227" class="Symbol">→</a> <a id="4229" class="Symbol">(</a><a id="4230" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4230" class="Bound">initialAddr</a> <a id="4242" class="Symbol">:</a> <a id="4244" href="basicDataStructure.html#405" class="Function">Address</a><a id="4251" class="Symbol">)</a>
                          <a id="4279" class="Symbol">→</a> <a id="4281" class="Symbol">(</a><a id="4282" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4282" class="Bound">lastCallAddr</a> <a id="4295" class="Symbol">:</a> <a id="4297" href="basicDataStructure.html#405" class="Function">Address</a><a id="4304" class="Symbol">)</a>
                          <a id="4332" class="Symbol">→</a> <a id="4334" class="Symbol">(</a><a id="4335" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4335" class="Bound">calledAddr</a> <a id="4346" class="Symbol">:</a> <a id="4348" href="basicDataStructure.html#405" class="Function">Address</a><a id="4355" class="Symbol">)</a>
                          <a id="4383" class="Symbol">→</a> <a id="4385" href="basicDataStructure.html#190" class="Function">FunctionName</a>
                          <a id="4424" class="Symbol">→</a> <a id="4426" href="basicDataStructure.html#523" class="Datatype">Msg</a>
                          <a id="4456" class="Symbol">→</a> <a id="4458" class="Symbol">(</a><a id="4459" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4459" class="Bound">gasreserved</a> <a id="4471" class="Symbol">:</a> <a id="4473" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="4474" class="Symbol">)</a>
                          <a id="4502" class="Symbol">→</a> <a id="4504" class="Symbol">(</a><a id="4505" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4505" class="Bound">cp</a>  <a id="4509" class="Symbol">:</a> <a id="4511" href="libraries.natCompare.html#1047" class="Datatype">OrderingLeq</a> <a id="4523" class="Symbol">(</a><a id="4524" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="4533" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#114" class="Bound">param</a> <a id="4539" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4459" class="Bound">gasreserved</a><a id="4550" class="Symbol">)</a> <a id="4552" class="Symbol">(</a><a id="4553" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4184" class="Bound">ledger</a> <a id="4560" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4230" class="Bound">initialAddr</a> <a id="4572" class="Symbol">.</a><a id="4573" href="libraries.Mainlibrary.html#800" class="Field">amount</a><a id="4579" class="Symbol">))</a>
                          <a id="4608" class="Symbol">→</a> <a id="4610" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a> <a id="4617" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4619" href="basicDataStructure.html#1675" class="Record">MsgOrErrorWithGas</a>
<a id="4637" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4153" class="Function">evaluateTerminatingAuxStep1</a> <a id="4665" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4665" class="Bound">ledger</a> <a id="4672" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4672" class="Bound">initialAddr</a> <a id="4684" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4684" class="Bound">lastCallAddr</a> <a id="4697" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4697" class="Bound">calledAddr</a> <a id="4708" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4708" class="Bound">funname</a> <a id="4716" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4716" class="Bound">msg</a> <a id="4720" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4720" class="Bound">gasreserved</a>  <a id="4733" class="Symbol">(</a><a id="4734" href="libraries.natCompare.html#1085" class="InductiveConstructor">leq</a> <a id="4738" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4738" class="Bound">leqpr</a><a id="4743" class="Symbol">)</a>
                           <a id="4772" class="Symbol">=</a> <a id="4774" class="Keyword">let</a>
                               <a id="4809" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4809" class="Bound">ledgerDeducted</a> <a id="4824" class="Symbol">:</a> <a id="4826" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a>
                               <a id="4864" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4809" class="Bound">ledgerDeducted</a> <a id="4879" class="Symbol">=</a> <a id="4881" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2556" class="Function">deductGasFromLedger</a> <a id="4901" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#114" class="Bound">param</a> <a id="4907" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4665" class="Bound">ledger</a> <a id="4914" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4672" class="Bound">initialAddr</a> <a id="4926" class="Symbol">(</a><a id="4927" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="4936" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#114" class="Bound">param</a> <a id="4942" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4720" class="Bound">gasreserved</a><a id="4953" class="Symbol">)</a> <a id="4955" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4738" class="Bound">leqpr</a>
                             <a id="4990" class="Keyword">in</a> <a id="4993" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#784" class="Function">evaluateTerminatingAuxStep2</a> <a id="5021" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4809" class="Bound">ledgerDeducted</a>
                                     <a id="5073" class="Symbol">(</a><a id="5074" href="libraries.Mainlibrary.html#2170" class="InductiveConstructor">stateEF</a> <a id="5082" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4809" class="Bound">ledgerDeducted</a> <a id="5097" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="5100" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4672" class="Bound">initialAddr</a> <a id="5112" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4684" class="Bound">lastCallAddr</a> <a id="5125" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4697" class="Bound">calledAddr</a> <a id="5136" class="Symbol">(</a><a id="5137" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4809" class="Bound">ledgerDeducted</a> <a id="5152" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4697" class="Bound">calledAddr</a> <a id="5163" class="Symbol">.</a><a id="5164" href="libraries.Mainlibrary.html#826" class="Field">fun</a> <a id="5168" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4708" class="Bound">funname</a> <a id="5176" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4716" class="Bound">msg</a><a id="5179" class="Symbol">)</a>
                                     <a id="5218" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4720" class="Bound">gasreserved</a>  <a id="5231" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4708" class="Bound">funname</a> <a id="5239" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4716" class="Bound">msg</a><a id="5242" class="Symbol">)</a> <a id="5244" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4720" class="Bound">gasreserved</a> <a id="5256" class="Symbol">(</a><a id="5257" href="libraries.natCompare.html#3662" class="Function">refl≦r</a> <a id="5264" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4720" class="Bound">gasreserved</a><a id="5275" class="Symbol">)</a>

<a id="5278" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4153" class="Function">evaluateTerminatingAuxStep1</a> <a id="5306" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#5306" class="Bound">ledger</a> <a id="5313" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#5313" class="Bound">initialAddr</a> <a id="5325" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#5325" class="Bound">lastCallAddr</a> <a id="5338" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#5338" class="Bound">calledAddr</a> <a id="5349" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#5349" class="Bound">funname</a> <a id="5357" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#5357" class="Bound">msg</a> <a id="5361" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#5361" class="Bound">gasreserved</a>  <a id="5374" class="Symbol">(</a><a id="5375" href="libraries.natCompare.html#1123" class="InductiveConstructor">greater</a> <a id="5383" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#5383" class="Bound">greaterpr</a><a id="5392" class="Symbol">)</a>
                           <a id="5421" class="Symbol">=</a> <a id="5423" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#5306" class="Bound">ledger</a> <a id="5430" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#489" class="InductiveConstructor Operator">,,</a>  <a id="5434" class="Symbol">(</a><a id="5435" href="basicDataStructure.html#1590" class="InductiveConstructor">err</a> <a id="5439" href="basicDataStructure.html#776" class="InductiveConstructor">outOfGasError</a> <a id="5453" href="basicDataStructure.html#881" class="InductiveConstructor Operator">⟨</a> <a id="5455" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#5325" class="Bound">lastCallAddr</a> <a id="5468" href="basicDataStructure.html#881" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="5471" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#5313" class="Bound">initialAddr</a> <a id="5483" href="basicDataStructure.html#881" class="InductiveConstructor Operator">∙</a> <a id="5485" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#5349" class="Bound">funname</a> <a id="5493" href="basicDataStructure.html#881" class="InductiveConstructor Operator">[</a> <a id="5495" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#5357" class="Bound">msg</a> <a id="5499" href="basicDataStructure.html#881" class="InductiveConstructor Operator">]⟩</a> <a id="5502" href="basicDataStructure.html#1726" class="InductiveConstructor Operator">,</a> <a id="5504" class="Number">0</a> <a id="5506" href="basicDataStructure.html#1726" class="InductiveConstructor Operator">gas</a><a id="5509" class="Symbol">)</a>

<a id="evaluateTerminatingfinal"></a><a id="5512" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#5512" class="Function">evaluateTerminatingfinal</a> <a id="5537" class="Symbol">:</a> <a id="5539" class="Symbol">(</a><a id="5540" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#5540" class="Bound">ledger</a> <a id="5547" class="Symbol">:</a> <a id="5549" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a><a id="5555" class="Symbol">)</a>
                         <a id="5582" class="Symbol">→</a> <a id="5584" class="Symbol">(</a><a id="5585" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#5585" class="Bound">initialAddr</a> <a id="5597" class="Symbol">:</a> <a id="5599" href="basicDataStructure.html#405" class="Function">Address</a><a id="5606" class="Symbol">)</a>
                            <a id="5636" class="Comment">-- Initial address is the address from which the very first call was made</a>
                         <a id="5735" class="Symbol">→</a> <a id="5737" class="Symbol">(</a><a id="5738" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#5738" class="Bound">lastCallAddr</a> <a id="5751" class="Symbol">:</a> <a id="5753" href="basicDataStructure.html#405" class="Function">Address</a><a id="5760" class="Symbol">)</a>
                            <a id="5790" class="Comment">-- lastCallAddr is the address from which the current call of a function in</a>
                            <a id="5894" class="Comment">--         calledAddr is made</a>
                         <a id="5949" class="Symbol">→</a> <a id="5951" class="Symbol">(</a><a id="5952" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#5952" class="Bound">calledAddr</a> <a id="5963" class="Symbol">:</a> <a id="5965" href="basicDataStructure.html#405" class="Function">Address</a><a id="5972" class="Symbol">)</a>
                            <a id="6002" class="Comment">-- calledAddr is the address where a function call is currently executed</a>
                            <a id="6103" class="Comment">--            it was called from calledAddr</a>
                         <a id="6172" class="Symbol">→</a> <a id="6174" href="basicDataStructure.html#190" class="Function">FunctionName</a>
                         <a id="6212" class="Symbol">→</a> <a id="6214" href="basicDataStructure.html#523" class="Datatype">Msg</a>
                         <a id="6243" class="Symbol">→</a> <a id="6245" class="Symbol">(</a><a id="6246" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#6246" class="Bound">gasreserved</a> <a id="6258" class="Symbol">:</a> <a id="6260" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="6261" class="Symbol">)</a>
                         <a id="6288" class="Symbol">→</a> <a id="6290" href="libraries.Mainlibrary.html#1036" class="Function">Ledger</a> <a id="6297" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6299" href="basicDataStructure.html#1675" class="Record">MsgOrErrorWithGas</a>
<a id="6317" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#5512" class="Function">evaluateTerminatingfinal</a> <a id="6342" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#6342" class="Bound">ledger</a> <a id="6349" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#6349" class="Bound">initialAddr</a> <a id="6361" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#6361" class="Bound">lastCallAddr</a> <a id="6374" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#6374" class="Bound">calledAddr</a> <a id="6385" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#6385" class="Bound">funname</a> <a id="6393" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#6393" class="Bound">msg</a> <a id="6397" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#6397" class="Bound">gasreserved</a>
                      <a id="6431" class="Symbol">=</a>  <a id="6434" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#4153" class="Function">evaluateTerminatingAuxStep1</a> <a id="6462" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#6342" class="Bound">ledger</a> <a id="6469" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#6349" class="Bound">initialAddr</a> <a id="6481" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#6361" class="Bound">lastCallAddr</a> <a id="6494" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#6374" class="Bound">calledAddr</a> <a id="6505" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#6385" class="Bound">funname</a> <a id="6513" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#6393" class="Bound">msg</a> <a id="6517" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#6397" class="Bound">gasreserved</a>
                         <a id="6554" class="Symbol">(</a><a id="6555" href="libraries.natCompare.html#2247" class="Function">compareLeq</a> <a id="6566" class="Symbol">(</a><a id="6567" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="6576" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#114" class="Bound">param</a> <a id="6582" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#6397" class="Bound">gasreserved</a><a id="6593" class="Symbol">)</a> <a id="6595" class="Symbol">(</a><a id="6596" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#6342" class="Bound">ledger</a> <a id="6603" href="Complex-Model.terminating.ledger.Ledger-Complex-Model-improved-terminate.html#6349" class="Bound">initialAddr</a> <a id="6615" class="Symbol">.</a><a id="6616" href="libraries.Mainlibrary.html#800" class="Field">amount</a><a id="6622" class="Symbol">))</a>

</pre></body></html>