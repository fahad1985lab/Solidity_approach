<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Complex-Model.ledgerversion.Ledger-Complex-Model</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="constantparameters.html" class="Module">constantparameters</a>

<a id="33" class="Keyword">module</a> <a id="40" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html" class="Module">Complex-Model.ledgerversion.Ledger-Complex-Model</a> <a id="89" class="Symbol">(</a><a id="90" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="96" class="Symbol">:</a> <a id="98" href="constantparameters.html#235" class="Record">ConstantParameters</a><a id="116" class="Symbol">)</a> <a id="118" class="Keyword">where</a>

<a id="125" class="Keyword">open</a> <a id="130" class="Keyword">import</a> <a id="137" href="Data.Nat.html" class="Module">Data.Nat</a>
<a id="146" class="Keyword">open</a> <a id="151" class="Keyword">import</a> <a id="158" href="Agda.Builtin.Nat.html" class="Module">Agda.Builtin.Nat</a> <a id="175" class="Keyword">using</a> <a id="181" class="Symbol">(</a><a id="182" href="Agda.Builtin.Nat.html#426" class="Primitive Operator">_-_</a><a id="185" class="Symbol">;</a> <a id="187" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">_*_</a><a id="190" class="Symbol">)</a>
<a id="192" class="Keyword">open</a> <a id="197" class="Keyword">import</a> <a id="204" href="Data.Unit.html" class="Module">Data.Unit</a>
<a id="214" class="Keyword">open</a> <a id="219" class="Keyword">import</a> <a id="226" href="Data.List.html" class="Module">Data.List</a>
<a id="236" class="Keyword">open</a> <a id="241" class="Keyword">import</a> <a id="248" href="Data.Bool.html" class="Module">Data.Bool</a>
<a id="258" class="Keyword">open</a> <a id="263" class="Keyword">import</a> <a id="270" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a>
<a id="285" class="Keyword">open</a> <a id="290" class="Keyword">import</a> <a id="297" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="311" class="Keyword">open</a> <a id="316" class="Keyword">import</a> <a id="323" href="Data.Maybe.html" class="Module">Data.Maybe</a>  <a id="335" class="Keyword">hiding</a> <a id="342" class="Symbol">(</a><a id="343" href="Data.Maybe.Base.html#2256" class="Function Operator">_&gt;&gt;=_</a><a id="348" class="Symbol">)</a>
<a id="350" class="Keyword">open</a> <a id="355" class="Keyword">import</a> <a id="362" href="Data.String.html" class="Module">Data.String</a> <a id="374" class="Keyword">hiding</a> <a id="381" class="Symbol">(</a><a id="382" href="Data.String.Base.html#2468" class="Function">length</a><a id="388" class="Symbol">;</a> <a id="390" href="Data.String.Base.html#1605" class="Primitive">show</a><a id="394" class="Symbol">)</a> <a id="396" class="Keyword">renaming</a> <a id="405" class="Symbol">(</a><a id="406" href="Data.String.Base.html#2404" class="Function Operator">_++_</a> <a id="411" class="Symbol">to</a> <a id="414" class="Function Operator">_++str_</a><a id="421" class="Symbol">)</a>
<a id="423" class="Keyword">open</a> <a id="428" class="Keyword">import</a> <a id="435" href="Data.Product.html" class="Module">Data.Product</a> <a id="448" class="Keyword">renaming</a> <a id="457" class="Symbol">(</a><a id="458" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a> <a id="462" class="Symbol">to</a> <a id="465" class="InductiveConstructor Operator">_,,_</a> <a id="470" class="Symbol">)</a>
<a id="472" class="Keyword">open</a> <a id="477" class="Keyword">import</a> <a id="484" href="Data.Nat.Show.html" class="Module">Data.Nat.Show</a>
<a id="498" class="Keyword">open</a> <a id="503" class="Keyword">import</a> <a id="510" href="Data.Empty.html" class="Module">Data.Empty</a>


<a id="523" class="Comment">-- our work</a>
<a id="535" class="Keyword">open</a> <a id="540" class="Keyword">import</a> <a id="547" href="Complex-Model.ccomand.ccommands-cresponse.html" class="Module">Complex-Model.ccomand.ccommands-cresponse</a>
<a id="589" class="Keyword">open</a> <a id="594" class="Keyword">import</a> <a id="601" href="basicDataStructure.html" class="Module">basicDataStructure</a>
<a id="620" class="Keyword">open</a> <a id="625" class="Keyword">import</a> <a id="632" href="libraries.natCompare.html" class="Module">libraries.natCompare</a>
<a id="653" class="Keyword">open</a> <a id="658" class="Keyword">import</a> <a id="665" href="libraries.Mainlibrary.html" class="Module">libraries.Mainlibrary</a>




<a id="691" class="Comment">-- update view function in the ledger</a>
<a id="updateLedgerviewfun"></a><a id="729" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#729" class="Function">updateLedgerviewfun</a> <a id="749" class="Symbol">:</a> <a id="751" href="libraries.Mainlibrary.html#1000" class="Function">Ledger</a> <a id="758" class="Symbol">→</a> <a id="760" href="basicDataStructure.html#388" class="Function">Address</a> <a id="768" class="Symbol">→</a> <a id="770" href="basicDataStructure.html#172" class="Function">FunctionName</a>
       <a id="790" class="Symbol">→</a> <a id="792" class="Symbol">((</a><a id="794" href="basicDataStructure.html#489" class="Datatype">Msg</a> <a id="798" class="Symbol">→</a> <a id="800" href="basicDataStructure.html#1381" class="Datatype">MsgOrError</a><a id="810" class="Symbol">)</a> <a id="812" class="Symbol">→</a> <a id="814" class="Symbol">(</a><a id="815" href="basicDataStructure.html#489" class="Datatype">Msg</a> <a id="819" class="Symbol">→</a> <a id="821" href="basicDataStructure.html#1381" class="Datatype">MsgOrError</a><a id="831" class="Symbol">))</a>
       <a id="841" class="Symbol">→</a> <a id="843" class="Symbol">((</a><a id="845" href="basicDataStructure.html#489" class="Datatype">Msg</a> <a id="849" class="Symbol">→</a> <a id="851" href="basicDataStructure.html#1381" class="Datatype">MsgOrError</a><a id="861" class="Symbol">)</a> <a id="863" class="Symbol">→</a> <a id="865" class="Symbol">(</a><a id="866" href="basicDataStructure.html#489" class="Datatype">Msg</a> <a id="870" class="Symbol">→</a> <a id="872" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="873" class="Symbol">)</a> <a id="875" class="Symbol">→</a> <a id="877" href="basicDataStructure.html#489" class="Datatype">Msg</a> <a id="881" class="Symbol">→</a> <a id="883" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="884" class="Symbol">)</a>
       <a id="893" class="Symbol">→</a> <a id="895" href="libraries.Mainlibrary.html#1000" class="Function">Ledger</a>
<a id="902" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#729" class="Function">updateLedgerviewfun</a> <a id="922" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#922" class="Bound">ledger</a> <a id="929" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#929" class="Bound">changedAddr</a> <a id="941" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#941" class="Bound">changedFname</a> <a id="954" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#954" class="Bound">f</a> <a id="956" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#956" class="Bound">g</a> <a id="958" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#958" class="Bound">a</a> <a id="960" class="Symbol">.</a><a id="961" href="libraries.Mainlibrary.html#795" class="Field">amount</a> <a id="968" class="Symbol">=</a> <a id="970" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#922" class="Bound">ledger</a> <a id="977" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#958" class="Bound">a</a> <a id="979" class="Symbol">.</a><a id="980" href="libraries.Mainlibrary.html#795" class="Field">amount</a>
<a id="987" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#729" class="Function">updateLedgerviewfun</a> <a id="1007" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1007" class="Bound">ledger</a> <a id="1014" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1014" class="Bound">changedAddr</a> <a id="1026" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1026" class="Bound">changedFname</a> <a id="1039" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1039" class="Bound">f</a> <a id="1041" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1041" class="Bound">g</a> <a id="1043" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1043" class="Bound">a</a> <a id="1045" class="Symbol">.</a><a id="1046" href="libraries.Mainlibrary.html#815" class="Field">fun</a>  <a id="1051" class="Symbol">=</a> <a id="1053" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1007" class="Bound">ledger</a> <a id="1060" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1043" class="Bound">a</a> <a id="1062" class="Symbol">.</a><a id="1063" href="libraries.Mainlibrary.html#815" class="Field">fun</a>
<a id="1067" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#729" class="Function">updateLedgerviewfun</a> <a id="1087" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1087" class="Bound">ledger</a> <a id="1094" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1094" class="Bound">changedAddr</a> <a id="1106" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1106" class="Bound">changedFname</a> <a id="1119" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1119" class="Bound">f</a> <a id="1121" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1121" class="Bound">g</a> <a id="1123" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1123" class="Bound">a</a> <a id="1125" class="Symbol">.</a><a id="1126" href="libraries.Mainlibrary.html#869" class="Field">viewFunction</a> <a id="1139" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1139" class="Bound">fname</a> <a id="1145" class="Symbol">=</a>
       <a id="1154" href="Data.Bool.Base.html#1505" class="Function Operator">if</a> <a id="1157" class="Symbol">(</a><a id="1158" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1106" class="Bound">changedFname</a> <a id="1171" href="basicDataStructure.html#257" class="Function Operator">≡fun</a> <a id="1176" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1139" class="Bound">fname</a><a id="1181" class="Symbol">)</a> <a id="1183" href="Data.Bool.Base.html#1505" class="Function Operator">then</a>  <a id="1189" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1119" class="Bound">f</a> <a id="1191" class="Symbol">(</a><a id="1192" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1087" class="Bound">ledger</a> <a id="1199" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1123" class="Bound">a</a> <a id="1201" class="Symbol">.</a><a id="1202" href="libraries.Mainlibrary.html#869" class="Field">viewFunction</a> <a id="1215" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1139" class="Bound">fname</a><a id="1220" class="Symbol">)</a>
                         <a id="1247" href="Data.Bool.Base.html#1505" class="Function Operator">else</a>  <a id="1253" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1087" class="Bound">ledger</a> <a id="1260" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1123" class="Bound">a</a> <a id="1262" class="Symbol">.</a><a id="1263" href="libraries.Mainlibrary.html#869" class="Field">viewFunction</a> <a id="1276" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1139" class="Bound">fname</a>
<a id="1282" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#729" class="Function">updateLedgerviewfun</a> <a id="1302" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1302" class="Bound">ledger</a> <a id="1309" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1309" class="Bound">changedAddr</a> <a id="1321" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1321" class="Bound">changedFname</a> <a id="1334" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1334" class="Bound">f</a> <a id="1336" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1336" class="Bound">g</a> <a id="1338" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1338" class="Bound">a</a> <a id="1340" class="Symbol">.</a><a id="1341" href="libraries.Mainlibrary.html#920" class="Field">viewFunctionCost</a> <a id="1358" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1358" class="Bound">fname</a> <a id="1364" class="Symbol">=</a>
          <a id="1376" href="Data.Bool.Base.html#1505" class="Function Operator">if</a> <a id="1379" class="Symbol">(</a><a id="1380" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1321" class="Bound">changedFname</a> <a id="1393" href="basicDataStructure.html#257" class="Function Operator">≡fun</a> <a id="1398" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1358" class="Bound">fname</a><a id="1403" class="Symbol">)</a> <a id="1405" href="Data.Bool.Base.html#1505" class="Function Operator">then</a>  <a id="1411" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1336" class="Bound">g</a> <a id="1413" class="Symbol">(</a><a id="1414" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1302" class="Bound">ledger</a> <a id="1421" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1338" class="Bound">a</a> <a id="1423" class="Symbol">.</a><a id="1424" href="libraries.Mainlibrary.html#869" class="Field">viewFunction</a> <a id="1437" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1358" class="Bound">fname</a><a id="1442" class="Symbol">)</a> <a id="1444" class="Symbol">(</a><a id="1445" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1302" class="Bound">ledger</a> <a id="1452" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1338" class="Bound">a</a> <a id="1454" class="Symbol">.</a><a id="1455" href="libraries.Mainlibrary.html#920" class="Field">viewFunctionCost</a> <a id="1472" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1358" class="Bound">fname</a><a id="1477" class="Symbol">)</a>
                         <a id="1504" href="Data.Bool.Base.html#1505" class="Function Operator">else</a>  <a id="1510" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1302" class="Bound">ledger</a> <a id="1517" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1338" class="Bound">a</a> <a id="1519" class="Symbol">.</a><a id="1520" href="libraries.Mainlibrary.html#920" class="Field">viewFunctionCost</a> <a id="1537" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1358" class="Bound">fname</a>


<a id="1545" class="Comment">--update ledger amount</a>
<a id="updateLedgerAmount"></a><a id="1568" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1568" class="Function">updateLedgerAmount</a> <a id="1587" class="Symbol">:</a> <a id="1589" class="Symbol">(</a><a id="1590" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1590" class="Bound">ledger</a> <a id="1597" class="Symbol">:</a> <a id="1599" href="libraries.Mainlibrary.html#1000" class="Function">Ledger</a><a id="1605" class="Symbol">)</a>
               <a id="1622" class="Symbol">→</a>  <a id="1625" class="Symbol">(</a><a id="1626" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1626" class="Bound">calledAddr</a> <a id="1637" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1637" class="Bound">destinationAddr</a> <a id="1653" class="Symbol">:</a> <a id="1655" href="basicDataStructure.html#388" class="Function">Address</a><a id="1662" class="Symbol">)</a> <a id="1664" class="Symbol">(</a><a id="1665" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1665" class="Bound">amount&#39;</a> <a id="1673" class="Symbol">:</a> <a id="1675" href="basicDataStructure.html#361" class="Function">Amount</a><a id="1681" class="Symbol">)</a>
               <a id="1698" class="Symbol">→</a> <a id="1700" class="Symbol">(</a><a id="1701" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1701" class="Bound">correctAmount</a> <a id="1715" class="Symbol">:</a> <a id="1717" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1665" class="Bound">amount&#39;</a> <a id="1725" href="libraries.natCompare.html#712" class="Function Operator">≦r</a>  <a id="1729" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1590" class="Bound">ledger</a> <a id="1736" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1626" class="Bound">calledAddr</a> <a id="1747" class="Symbol">.</a><a id="1748" href="libraries.Mainlibrary.html#795" class="Field">amount</a><a id="1754" class="Symbol">)</a>
                <a id="1772" class="Symbol">→</a> <a id="1774" href="libraries.Mainlibrary.html#1000" class="Function">Ledger</a>
<a id="1781" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1568" class="Function">updateLedgerAmount</a> <a id="1800" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1800" class="Bound">ledger</a> <a id="1807" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1807" class="Bound">calledAddr</a> <a id="1818" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1818" class="Bound">destinationAddr</a> <a id="1834" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1834" class="Bound">amount&#39;</a> <a id="1842" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1842" class="Bound">correctAmount</a> <a id="1856" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1856" class="Bound">addr</a> <a id="1861" class="Symbol">.</a><a id="1862" href="libraries.Mainlibrary.html#795" class="Field">amount</a>
     <a id="1874" class="Symbol">=</a> <a id="1876" href="Data.Bool.Base.html#1505" class="Function Operator">if</a> <a id="1879" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1856" class="Bound">addr</a> <a id="1884" href="Data.Nat.Base.html#1283" class="Primitive Operator">≡ᵇ</a> <a id="1887" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1807" class="Bound">calledAddr</a>
     <a id="1903" href="Data.Bool.Base.html#1505" class="Function Operator">then</a> <a id="1908" href="libraries.natCompare.html#3559" class="Function">subtract</a> <a id="1917" class="Symbol">(</a><a id="1918" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1800" class="Bound">ledger</a> <a id="1925" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1807" class="Bound">calledAddr</a> <a id="1936" class="Symbol">.</a><a id="1937" href="libraries.Mainlibrary.html#795" class="Field">amount</a><a id="1943" class="Symbol">)</a> <a id="1945" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1834" class="Bound">amount&#39;</a> <a id="1953" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1842" class="Bound">correctAmount</a>
     <a id="1972" href="Data.Bool.Base.html#1505" class="Function Operator">else</a> <a id="1977" class="Symbol">(</a><a id="1978" href="Data.Bool.Base.html#1505" class="Function Operator">if</a> <a id="1981" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1856" class="Bound">addr</a> <a id="1986" href="Data.Nat.Base.html#1283" class="Primitive Operator">≡ᵇ</a> <a id="1989" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1818" class="Bound">destinationAddr</a>
     <a id="2010" href="Data.Bool.Base.html#1505" class="Function Operator">then</a> <a id="2015" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1800" class="Bound">ledger</a> <a id="2022" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1818" class="Bound">destinationAddr</a> <a id="2038" class="Symbol">.</a><a id="2039" href="libraries.Mainlibrary.html#795" class="Field">amount</a> <a id="2046" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="2048" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1834" class="Bound">amount&#39;</a>
       <a id="2063" href="Data.Bool.Base.html#1505" class="Function Operator">else</a> <a id="2068" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1800" class="Bound">ledger</a> <a id="2075" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1856" class="Bound">addr</a> <a id="2080" class="Symbol">.</a><a id="2081" href="libraries.Mainlibrary.html#795" class="Field">amount</a><a id="2087" class="Symbol">)</a>
<a id="2089" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1568" class="Function">updateLedgerAmount</a> <a id="2108" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2108" class="Bound">ledger</a> <a id="2115" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2115" class="Bound">calledAddr</a> <a id="2126" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2126" class="Bound">newAddr</a> <a id="2134" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2134" class="Bound">amount&#39;</a> <a id="2142" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2142" class="Bound">correctAmount</a> <a id="2156" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2156" class="Bound">addr</a> <a id="2161" class="Symbol">.</a><a id="2162" href="libraries.Mainlibrary.html#815" class="Field">fun</a>
     <a id="2171" class="Symbol">=</a>  <a id="2174" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2108" class="Bound">ledger</a> <a id="2181" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2156" class="Bound">addr</a> <a id="2186" class="Symbol">.</a><a id="2187" href="libraries.Mainlibrary.html#815" class="Field">fun</a>

<a id="2192" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1568" class="Function">updateLedgerAmount</a> <a id="2211" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2211" class="Bound">ledger</a> <a id="2218" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2218" class="Bound">calledAddr</a> <a id="2229" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2229" class="Bound">newAddr</a> <a id="2237" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2237" class="Bound">amount&#39;</a> <a id="2245" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2245" class="Bound">correctAmount</a> <a id="2259" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2259" class="Bound">addr</a> <a id="2264" class="Symbol">.</a><a id="2265" href="libraries.Mainlibrary.html#869" class="Field">viewFunction</a>
     <a id="2283" class="Symbol">=</a> <a id="2285" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2211" class="Bound">ledger</a> <a id="2292" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2259" class="Bound">addr</a> <a id="2297" class="Symbol">.</a><a id="2298" href="libraries.Mainlibrary.html#869" class="Field">viewFunction</a>
<a id="2311" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1568" class="Function">updateLedgerAmount</a> <a id="2330" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2330" class="Bound">ledger</a> <a id="2337" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2337" class="Bound">calledAddr</a> <a id="2348" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2348" class="Bound">newAddr</a> <a id="2356" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2356" class="Bound">amount&#39;</a> <a id="2364" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2364" class="Bound">correctAmount</a> <a id="2378" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2378" class="Bound">addr</a> <a id="2383" class="Symbol">.</a><a id="2384" href="libraries.Mainlibrary.html#920" class="Field">viewFunctionCost</a> <a id="2401" class="Symbol">=</a> <a id="2403" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2330" class="Bound">ledger</a> <a id="2410" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2378" class="Bound">addr</a> <a id="2415" class="Symbol">.</a><a id="2416" href="libraries.Mainlibrary.html#920" class="Field">viewFunctionCost</a>


<a id="2435" class="Comment">--This function we use it to update the gas by decucting from the ledger</a>
<a id="deductGasFromLedger"></a><a id="2508" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2508" class="Function">deductGasFromLedger</a> <a id="2528" class="Symbol">:</a> <a id="2530" class="Symbol">(</a><a id="2531" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2531" class="Bound">ledger</a> <a id="2538" class="Symbol">:</a> <a id="2540" href="libraries.Mainlibrary.html#1000" class="Function">Ledger</a><a id="2546" class="Symbol">)</a>
   <a id="2551" class="Symbol">→</a> <a id="2553" class="Symbol">(</a><a id="2554" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2554" class="Bound">calledAddr</a> <a id="2565" class="Symbol">:</a> <a id="2567" href="basicDataStructure.html#388" class="Function">Address</a><a id="2574" class="Symbol">)</a> <a id="2576" class="Symbol">(</a><a id="2577" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2577" class="Bound">gascost</a> <a id="2585" class="Symbol">:</a> <a id="2587" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="2588" class="Symbol">)</a>
   <a id="2593" class="Symbol">→</a> <a id="2595" class="Symbol">(</a><a id="2596" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2596" class="Bound">correctAmount</a> <a id="2610" class="Symbol">:</a>
         <a id="2621" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2577" class="Bound">gascost</a> <a id="2629" href="libraries.natCompare.html#712" class="Function Operator">≦r</a> <a id="2632" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2531" class="Bound">ledger</a> <a id="2639" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2554" class="Bound">calledAddr</a> <a id="2650" class="Symbol">.</a><a id="2651" href="libraries.Mainlibrary.html#795" class="Field">amount</a><a id="2657" class="Symbol">)</a>
   <a id="2662" class="Symbol">→</a> <a id="2664" href="libraries.Mainlibrary.html#1000" class="Function">Ledger</a>
<a id="2671" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2508" class="Function">deductGasFromLedger</a> <a id="2691" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2691" class="Bound">ledger</a> <a id="2698" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2698" class="Bound">calledAddr</a> <a id="2709" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2709" class="Bound">gascost</a> <a id="2717" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2717" class="Bound">correctAmount</a> <a id="2731" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2731" class="Bound">addr</a> <a id="2736" class="Symbol">.</a><a id="2737" href="libraries.Mainlibrary.html#795" class="Field">amount</a>
     <a id="2749" class="Symbol">=</a> <a id="2751" href="Data.Bool.Base.html#1505" class="Function Operator">if</a> <a id="2754" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2731" class="Bound">addr</a> <a id="2759" href="Data.Nat.Base.html#1283" class="Primitive Operator">≡ᵇ</a> <a id="2762" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2698" class="Bound">calledAddr</a>
     <a id="2778" href="Data.Bool.Base.html#1505" class="Function Operator">then</a> <a id="2783" href="libraries.natCompare.html#3559" class="Function">subtract</a> <a id="2792" class="Symbol">(</a><a id="2793" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2691" class="Bound">ledger</a> <a id="2800" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2698" class="Bound">calledAddr</a> <a id="2811" class="Symbol">.</a><a id="2812" href="libraries.Mainlibrary.html#795" class="Field">amount</a><a id="2818" class="Symbol">)</a> <a id="2820" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2709" class="Bound">gascost</a> <a id="2828" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2717" class="Bound">correctAmount</a>
     <a id="2847" href="Data.Bool.Base.html#1505" class="Function Operator">else</a>  <a id="2853" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2691" class="Bound">ledger</a> <a id="2860" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2731" class="Bound">addr</a> <a id="2865" class="Symbol">.</a><a id="2866" href="libraries.Mainlibrary.html#795" class="Field">amount</a>
<a id="2873" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2508" class="Function">deductGasFromLedger</a> <a id="2893" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2893" class="Bound">ledger</a> <a id="2900" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2900" class="Bound">calledAddr</a> <a id="2911" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2911" class="Bound">gascost</a> <a id="2919" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2919" class="Bound">correctAmount</a> <a id="2933" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2933" class="Bound">addr</a> <a id="2938" class="Symbol">.</a><a id="2939" href="libraries.Mainlibrary.html#815" class="Field">fun</a>
    <a id="2947" class="Symbol">=</a> <a id="2949" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2893" class="Bound">ledger</a> <a id="2956" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2933" class="Bound">addr</a> <a id="2961" class="Symbol">.</a><a id="2962" href="libraries.Mainlibrary.html#815" class="Field">fun</a>
<a id="2966" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2508" class="Function">deductGasFromLedger</a> <a id="2986" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2986" class="Bound">ledger</a> <a id="2993" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2993" class="Bound">calledAddr</a> <a id="3004" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3004" class="Bound">gascost</a> <a id="3012" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3012" class="Bound">correctAmount</a> <a id="3026" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3026" class="Bound">addr</a> <a id="3031" class="Symbol">.</a><a id="3032" href="libraries.Mainlibrary.html#869" class="Field">viewFunction</a>
    <a id="3049" class="Symbol">=</a> <a id="3051" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2986" class="Bound">ledger</a> <a id="3058" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3026" class="Bound">addr</a> <a id="3063" class="Symbol">.</a><a id="3064" href="libraries.Mainlibrary.html#869" class="Field">viewFunction</a>
<a id="3077" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2508" class="Function">deductGasFromLedger</a> <a id="3097" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3097" class="Bound">ledger</a> <a id="3104" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3104" class="Bound">calledAddr</a> <a id="3115" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3115" class="Bound">gascost</a> <a id="3123" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3123" class="Bound">correctAmount</a> <a id="3137" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3137" class="Bound">addr</a> <a id="3142" class="Symbol">.</a><a id="3143" href="libraries.Mainlibrary.html#920" class="Field">viewFunctionCost</a>
    <a id="3164" class="Symbol">=</a> <a id="3166" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3097" class="Bound">ledger</a> <a id="3173" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3137" class="Bound">addr</a> <a id="3178" class="Symbol">.</a><a id="3179" href="libraries.Mainlibrary.html#920" class="Field">viewFunctionCost</a>


<a id="3198" class="Comment">-- this function below we use it to refuend in two cases with steEF</a>
<a id="3266" class="Comment">-- 1) when finish (first case)</a>
<a id="3297" class="Comment">-- 2) when we have error (the last case)</a>
<a id="addWeiToLedger"></a><a id="3338" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3338" class="Function">addWeiToLedger</a> <a id="3353" class="Symbol">:</a> <a id="3355" class="Symbol">(</a><a id="3356" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3356" class="Bound">ledger</a> <a id="3363" class="Symbol">:</a> <a id="3365" href="libraries.Mainlibrary.html#1000" class="Function">Ledger</a><a id="3371" class="Symbol">)</a>
   <a id="3376" class="Symbol">→</a> <a id="3378" class="Symbol">(</a><a id="3379" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3379" class="Bound">address</a> <a id="3387" class="Symbol">:</a> <a id="3389" href="basicDataStructure.html#388" class="Function">Address</a><a id="3396" class="Symbol">)</a> <a id="3398" class="Symbol">(</a><a id="3399" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3399" class="Bound">amount&#39;</a> <a id="3407" class="Symbol">:</a> <a id="3409" href="basicDataStructure.html#361" class="Function">Amount</a><a id="3415" class="Symbol">)</a>
   <a id="3420" class="Symbol">→</a> <a id="3422" href="libraries.Mainlibrary.html#1000" class="Function">Ledger</a>
<a id="3429" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3338" class="Function">addWeiToLedger</a> <a id="3444" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3444" class="Bound">ledger</a> <a id="3451" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3451" class="Bound">address</a> <a id="3459" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3459" class="Bound">amount&#39;</a> <a id="3467" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3467" class="Bound">addr</a> <a id="3472" class="Symbol">.</a><a id="3473" href="libraries.Mainlibrary.html#795" class="Field">amount</a>
       <a id="3487" class="Symbol">=</a>   <a id="3491" href="Data.Bool.Base.html#1505" class="Function Operator">if</a> <a id="3494" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3467" class="Bound">addr</a> <a id="3499" href="Data.Nat.Base.html#1283" class="Primitive Operator">≡ᵇ</a> <a id="3502" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3451" class="Bound">address</a>
           <a id="3521" href="Data.Bool.Base.html#1505" class="Function Operator">then</a> <a id="3526" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3444" class="Bound">ledger</a> <a id="3533" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3451" class="Bound">address</a> <a id="3541" class="Symbol">.</a><a id="3542" href="libraries.Mainlibrary.html#795" class="Field">amount</a> <a id="3549" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="3551" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3459" class="Bound">amount&#39;</a>
           <a id="3570" href="Data.Bool.Base.html#1505" class="Function Operator">else</a> <a id="3575" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3444" class="Bound">ledger</a> <a id="3582" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3467" class="Bound">addr</a> <a id="3587" class="Symbol">.</a><a id="3588" href="libraries.Mainlibrary.html#795" class="Field">amount</a>
<a id="3595" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3338" class="Function">addWeiToLedger</a> <a id="3610" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3610" class="Bound">ledger</a> <a id="3617" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3617" class="Bound">address</a> <a id="3625" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3625" class="Bound">amount&#39;</a> <a id="3633" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3633" class="Bound">addr</a> <a id="3638" class="Symbol">.</a><a id="3639" href="libraries.Mainlibrary.html#815" class="Field">fun</a>
       <a id="3650" class="Symbol">=</a>   <a id="3654" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3610" class="Bound">ledger</a> <a id="3661" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3633" class="Bound">addr</a> <a id="3666" class="Symbol">.</a><a id="3667" href="libraries.Mainlibrary.html#815" class="Field">fun</a>
<a id="3671" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3338" class="Function">addWeiToLedger</a> <a id="3686" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3686" class="Bound">ledger</a> <a id="3693" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3693" class="Bound">address</a> <a id="3701" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3701" class="Bound">amount&#39;</a> <a id="3709" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3709" class="Bound">addr</a> <a id="3714" class="Symbol">.</a><a id="3715" href="libraries.Mainlibrary.html#869" class="Field">viewFunction</a>
       <a id="3735" class="Symbol">=</a> <a id="3737" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3686" class="Bound">ledger</a> <a id="3744" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3709" class="Bound">addr</a> <a id="3749" class="Symbol">.</a><a id="3750" href="libraries.Mainlibrary.html#869" class="Field">viewFunction</a>
<a id="3763" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3338" class="Function">addWeiToLedger</a> <a id="3778" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3778" class="Bound">ledger</a> <a id="3785" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3785" class="Bound">address</a> <a id="3793" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3793" class="Bound">amount&#39;</a> <a id="3801" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3801" class="Bound">addr</a> <a id="3806" class="Symbol">.</a><a id="3807" href="libraries.Mainlibrary.html#920" class="Field">viewFunctionCost</a> <a id="3824" class="Symbol">=</a> <a id="3826" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3778" class="Bound">ledger</a> <a id="3833" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3801" class="Bound">addr</a> <a id="3838" class="Symbol">.</a><a id="3839" href="libraries.Mainlibrary.html#920" class="Field">viewFunctionCost</a>



<a id="3859" class="Comment">-- execute transfer auxiliary</a>
<a id="executeTransferAux"></a><a id="3889" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3889" class="Function">executeTransferAux</a> <a id="3908" class="Symbol">:</a> <a id="3910" class="Symbol">(</a><a id="3911" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3911" class="Bound">oldLedger</a> <a id="3921" class="Symbol">:</a> <a id="3923" href="libraries.Mainlibrary.html#1000" class="Function">Ledger</a><a id="3929" class="Symbol">)</a>
     <a id="3936" class="Symbol">→</a> <a id="3938" class="Symbol">(</a><a id="3939" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3939" class="Bound">ledger</a> <a id="3946" class="Symbol">:</a> <a id="3948" href="libraries.Mainlibrary.html#1000" class="Function">Ledger</a><a id="3954" class="Symbol">)</a>
     <a id="3961" class="Symbol">→</a> <a id="3963" class="Symbol">(</a><a id="3964" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3964" class="Bound">executionStack</a> <a id="3979" class="Symbol">:</a> <a id="3981" href="libraries.Mainlibrary.html#1368" class="Function">ExecutionStack</a><a id="3995" class="Symbol">)</a>
     <a id="4002" class="Symbol">→</a> <a id="4004" class="Symbol">(</a><a id="4005" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4005" class="Bound">initialAddr</a> <a id="4017" class="Symbol">:</a> <a id="4019" href="basicDataStructure.html#388" class="Function">Address</a><a id="4026" class="Symbol">)</a>
     <a id="4033" class="Symbol">→</a> <a id="4035" class="Symbol">(</a><a id="4036" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4036" class="Bound">lastCallAddr</a> <a id="4049" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4049" class="Bound">calledAddr</a> <a id="4060" class="Symbol">:</a> <a id="4062" href="basicDataStructure.html#388" class="Function">Address</a><a id="4069" class="Symbol">)</a>
     <a id="4076" class="Symbol">→</a> <a id="4078" class="Symbol">(</a><a id="4079" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4079" class="Bound">cont</a> <a id="4084" class="Symbol">:</a> <a id="4086" href="Complex-Model.ccomand.ccommands-cresponse.html#1444" class="Datatype">SmartContract</a> <a id="4100" href="basicDataStructure.html#489" class="Datatype">Msg</a><a id="4103" class="Symbol">)</a> <a id="4105" class="Symbol">→</a> <a id="4107" class="Symbol">(</a><a id="4108" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4108" class="Bound">gasleft</a> <a id="4116" class="Symbol">:</a> <a id="4118" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="4119" class="Symbol">)</a>
     <a id="4126" class="Symbol">→</a> <a id="4128" class="Symbol">(</a><a id="4129" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4129" class="Bound">funNameevalState</a> <a id="4146" class="Symbol">:</a> <a id="4148" href="basicDataStructure.html#172" class="Function">FunctionName</a><a id="4160" class="Symbol">)</a>
     <a id="4167" class="Symbol">→</a> <a id="4169" class="Symbol">(</a><a id="4170" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4170" class="Bound">msgevalState</a> <a id="4183" class="Symbol">:</a> <a id="4185" href="basicDataStructure.html#489" class="Datatype">Msg</a><a id="4188" class="Symbol">)</a>
     <a id="4195" class="Symbol">→</a> <a id="4197" class="Symbol">(</a><a id="4198" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4198" class="Bound">amount&#39;</a> <a id="4206" class="Symbol">:</a> <a id="4208" href="basicDataStructure.html#361" class="Function">Amount</a><a id="4214" class="Symbol">)</a>
     <a id="4221" class="Symbol">→</a> <a id="4223" class="Symbol">(</a><a id="4224" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4224" class="Bound">destinationAddr</a> <a id="4240" class="Symbol">:</a> <a id="4242" href="basicDataStructure.html#388" class="Function">Address</a><a id="4249" class="Symbol">)</a>
     <a id="4256" class="Symbol">→</a> <a id="4258" class="Symbol">(</a><a id="4259" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4259" class="Bound">cp</a>  <a id="4263" class="Symbol">:</a> <a id="4265" href="libraries.natCompare.html#1049" class="Datatype">OrderingLeq</a> <a id="4277" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4198" class="Bound">amount&#39;</a> <a id="4285" class="Symbol">(</a><a id="4286" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3939" class="Bound">ledger</a> <a id="4293" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4049" class="Bound">calledAddr</a> <a id="4304" class="Symbol">.</a><a id="4305" href="libraries.Mainlibrary.html#795" class="Field">amount</a><a id="4311" class="Symbol">))</a>
     <a id="4319" class="Symbol">→</a> <a id="4321" href="libraries.Mainlibrary.html#1468" class="Record">StateExecFun</a>
<a id="4334" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3889" class="Function">executeTransferAux</a> <a id="4353" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4353" class="Bound">oldLedger</a> <a id="4363" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4363" class="Bound">ledger</a> <a id="4370" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4370" class="Bound">executionStack</a> <a id="4385" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4385" class="Bound">initialAddr</a> <a id="4397" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4397" class="Bound">lastCallAddr</a> <a id="4410" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4410" class="Bound">calledAddr</a> <a id="4421" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4421" class="Bound">cont</a> <a id="4426" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4426" class="Bound">gasleft</a>
                   <a id="4453" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4453" class="Bound">funNameevalState</a> <a id="4470" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4470" class="Bound">msgevalState</a> <a id="4483" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4483" class="Bound">amount&#39;</a> <a id="4491" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4491" class="Bound">destinationAddr</a> <a id="4507" class="Symbol">(</a><a id="4508" href="libraries.natCompare.html#1087" class="InductiveConstructor">leq</a> <a id="4512" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4512" class="Bound">x</a><a id="4513" class="Symbol">)</a>
         <a id="4524" class="Symbol">=</a> <a id="4526" href="libraries.Mainlibrary.html#1507" class="InductiveConstructor">stateEF</a> <a id="4534" class="Symbol">(</a><a id="4535" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1568" class="Function">updateLedgerAmount</a> <a id="4554" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4363" class="Bound">ledger</a> <a id="4561" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4410" class="Bound">calledAddr</a> <a id="4572" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4491" class="Bound">destinationAddr</a> <a id="4588" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4483" class="Bound">amount&#39;</a> <a id="4596" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4512" class="Bound">x</a><a id="4597" class="Symbol">)</a>
          <a id="4609" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4370" class="Bound">executionStack</a> <a id="4624" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4385" class="Bound">initialAddr</a> <a id="4636" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4397" class="Bound">lastCallAddr</a> <a id="4649" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4410" class="Bound">calledAddr</a> <a id="4660" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4421" class="Bound">cont</a> <a id="4665" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4426" class="Bound">gasleft</a> <a id="4673" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4453" class="Bound">funNameevalState</a> <a id="4690" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4470" class="Bound">msgevalState</a>
<a id="4703" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3889" class="Function">executeTransferAux</a> <a id="4722" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4722" class="Bound">oldLedger</a> <a id="4732" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4732" class="Bound">ledger</a> <a id="4739" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4739" class="Bound">executionStack</a> <a id="4754" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4754" class="Bound">initialAddr</a> <a id="4766" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4766" class="Bound">lastCallAddr</a> <a id="4779" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4779" class="Bound">calledAddr</a> <a id="4790" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4790" class="Bound">cont</a> <a id="4795" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4795" class="Bound">gasleft</a>
                   <a id="4822" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4822" class="Bound">funNameevalState</a> <a id="4839" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4839" class="Bound">msgevalState</a> <a id="4852" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4852" class="Bound">amount&#39;</a> <a id="4860" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4860" class="Bound">destinationAddr</a> <a id="4876" class="Symbol">(</a><a id="4877" href="libraries.natCompare.html#1125" class="InductiveConstructor">greater</a> <a id="4885" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4885" class="Bound">x</a><a id="4886" class="Symbol">)</a>
          <a id="4898" class="Symbol">=</a> <a id="4900" href="libraries.Mainlibrary.html#1507" class="InductiveConstructor">stateEF</a> <a id="4908" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4722" class="Bound">oldLedger</a> <a id="4918" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4739" class="Bound">executionStack</a> <a id="4933" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4754" class="Bound">initialAddr</a> <a id="4945" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4766" class="Bound">lastCallAddr</a> <a id="4958" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4779" class="Bound">calledAddr</a>
            <a id="4981" class="Symbol">(</a><a id="4982" href="Complex-Model.ccomand.ccommands-cresponse.html#1523" class="InductiveConstructor">error</a>  <a id="4989" class="Symbol">(</a><a id="4990" href="basicDataStructure.html#646" class="InductiveConstructor">strErr</a> <a id="4997" class="String">&quot;not enough money&quot;</a><a id="5015" class="Symbol">)</a>
            <a id="5029" href="basicDataStructure.html#832" class="InductiveConstructor Operator">⟨</a> <a id="5031" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4766" class="Bound">lastCallAddr</a> <a id="5044" href="basicDataStructure.html#832" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="5047" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4754" class="Bound">initialAddr</a> <a id="5059" href="basicDataStructure.html#832" class="InductiveConstructor Operator">∙</a> <a id="5061" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4822" class="Bound">funNameevalState</a> <a id="5078" href="basicDataStructure.html#832" class="InductiveConstructor Operator">[</a> <a id="5080" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4839" class="Bound">msgevalState</a> <a id="5093" href="basicDataStructure.html#832" class="InductiveConstructor Operator">]⟩</a><a id="5095" class="Symbol">)</a>
             <a id="5110" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4795" class="Bound">gasleft</a> <a id="5118" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4822" class="Bound">funNameevalState</a> <a id="5135" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4839" class="Bound">msgevalState</a>

<a id="lemmaExecuteTransferAuxGasEq"></a><a id="5149" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5149" class="Function">lemmaExecuteTransferAuxGasEq</a> <a id="5178" class="Symbol">:</a> <a id="5180" class="Symbol">(</a><a id="5181" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5181" class="Bound">oldLedger</a> <a id="5191" class="Symbol">:</a> <a id="5193" href="libraries.Mainlibrary.html#1000" class="Function">Ledger</a><a id="5199" class="Symbol">)</a>
     <a id="5206" class="Symbol">→</a> <a id="5208" class="Symbol">(</a><a id="5209" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5209" class="Bound">ledger</a> <a id="5216" class="Symbol">:</a> <a id="5218" href="libraries.Mainlibrary.html#1000" class="Function">Ledger</a><a id="5224" class="Symbol">)</a>
     <a id="5231" class="Symbol">→</a> <a id="5233" class="Symbol">(</a><a id="5234" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5234" class="Bound">executionStack</a> <a id="5249" class="Symbol">:</a> <a id="5251" href="libraries.Mainlibrary.html#1368" class="Function">ExecutionStack</a><a id="5265" class="Symbol">)</a>
     <a id="5272" class="Symbol">→</a> <a id="5274" class="Symbol">(</a><a id="5275" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5275" class="Bound">initialAddr</a> <a id="5287" class="Symbol">:</a> <a id="5289" href="basicDataStructure.html#388" class="Function">Address</a><a id="5296" class="Symbol">)</a>
     <a id="5303" class="Symbol">→</a> <a id="5305" class="Symbol">(</a><a id="5306" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5306" class="Bound">lastCallAddr</a> <a id="5319" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5319" class="Bound">calledAddr</a> <a id="5330" class="Symbol">:</a> <a id="5332" href="basicDataStructure.html#388" class="Function">Address</a><a id="5339" class="Symbol">)</a>
     <a id="5346" class="Symbol">→</a> <a id="5348" class="Symbol">(</a><a id="5349" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5349" class="Bound">cont</a> <a id="5354" class="Symbol">:</a> <a id="5356" href="Complex-Model.ccomand.ccommands-cresponse.html#1444" class="Datatype">SmartContract</a> <a id="5370" href="basicDataStructure.html#489" class="Datatype">Msg</a><a id="5373" class="Symbol">)</a> <a id="5375" class="Symbol">→</a> <a id="5377" class="Symbol">(</a><a id="5378" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5378" class="Bound">gasleft1</a> <a id="5387" class="Symbol">:</a> <a id="5389" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="5390" class="Symbol">)</a>
     <a id="5397" class="Symbol">→</a> <a id="5399" class="Symbol">(</a><a id="5400" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5400" class="Bound">funNameevalState</a> <a id="5417" class="Symbol">:</a> <a id="5419" href="basicDataStructure.html#172" class="Function">FunctionName</a><a id="5431" class="Symbol">)</a>
     <a id="5438" class="Symbol">→</a> <a id="5440" class="Symbol">(</a><a id="5441" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5441" class="Bound">msgevalState</a> <a id="5454" class="Symbol">:</a> <a id="5456" href="basicDataStructure.html#489" class="Datatype">Msg</a><a id="5459" class="Symbol">)</a>
     <a id="5466" class="Symbol">→</a> <a id="5468" class="Symbol">(</a><a id="5469" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5469" class="Bound">amount&#39;</a> <a id="5477" class="Symbol">:</a> <a id="5479" href="basicDataStructure.html#361" class="Function">Amount</a><a id="5485" class="Symbol">)</a>
     <a id="5492" class="Symbol">→</a> <a id="5494" class="Symbol">(</a><a id="5495" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5495" class="Bound">destinationAddr</a> <a id="5511" class="Symbol">:</a> <a id="5513" href="basicDataStructure.html#388" class="Function">Address</a><a id="5520" class="Symbol">)</a>
     <a id="5527" class="Symbol">→</a> <a id="5529" class="Symbol">(</a><a id="5530" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5530" class="Bound">cp</a>  <a id="5534" class="Symbol">:</a> <a id="5536" href="libraries.natCompare.html#1049" class="Datatype">OrderingLeq</a> <a id="5548" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5469" class="Bound">amount&#39;</a> <a id="5556" class="Symbol">(</a><a id="5557" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5209" class="Bound">ledger</a> <a id="5564" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5319" class="Bound">calledAddr</a> <a id="5575" class="Symbol">.</a><a id="5576" href="libraries.Mainlibrary.html#795" class="Field">amount</a><a id="5582" class="Symbol">))</a>
     <a id="5590" class="Symbol">→</a> <a id="5592" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5378" class="Bound">gasleft1</a> <a id="5601" href="libraries.natCompare.html#756" class="Function Operator">==r</a> <a id="5605" href="libraries.Mainlibrary.html#1717" class="Field">gasLeft</a>
                    <a id="5633" class="Symbol">(</a><a id="5634" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3889" class="Function">executeTransferAux</a> <a id="5653" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5181" class="Bound">oldLedger</a> <a id="5663" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5209" class="Bound">ledger</a> <a id="5670" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5234" class="Bound">executionStack</a> <a id="5685" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5275" class="Bound">initialAddr</a>
                     <a id="5718" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5306" class="Bound">lastCallAddr</a> <a id="5731" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5319" class="Bound">calledAddr</a> <a id="5742" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5349" class="Bound">cont</a> <a id="5747" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5378" class="Bound">gasleft1</a> <a id="5756" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5400" class="Bound">funNameevalState</a>
                     <a id="5794" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5441" class="Bound">msgevalState</a> <a id="5807" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5469" class="Bound">amount&#39;</a> <a id="5815" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5495" class="Bound">destinationAddr</a> <a id="5831" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5530" class="Bound">cp</a><a id="5833" class="Symbol">)</a>
<a id="5835" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5149" class="Function">lemmaExecuteTransferAuxGasEq</a> <a id="5864" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5864" class="Bound">oldLedger</a> <a id="5874" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5874" class="Bound">ledger</a> <a id="5881" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5881" class="Bound">executionStack</a> <a id="5896" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5896" class="Bound">initialAddr</a> <a id="5908" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5908" class="Bound">lastCallAddr</a> <a id="5921" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5921" class="Bound">calledAddr</a> <a id="5932" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5932" class="Bound">cont</a> <a id="5937" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5937" class="Bound">gasleft1</a> <a id="5946" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5946" class="Bound">funNameevalState</a> <a id="5963" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5963" class="Bound">msgevalState</a> <a id="5976" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5976" class="Bound">amount&#39;</a> <a id="5984" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5984" class="Bound">destinationAddr</a> <a id="6000" class="Symbol">(</a><a id="6001" href="libraries.natCompare.html#1087" class="InductiveConstructor">leq</a> <a id="6005" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6005" class="Bound">x</a><a id="6006" class="Symbol">)</a> <a id="6008" class="Symbol">=</a> <a id="6010" href="libraries.natCompare.html#3733" class="Function">refl==r</a> <a id="6018" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5937" class="Bound">gasleft1</a>
<a id="6027" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5149" class="Function">lemmaExecuteTransferAuxGasEq</a> <a id="6056" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6056" class="Bound">oldLedger</a> <a id="6066" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6066" class="Bound">ledger</a> <a id="6073" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6073" class="Bound">executionStack</a> <a id="6088" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6088" class="Bound">initialAddr</a> <a id="6100" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6100" class="Bound">lastCallAddr</a> <a id="6113" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6113" class="Bound">calledAddr</a> <a id="6124" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6124" class="Bound">cont</a> <a id="6129" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6129" class="Bound">gasleft1</a> <a id="6138" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6138" class="Bound">funNameevalState</a> <a id="6155" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6155" class="Bound">msgevalState</a> <a id="6168" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6168" class="Bound">amount&#39;</a> <a id="6176" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6176" class="Bound">destinationAddr</a> <a id="6192" class="Symbol">(</a><a id="6193" href="libraries.natCompare.html#1125" class="InductiveConstructor">greater</a> <a id="6201" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6201" class="Bound">x</a><a id="6202" class="Symbol">)</a> <a id="6204" class="Symbol">=</a> <a id="6206" href="libraries.natCompare.html#3733" class="Function">refl==r</a> <a id="6214" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6129" class="Bound">gasleft1</a>


<a id="6225" class="Comment">-- execute transfer</a>
<a id="executeTransfer"></a><a id="6245" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6245" class="Function">executeTransfer</a> <a id="6261" class="Symbol">:</a> <a id="6263" class="Symbol">(</a><a id="6264" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6264" class="Bound">oldLedger</a> <a id="6274" class="Symbol">:</a> <a id="6276" href="libraries.Mainlibrary.html#1000" class="Function">Ledger</a><a id="6282" class="Symbol">)</a>
      <a id="6290" class="Symbol">→</a> <a id="6292" class="Symbol">(</a><a id="6293" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6293" class="Bound">ledger</a> <a id="6300" class="Symbol">:</a> <a id="6302" href="libraries.Mainlibrary.html#1000" class="Function">Ledger</a><a id="6308" class="Symbol">)</a>
      <a id="6316" class="Symbol">→</a> <a id="6318" class="Symbol">(</a><a id="6319" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6319" class="Bound">execStack</a> <a id="6329" class="Symbol">:</a> <a id="6331" href="libraries.Mainlibrary.html#1368" class="Function">ExecutionStack</a><a id="6345" class="Symbol">)</a>
      <a id="6353" class="Symbol">→</a> <a id="6355" class="Symbol">(</a><a id="6356" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6356" class="Bound">initialAddr</a> <a id="6368" class="Symbol">:</a> <a id="6370" href="basicDataStructure.html#388" class="Function">Address</a><a id="6377" class="Symbol">)</a>
      <a id="6385" class="Symbol">→</a> <a id="6387" class="Symbol">(</a><a id="6388" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6388" class="Bound">lastCallAddr</a> <a id="6401" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6401" class="Bound">calledAddr</a> <a id="6412" class="Symbol">:</a> <a id="6414" href="basicDataStructure.html#388" class="Function">Address</a><a id="6421" class="Symbol">)</a>
      <a id="6429" class="Symbol">→</a> <a id="6431" class="Symbol">(</a><a id="6432" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6432" class="Bound">cont</a> <a id="6437" class="Symbol">:</a> <a id="6439" href="Complex-Model.ccomand.ccommands-cresponse.html#1444" class="Datatype">SmartContract</a> <a id="6453" href="basicDataStructure.html#489" class="Datatype">Msg</a><a id="6456" class="Symbol">)</a>
      <a id="6464" class="Symbol">→</a> <a id="6466" class="Symbol">(</a><a id="6467" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6467" class="Bound">gasleft</a> <a id="6475" class="Symbol">:</a> <a id="6477" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="6478" class="Symbol">)</a>
      <a id="6486" class="Symbol">→</a> <a id="6488" class="Symbol">(</a><a id="6489" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6489" class="Bound">funNameevalState</a> <a id="6506" class="Symbol">:</a> <a id="6508" href="basicDataStructure.html#172" class="Function">FunctionName</a><a id="6520" class="Symbol">)</a>
      <a id="6528" class="Symbol">→</a> <a id="6530" class="Symbol">(</a><a id="6531" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6531" class="Bound">msgevalState</a> <a id="6544" class="Symbol">:</a> <a id="6546" href="basicDataStructure.html#489" class="Datatype">Msg</a><a id="6549" class="Symbol">)</a>
      <a id="6557" class="Symbol">→</a> <a id="6559" class="Symbol">(</a><a id="6560" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6560" class="Bound">amount&#39;</a> <a id="6568" class="Symbol">:</a> <a id="6570" href="basicDataStructure.html#361" class="Function">Amount</a><a id="6576" class="Symbol">)</a>
      <a id="6584" class="Symbol">→</a> <a id="6586" class="Symbol">(</a><a id="6587" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6587" class="Bound">destinationAddr</a> <a id="6603" class="Symbol">:</a> <a id="6605" href="basicDataStructure.html#388" class="Function">Address</a><a id="6612" class="Symbol">)</a>
      <a id="6620" class="Symbol">→</a> <a id="6622" href="libraries.Mainlibrary.html#1468" class="Record">StateExecFun</a>
<a id="6635" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6245" class="Function">executeTransfer</a> <a id="6651" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6651" class="Bound">oldLedger</a> <a id="6661" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6661" class="Bound">ledger</a> <a id="6668" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6668" class="Bound">execStack</a> <a id="6678" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6678" class="Bound">initialAddr</a> <a id="6690" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6690" class="Bound">lastCallAddr</a> <a id="6703" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6703" class="Bound">calledAddr</a>
                <a id="6730" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6730" class="Bound">cont</a> <a id="6735" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6735" class="Bound">gasleft</a>  <a id="6744" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6744" class="Bound">funNameevalState</a> <a id="6761" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6761" class="Bound">msgevalState</a> <a id="6774" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6774" class="Bound">amount&#39;</a> <a id="6782" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6782" class="Bound">destinationAddr</a>
        <a id="6806" class="Symbol">=</a> <a id="6808" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3889" class="Function">executeTransferAux</a> <a id="6827" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6651" class="Bound">oldLedger</a> <a id="6837" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6661" class="Bound">ledger</a> <a id="6844" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6668" class="Bound">execStack</a> <a id="6854" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6678" class="Bound">initialAddr</a> <a id="6866" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6690" class="Bound">lastCallAddr</a> <a id="6879" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6703" class="Bound">calledAddr</a>
            <a id="6902" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6730" class="Bound">cont</a> <a id="6907" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6735" class="Bound">gasleft</a>  <a id="6916" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6744" class="Bound">funNameevalState</a> <a id="6933" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6761" class="Bound">msgevalState</a> <a id="6946" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6774" class="Bound">amount&#39;</a>
            <a id="6966" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6782" class="Bound">destinationAddr</a> <a id="6982" class="Symbol">(</a><a id="6983" href="libraries.natCompare.html#2249" class="Function">compareLeq</a> <a id="6994" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6774" class="Bound">amount&#39;</a> <a id="7002" class="Symbol">(</a><a id="7003" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6661" class="Bound">ledger</a> <a id="7010" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6703" class="Bound">calledAddr</a> <a id="7021" class="Symbol">.</a><a id="7022" href="libraries.Mainlibrary.html#795" class="Field">amount</a><a id="7028" class="Symbol">))</a>



<a id="7034" class="Comment">--This function just repeat the stepEF without deducting the gasLeft</a>
<a id="stepEF"></a><a id="7103" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7103" class="Function">stepEF</a> <a id="7110" class="Symbol">:</a> <a id="7112" href="libraries.Mainlibrary.html#1000" class="Function">Ledger</a> <a id="7119" class="Symbol">→</a> <a id="7121" href="libraries.Mainlibrary.html#1468" class="Record">StateExecFun</a> <a id="7134" class="Symbol">→</a> <a id="7136" href="libraries.Mainlibrary.html#1468" class="Record">StateExecFun</a>
<a id="7149" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7103" class="Function">stepEF</a> <a id="7156" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7156" class="Bound">oldLedger</a> <a id="7166" class="Symbol">(</a><a id="7167" href="libraries.Mainlibrary.html#1507" class="InductiveConstructor">stateEF</a> <a id="7175" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7175" class="Bound">currentLedger</a> <a id="7189" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7189" class="Bound">executionStack</a> <a id="7204" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7204" class="Bound">initialAddr</a> <a id="7216" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7216" class="Bound">lastCallAddr</a> <a id="7229" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7229" class="Bound">calledAddr</a>
                 <a id="7257" class="Symbol">(</a><a id="7258" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="InductiveConstructor">exec</a> <a id="7263" href="Complex-Model.ccomand.ccommands-cresponse.html#849" class="InductiveConstructor">currentAddrLookupc</a> <a id="7282" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7282" class="Bound">costcomputecont</a> <a id="7298" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7298" class="Bound">cont</a><a id="7302" class="Symbol">)</a> <a id="7304" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7304" class="Bound">gasLeft</a>
                  <a id="7330" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7330" class="Bound">funNameevalState</a> <a id="7347" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7347" class="Bound">msgevalState</a><a id="7359" class="Symbol">)</a>
       <a id="7368" class="Symbol">=</a> <a id="7370" href="libraries.Mainlibrary.html#1507" class="InductiveConstructor">stateEF</a> <a id="7378" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7175" class="Bound">currentLedger</a> <a id="7392" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7189" class="Bound">executionStack</a> <a id="7407" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7204" class="Bound">initialAddr</a> <a id="7419" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7216" class="Bound">lastCallAddr</a> <a id="7432" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7229" class="Bound">calledAddr</a>
          <a id="7453" class="Symbol">(</a><a id="7454" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7298" class="Bound">cont</a> <a id="7459" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7229" class="Bound">calledAddr</a><a id="7469" class="Symbol">)</a> <a id="7471" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7304" class="Bound">gasLeft</a>  <a id="7480" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7330" class="Bound">funNameevalState</a> <a id="7497" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7347" class="Bound">msgevalState</a> 

<a id="7512" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7103" class="Function">stepEF</a> <a id="7519" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7519" class="Bound">oldLedger</a> <a id="7529" class="Symbol">(</a><a id="7530" href="libraries.Mainlibrary.html#1507" class="InductiveConstructor">stateEF</a> <a id="7538" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7538" class="Bound">currentLedger</a> <a id="7552" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7552" class="Bound">executionStack</a> <a id="7567" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7567" class="Bound">initialAddr</a> <a id="7579" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7579" class="Bound">lastCallAddr</a> <a id="7592" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7592" class="Bound">calledAddr</a>
                 <a id="7620" class="Symbol">(</a><a id="7621" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="InductiveConstructor">exec</a> <a id="7626" href="Complex-Model.ccomand.ccommands-cresponse.html#884" class="InductiveConstructor">callAddrLookupc</a> <a id="7642" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7642" class="Bound">costcomputecont</a> <a id="7658" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7658" class="Bound">cont</a><a id="7662" class="Symbol">)</a> <a id="7664" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7664" class="Bound">gasLeft</a>
                  <a id="7690" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7690" class="Bound">funNameevalState</a> <a id="7707" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7707" class="Bound">msgevalState</a><a id="7719" class="Symbol">)</a>
       <a id="7728" class="Symbol">=</a> <a id="7730" href="libraries.Mainlibrary.html#1507" class="InductiveConstructor">stateEF</a> <a id="7738" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7538" class="Bound">currentLedger</a> <a id="7752" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7552" class="Bound">executionStack</a> <a id="7767" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7567" class="Bound">initialAddr</a> <a id="7779" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7579" class="Bound">lastCallAddr</a> <a id="7792" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7592" class="Bound">calledAddr</a> <a id="7803" class="Symbol">(</a><a id="7804" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7658" class="Bound">cont</a> <a id="7809" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7579" class="Bound">lastCallAddr</a><a id="7821" class="Symbol">)</a>
          <a id="7833" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7664" class="Bound">gasLeft</a>  <a id="7842" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7690" class="Bound">funNameevalState</a> <a id="7859" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7707" class="Bound">msgevalState</a>

<a id="7873" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7103" class="Function">stepEF</a> <a id="7880" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7880" class="Bound">oldLedger</a> <a id="7890" class="Symbol">(</a><a id="7891" href="libraries.Mainlibrary.html#1507" class="InductiveConstructor">stateEF</a> <a id="7899" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7899" class="Bound">currentLedger</a> <a id="7913" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7913" class="Bound">executionStack</a> <a id="7928" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7928" class="Bound">initialAddr</a> <a id="7940" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7940" class="Bound">lastCallAddr</a> <a id="7953" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7953" class="Bound">calledAddr</a>
                 <a id="7981" class="Symbol">(</a><a id="7982" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="InductiveConstructor">exec</a> <a id="7987" class="Symbol">(</a><a id="7988" href="Complex-Model.ccomand.ccommands-cresponse.html#540" class="InductiveConstructor">updatec</a> <a id="7996" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7996" class="Bound">changedFname</a> <a id="8009" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8009" class="Bound">changedPFun</a> <a id="8021" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8021" class="Bound">cost</a><a id="8025" class="Symbol">)</a> <a id="8027" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8027" class="Bound">costcomputecont</a> <a id="8043" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8043" class="Bound">cont</a><a id="8047" class="Symbol">)</a>
                 <a id="8066" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8066" class="Bound">gasLeft</a>  <a id="8075" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8075" class="Bound">funNameevalState</a> <a id="8092" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8092" class="Bound">msgevalState</a><a id="8104" class="Symbol">)</a>
       <a id="8113" class="Symbol">=</a> <a id="8115" href="libraries.Mainlibrary.html#1507" class="InductiveConstructor">stateEF</a> <a id="8123" class="Symbol">(</a><a id="8124" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#729" class="Function">updateLedgerviewfun</a> <a id="8144" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7899" class="Bound">currentLedger</a> <a id="8158" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7953" class="Bound">calledAddr</a> <a id="8169" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7996" class="Bound">changedFname</a>  <a id="8183" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8009" class="Bound">changedPFun</a> <a id="8195" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8021" class="Bound">cost</a><a id="8199" class="Symbol">)</a>
          <a id="8211" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7913" class="Bound">executionStack</a> <a id="8226" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7928" class="Bound">initialAddr</a> <a id="8238" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7940" class="Bound">lastCallAddr</a> <a id="8251" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7953" class="Bound">calledAddr</a> <a id="8262" class="Symbol">(</a><a id="8263" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8043" class="Bound">cont</a> <a id="8268" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="8270" class="Symbol">)</a> <a id="8272" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8066" class="Bound">gasLeft</a>
            <a id="8292" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8075" class="Bound">funNameevalState</a> <a id="8309" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8092" class="Bound">msgevalState</a>

<a id="8323" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7103" class="Function">stepEF</a> <a id="8330" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8330" class="Bound">oldLedger</a> <a id="8340" class="Symbol">(</a><a id="8341" href="libraries.Mainlibrary.html#1507" class="InductiveConstructor">stateEF</a> <a id="8349" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8349" class="Bound">currentLedger</a> <a id="8363" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8363" class="Bound">executionStack</a> <a id="8378" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8378" class="Bound">initialAddr</a> <a id="8390" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8390" class="Bound">oldlastCallAddr</a> <a id="8406" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8406" class="Bound">oldcalledAddr</a>
                 <a id="8437" class="Symbol">(</a><a id="8438" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="InductiveConstructor">exec</a> <a id="8443" class="Symbol">(</a><a id="8444" href="Complex-Model.ccomand.ccommands-cresponse.html#791" class="InductiveConstructor">callc</a> <a id="8450" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8450" class="Bound">newaddr</a> <a id="8458" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8458" class="Bound">fname</a> <a id="8464" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8464" class="Bound">msg</a><a id="8467" class="Symbol">)</a> <a id="8469" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8469" class="Bound">costcomputecont</a> <a id="8485" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8485" class="Bound">cont</a><a id="8489" class="Symbol">)</a>
                 <a id="8508" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8508" class="Bound">gasLeft</a>  <a id="8517" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8517" class="Bound">funNameevalState</a> <a id="8534" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8534" class="Bound">msgevalState</a><a id="8546" class="Symbol">)</a>
       <a id="8555" class="Symbol">=</a> <a id="8557" href="libraries.Mainlibrary.html#1507" class="InductiveConstructor">stateEF</a> <a id="8565" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8349" class="Bound">currentLedger</a>
           <a id="8590" class="Symbol">(</a><a id="8591" href="libraries.Mainlibrary.html#1121" class="InductiveConstructor">execStackEl</a> <a id="8603" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8390" class="Bound">oldlastCallAddr</a> <a id="8619" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8406" class="Bound">oldcalledAddr</a> <a id="8633" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8485" class="Bound">cont</a> <a id="8638" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8469" class="Bound">costcomputecont</a> <a id="8654" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8517" class="Bound">funNameevalState</a> <a id="8671" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8534" class="Bound">msgevalState</a> <a id="8684" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8686" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8363" class="Bound">executionStack</a><a id="8700" class="Symbol">)</a>
           <a id="8713" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8378" class="Bound">initialAddr</a> <a id="8725" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8406" class="Bound">oldcalledAddr</a> <a id="8739" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8450" class="Bound">newaddr</a> <a id="8747" class="Symbol">(</a><a id="8748" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8349" class="Bound">currentLedger</a> <a id="8762" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8450" class="Bound">newaddr</a> <a id="8770" class="Symbol">.</a><a id="8771" href="libraries.Mainlibrary.html#815" class="Field">fun</a> <a id="8775" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8458" class="Bound">fname</a> <a id="8781" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8464" class="Bound">msg</a><a id="8784" class="Symbol">)</a>
           <a id="8797" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8508" class="Bound">gasLeft</a>  <a id="8806" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8458" class="Bound">fname</a> <a id="8812" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8464" class="Bound">msg</a>

<a id="8817" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7103" class="Function">stepEF</a> <a id="8824" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8824" class="Bound">oldLedger</a> <a id="8834" class="Symbol">(</a><a id="8835" href="libraries.Mainlibrary.html#1507" class="InductiveConstructor">stateEF</a> <a id="8843" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8843" class="Bound">currentLedger</a> <a id="8857" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8857" class="Bound">executionStack</a> <a id="8872" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8872" class="Bound">initialAddr</a> <a id="8884" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8884" class="Bound">lastCallAddr</a> <a id="8897" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8897" class="Bound">calledAddr</a>
                 <a id="8925" class="Symbol">(</a><a id="8926" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="InductiveConstructor">exec</a> <a id="8931" class="Symbol">(</a><a id="8932" href="Complex-Model.ccomand.ccommands-cresponse.html#745" class="InductiveConstructor">transferc</a> <a id="8942" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8942" class="Bound">amount</a> <a id="8949" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8949" class="Bound">destinationAddr</a><a id="8964" class="Symbol">)</a> <a id="8966" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8966" class="Bound">costcomputecont</a> <a id="8982" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8982" class="Bound">cont</a><a id="8986" class="Symbol">)</a>
                  <a id="9006" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9006" class="Bound">gasLeft</a>  <a id="9015" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9015" class="Bound">funNameevalState</a> <a id="9032" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9032" class="Bound">msgevalState</a><a id="9044" class="Symbol">)</a>
       <a id="9053" class="Symbol">=</a> <a id="9055" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6245" class="Function">executeTransfer</a> <a id="9071" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8824" class="Bound">oldLedger</a> <a id="9081" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8843" class="Bound">currentLedger</a> <a id="9095" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8857" class="Bound">executionStack</a> <a id="9110" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8872" class="Bound">initialAddr</a> <a id="9122" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8884" class="Bound">lastCallAddr</a> <a id="9135" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8897" class="Bound">calledAddr</a>
       <a id="9153" class="Symbol">(</a><a id="9154" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8982" class="Bound">cont</a> <a id="9159" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="9161" class="Symbol">)</a> <a id="9163" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9006" class="Bound">gasLeft</a>  <a id="9172" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9015" class="Bound">funNameevalState</a> <a id="9189" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9032" class="Bound">msgevalState</a>
           <a id="9213" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8942" class="Bound">amount</a> <a id="9220" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8949" class="Bound">destinationAddr</a>

<a id="9237" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7103" class="Function">stepEF</a> <a id="9244" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9244" class="Bound">oldLedger</a> <a id="9254" class="Symbol">(</a><a id="9255" href="libraries.Mainlibrary.html#1507" class="InductiveConstructor">stateEF</a> <a id="9263" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9263" class="Bound">currentLedger</a> <a id="9277" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9277" class="Bound">executionStack</a> <a id="9292" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9292" class="Bound">initialAddr</a> <a id="9304" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9304" class="Bound">lastCallAddr</a> <a id="9317" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9317" class="Bound">calledAddr</a>
                 <a id="9345" class="Symbol">(</a><a id="9346" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="InductiveConstructor">exec</a> <a id="9351" class="Symbol">(</a><a id="9352" href="Complex-Model.ccomand.ccommands-cresponse.html#916" class="InductiveConstructor">getAmountc</a> <a id="9363" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9363" class="Bound">addrLookedUp</a><a id="9375" class="Symbol">)</a> <a id="9377" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9377" class="Bound">costcomputecont</a> <a id="9393" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9393" class="Bound">cont</a><a id="9397" class="Symbol">)</a> <a id="9399" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9399" class="Bound">gasLeft</a>
                   <a id="9426" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9426" class="Bound">funNameevalState</a> <a id="9443" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9443" class="Bound">msgevalState</a><a id="9455" class="Symbol">)</a>
                
       <a id="9481" class="Symbol">=</a> <a id="9483" href="libraries.Mainlibrary.html#1507" class="InductiveConstructor">stateEF</a> <a id="9491" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9263" class="Bound">currentLedger</a> <a id="9505" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9277" class="Bound">executionStack</a> <a id="9520" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9292" class="Bound">initialAddr</a> <a id="9532" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9304" class="Bound">lastCallAddr</a> <a id="9545" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9317" class="Bound">calledAddr</a>
           <a id="9567" class="Symbol">(</a><a id="9568" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9393" class="Bound">cont</a> <a id="9573" class="Symbol">(</a><a id="9574" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9263" class="Bound">currentLedger</a> <a id="9588" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9363" class="Bound">addrLookedUp</a> <a id="9601" class="Symbol">.</a><a id="9602" href="libraries.Mainlibrary.html#795" class="Field">amount</a><a id="9608" class="Symbol">))</a> <a id="9611" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9399" class="Bound">gasLeft</a>
              <a id="9633" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9426" class="Bound">funNameevalState</a> <a id="9650" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9443" class="Bound">msgevalState</a>


<a id="9665" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7103" class="Function">stepEF</a> <a id="9672" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9672" class="Bound">oldLedger</a> <a id="9682" class="Symbol">(</a><a id="9683" href="libraries.Mainlibrary.html#1507" class="InductiveConstructor">stateEF</a> <a id="9691" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9691" class="Bound">ledger</a> <a id="9698" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9698" class="Bound">executionStack</a> <a id="9713" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9713" class="Bound">initialAddr</a> <a id="9725" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9725" class="Bound">lastCallAddr</a> <a id="9738" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9738" class="Bound">calledAddr</a>
                   <a id="9768" class="Symbol">(</a><a id="9769" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="InductiveConstructor">exec</a> <a id="9774" class="Symbol">(</a><a id="9775" href="Complex-Model.ccomand.ccommands-cresponse.html#701" class="InductiveConstructor">raiseException</a> <a id="9790" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9790" class="Bound">cost</a> <a id="9795" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9795" class="Bound">str</a><a id="9798" class="Symbol">)</a> <a id="9800" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9800" class="Bound">costcomputecont</a> <a id="9816" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9816" class="Bound">cont</a><a id="9820" class="Symbol">)</a>
                   <a id="9841" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9841" class="Bound">gasLeft</a> <a id="9849" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9849" class="Bound">funNameevalState</a> <a id="9866" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9866" class="Bound">msgevalState</a><a id="9878" class="Symbol">)</a>
                   <a id="9899" class="Symbol">=</a> <a id="9901" href="libraries.Mainlibrary.html#1507" class="InductiveConstructor">stateEF</a> <a id="9909" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9672" class="Bound">oldLedger</a> <a id="9919" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9698" class="Bound">executionStack</a> <a id="9934" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9713" class="Bound">initialAddr</a> <a id="9946" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9725" class="Bound">lastCallAddr</a> <a id="9959" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9738" class="Bound">calledAddr</a>
                     <a id="9991" class="Symbol">(</a><a id="9992" href="Complex-Model.ccomand.ccommands-cresponse.html#1523" class="InductiveConstructor">error</a>  <a id="9999" class="Symbol">(</a><a id="10000" href="basicDataStructure.html#646" class="InductiveConstructor">strErr</a> <a id="10007" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9795" class="Bound">str</a><a id="10010" class="Symbol">)</a>
                     <a id="10033" href="basicDataStructure.html#832" class="InductiveConstructor Operator">⟨</a> <a id="10035" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9725" class="Bound">lastCallAddr</a> <a id="10048" href="basicDataStructure.html#832" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="10051" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9713" class="Bound">initialAddr</a> <a id="10063" href="basicDataStructure.html#832" class="InductiveConstructor Operator">∙</a> <a id="10065" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9849" class="Bound">funNameevalState</a> <a id="10082" href="basicDataStructure.html#832" class="InductiveConstructor Operator">[</a> <a id="10084" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9866" class="Bound">msgevalState</a> <a id="10097" href="basicDataStructure.html#832" class="InductiveConstructor Operator">]⟩</a><a id="10099" class="Symbol">)</a>
                     <a id="10122" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9841" class="Bound">gasLeft</a> <a id="10130" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9849" class="Bound">funNameevalState</a> <a id="10147" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9866" class="Bound">msgevalState</a>

<a id="10161" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7103" class="Function">stepEF</a> <a id="10168" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10168" class="Bound">oldLedger</a> <a id="10178" class="Symbol">(</a><a id="10179" href="libraries.Mainlibrary.html#1507" class="InductiveConstructor">stateEF</a> <a id="10187" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10187" class="Bound">currentLedger</a> <a id="10201" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10201" class="Bound">executionStack</a> <a id="10216" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10216" class="Bound">initialAddr</a> <a id="10228" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10228" class="Bound">lastCallAddr</a> <a id="10241" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10241" class="Bound">calledAddr</a>
                 <a id="10269" class="Symbol">(</a><a id="10270" href="Complex-Model.ccomand.ccommands-cresponse.html#1523" class="InductiveConstructor">error</a> <a id="10276" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10276" class="Bound">errorMsg</a> <a id="10285" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10285" class="Bound">debugInfo</a><a id="10294" class="Symbol">)</a> <a id="10296" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10296" class="Bound">gasLeft</a>  <a id="10305" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10305" class="Bound">funNameevalState</a> <a id="10322" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10322" class="Bound">msgevalState</a><a id="10334" class="Symbol">)</a>
       <a id="10343" class="Symbol">=</a> <a id="10345" href="libraries.Mainlibrary.html#1507" class="InductiveConstructor">stateEF</a> <a id="10353" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10168" class="Bound">oldLedger</a> <a id="10363" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10201" class="Bound">executionStack</a> <a id="10378" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10216" class="Bound">initialAddr</a> <a id="10390" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10228" class="Bound">lastCallAddr</a> <a id="10403" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10241" class="Bound">calledAddr</a>
         <a id="10423" class="Symbol">(</a><a id="10424" href="Complex-Model.ccomand.ccommands-cresponse.html#1523" class="InductiveConstructor">error</a> <a id="10430" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10276" class="Bound">errorMsg</a> <a id="10439" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10285" class="Bound">debugInfo</a><a id="10448" class="Symbol">)</a>  <a id="10451" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10296" class="Bound">gasLeft</a>  <a id="10460" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10305" class="Bound">funNameevalState</a> <a id="10477" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10322" class="Bound">msgevalState</a>


<a id="10492" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7103" class="Function">stepEF</a> <a id="10499" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10499" class="Bound">oldLedger</a> <a id="10509" class="Symbol">(</a><a id="10510" href="libraries.Mainlibrary.html#1507" class="InductiveConstructor">stateEF</a> <a id="10518" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10518" class="Bound">currentLedger</a> <a id="10532" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10532" class="Bound">executionStack</a> <a id="10547" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10547" class="Bound">initialAddr</a> <a id="10559" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10559" class="Bound">lastCallAddr</a> <a id="10572" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10572" class="Bound">calledAddr</a>
                 <a id="10600" class="Symbol">(</a><a id="10601" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="InductiveConstructor">exec</a> <a id="10606" class="Symbol">(</a><a id="10607" href="Complex-Model.ccomand.ccommands-cresponse.html#482" class="InductiveConstructor">callView</a> <a id="10616" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10616" class="Bound">addr</a> <a id="10621" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10621" class="Bound">fname</a> <a id="10627" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10627" class="Bound">msg</a><a id="10630" class="Symbol">)</a> <a id="10632" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10632" class="Bound">costcomputecont</a> <a id="10648" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10648" class="Bound">cont</a><a id="10652" class="Symbol">)</a> <a id="10654" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10654" class="Bound">gasLeft</a>
                  <a id="10680" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10680" class="Bound">funNameevalState</a> <a id="10697" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10697" class="Bound">msgevalState</a><a id="10709" class="Symbol">)</a>
                  <a id="10729" class="Symbol">=</a> <a id="10731" href="libraries.Mainlibrary.html#1507" class="InductiveConstructor">stateEF</a> <a id="10739" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10518" class="Bound">currentLedger</a> <a id="10753" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10532" class="Bound">executionStack</a> <a id="10768" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10547" class="Bound">initialAddr</a> <a id="10780" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10559" class="Bound">lastCallAddr</a> <a id="10793" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10572" class="Bound">calledAddr</a>
                    <a id="10824" class="Symbol">(</a><a id="10825" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10648" class="Bound">cont</a> <a id="10830" class="Symbol">(</a><a id="10831" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10518" class="Bound">currentLedger</a> <a id="10845" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10616" class="Bound">addr</a> <a id="10850" class="Symbol">.</a><a id="10851" href="libraries.Mainlibrary.html#869" class="Field">viewFunction</a> <a id="10864" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10621" class="Bound">fname</a> <a id="10870" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10627" class="Bound">msg</a><a id="10873" class="Symbol">))</a>
                    <a id="10896" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10654" class="Bound">gasLeft</a> <a id="10904" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10621" class="Bound">fname</a> <a id="10910" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10627" class="Bound">msg</a>

<a id="10915" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7103" class="Function">stepEF</a> <a id="10922" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10922" class="Bound">oldLedger</a> <a id="10932" class="Symbol">(</a><a id="10933" href="libraries.Mainlibrary.html#1507" class="InductiveConstructor">stateEF</a> <a id="10941" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10941" class="Bound">currentLedger</a> <a id="10955" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="10958" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10958" class="Bound">initialAddr</a> <a id="10970" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10970" class="Bound">lastCallAddr</a> <a id="10983" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10983" class="Bound">calledAddr</a>
                 <a id="11011" class="Symbol">(</a><a id="11012" href="Complex-Model.ccomand.ccommands-cresponse.html#1484" class="InductiveConstructor">return</a> <a id="11019" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11019" class="Bound">cost</a> <a id="11024" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11024" class="Bound">result</a><a id="11030" class="Symbol">)</a> <a id="11032" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11032" class="Bound">gasLeft</a>  <a id="11041" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11041" class="Bound">funNameevalState</a> <a id="11058" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11058" class="Bound">msgevalState</a><a id="11070" class="Symbol">)</a>
       <a id="11079" class="Symbol">=</a> <a id="11081" href="libraries.Mainlibrary.html#1507" class="InductiveConstructor">stateEF</a> <a id="11089" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10941" class="Bound">currentLedger</a> <a id="11103" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="11106" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10958" class="Bound">initialAddr</a> <a id="11118" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10970" class="Bound">lastCallAddr</a> <a id="11131" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10983" class="Bound">calledAddr</a>
         <a id="11151" class="Symbol">(</a><a id="11152" href="Complex-Model.ccomand.ccommands-cresponse.html#1484" class="InductiveConstructor">return</a> <a id="11159" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11019" class="Bound">cost</a> <a id="11164" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11024" class="Bound">result</a><a id="11170" class="Symbol">)</a> <a id="11172" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11032" class="Bound">gasLeft</a>  <a id="11181" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11041" class="Bound">funNameevalState</a> <a id="11198" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11058" class="Bound">msgevalState</a> 

<a id="11213" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7103" class="Function">stepEF</a> <a id="11220" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11220" class="Bound">oldLedger</a> <a id="11230" class="Symbol">(</a><a id="11231" href="libraries.Mainlibrary.html#1507" class="InductiveConstructor">stateEF</a> <a id="11239" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11239" class="Bound">currentLedger</a> <a id="11253" class="Symbol">(</a><a id="11254" href="libraries.Mainlibrary.html#1121" class="InductiveConstructor">execStackEl</a> <a id="11266" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11266" class="Bound">prevLastCallAddress</a> <a id="11286" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11286" class="Bound">prevCalledAddress</a> <a id="11304" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11304" class="Bound">prevContinuation</a>
                 <a id="11338" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11338" class="Bound">prevCostCont</a> <a id="11351" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11351" class="Bound">prevFunName</a> <a id="11363" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11363" class="Bound">prevMsgExec</a> <a id="11375" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="11377" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11377" class="Bound">executionStack</a><a id="11391" class="Symbol">)</a>
                  <a id="11411" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11411" class="Bound">initialAddr</a> <a id="11423" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11423" class="Bound">lastCallAddr</a> <a id="11436" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11436" class="Bound">calledAddr</a> <a id="11447" class="Symbol">(</a><a id="11448" href="Complex-Model.ccomand.ccommands-cresponse.html#1484" class="InductiveConstructor">return</a> <a id="11455" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11455" class="Bound">cost</a> <a id="11460" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11460" class="Bound">result</a><a id="11466" class="Symbol">)</a> <a id="11468" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11468" class="Bound">gasLeft</a> <a id="11476" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11476" class="Bound">funNameevalState</a> <a id="11493" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11493" class="Bound">msgevalState</a><a id="11505" class="Symbol">)</a>
            <a id="11519" class="Symbol">=</a> <a id="11521" href="libraries.Mainlibrary.html#1507" class="InductiveConstructor">stateEF</a> <a id="11529" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11239" class="Bound">currentLedger</a> <a id="11543" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11377" class="Bound">executionStack</a> <a id="11558" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11411" class="Bound">initialAddr</a> <a id="11570" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11266" class="Bound">prevLastCallAddress</a> <a id="11590" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11286" class="Bound">prevCalledAddress</a>
                        <a id="11632" class="Symbol">(</a><a id="11633" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11304" class="Bound">prevContinuation</a> <a id="11650" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11460" class="Bound">result</a><a id="11656" class="Symbol">)</a> <a id="11658" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11468" class="Bound">gasLeft</a> <a id="11666" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11351" class="Bound">prevFunName</a> <a id="11678" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11363" class="Bound">prevMsgExec</a>



<a id="lemmaStepEFpreserveGas"></a><a id="11693" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11693" class="Function">lemmaStepEFpreserveGas</a> <a id="11716" class="Symbol">:</a> <a id="11718" class="Symbol">(</a><a id="11719" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11719" class="Bound">oldLedger</a> <a id="11729" class="Symbol">:</a> <a id="11731" href="libraries.Mainlibrary.html#1000" class="Function">Ledger</a><a id="11737" class="Symbol">)</a> <a id="11739" class="Symbol">→</a> <a id="11741" class="Symbol">(</a><a id="11742" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11742" class="Bound">state</a> <a id="11748" class="Symbol">:</a> <a id="11750" href="libraries.Mainlibrary.html#1468" class="Record">StateExecFun</a><a id="11762" class="Symbol">)</a> <a id="11764" class="Symbol">→</a>
                         <a id="11791" href="libraries.Mainlibrary.html#1717" class="Field">gasLeft</a> <a id="11799" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11742" class="Bound">state</a> <a id="11805" href="libraries.natCompare.html#756" class="Function Operator">==r</a> <a id="11809" href="libraries.Mainlibrary.html#1717" class="Field">gasLeft</a> <a id="11817" class="Symbol">(</a><a id="11818" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7103" class="Function">stepEF</a> <a id="11825" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11719" class="Bound">oldLedger</a> <a id="11835" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11742" class="Bound">state</a><a id="11840" class="Symbol">)</a>
<a id="11842" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11693" class="Function">lemmaStepEFpreserveGas</a> <a id="11865" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11865" class="Bound">oldLedger</a> <a id="11875" class="Symbol">(</a><a id="11876" href="libraries.Mainlibrary.html#1507" class="InductiveConstructor">stateEF</a> <a id="11884" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11884" class="Bound">ledger</a> <a id="11891" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="11894" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11894" class="Bound">initialAddr</a> <a id="11906" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11906" class="Bound">lastCallAddr</a> <a id="11919" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11919" class="Bound">calledAddr</a> <a id="11930" class="Symbol">(</a><a id="11931" href="Complex-Model.ccomand.ccommands-cresponse.html#1484" class="InductiveConstructor">return</a> <a id="11938" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11938" class="Bound">x</a> <a id="11940" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11940" class="Bound">x₁</a><a id="11942" class="Symbol">)</a> <a id="11944" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11944" class="Bound">gasLeft1</a> <a id="11953" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11953" class="Bound">funNameevalState</a> <a id="11970" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11970" class="Bound">msgevalState</a><a id="11982" class="Symbol">)</a> <a id="11984" class="Symbol">=</a> <a id="11986" href="libraries.natCompare.html#3733" class="Function">refl==r</a> <a id="11994" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11944" class="Bound">gasLeft1</a>
<a id="12003" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11693" class="Function">lemmaStepEFpreserveGas</a> <a id="12026" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12026" class="Bound">oldLedger</a> <a id="12036" class="Symbol">(</a><a id="12037" href="libraries.Mainlibrary.html#1507" class="InductiveConstructor">stateEF</a> <a id="12045" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12045" class="Bound">ledger</a> <a id="12052" class="Symbol">(</a><a id="12053" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12053" class="Bound">x₂</a> <a id="12056" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="12058" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12058" class="Bound">executionStack₁</a><a id="12073" class="Symbol">)</a> <a id="12075" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12075" class="Bound">initialAddr</a> <a id="12087" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12087" class="Bound">lastCallAddr</a> <a id="12100" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12100" class="Bound">calledAddr</a> <a id="12111" class="Symbol">(</a><a id="12112" href="Complex-Model.ccomand.ccommands-cresponse.html#1484" class="InductiveConstructor">return</a> <a id="12119" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12119" class="Bound">x</a> <a id="12121" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12121" class="Bound">x₁</a><a id="12123" class="Symbol">)</a> <a id="12125" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12125" class="Bound">gasLeft1</a> <a id="12134" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12134" class="Bound">funNameevalState</a> <a id="12151" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12151" class="Bound">msgevalState</a><a id="12163" class="Symbol">)</a> <a id="12165" class="Symbol">=</a> <a id="12167" href="libraries.natCompare.html#3733" class="Function">refl==r</a> <a id="12175" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12125" class="Bound">gasLeft1</a>
<a id="12184" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11693" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="12206" class="CatchallClause"> </a><a id="12207" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12207" class="CatchallClause Bound">oldLedger</a><a id="12216" class="CatchallClause"> </a><a id="12217" class="CatchallClause Symbol">(</a><a id="12218" href="libraries.Mainlibrary.html#1507" class="CatchallClause InductiveConstructor">stateEF</a><a id="12225" class="CatchallClause"> </a><a id="12226" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12226" class="CatchallClause Bound">ledger</a><a id="12232" class="CatchallClause"> </a><a id="12233" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12233" class="CatchallClause Bound">executionStack</a><a id="12247" class="CatchallClause"> </a><a id="12248" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12248" class="CatchallClause Bound">initialAddr</a><a id="12259" class="CatchallClause"> </a><a id="12260" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12260" class="CatchallClause Bound">lastCallAddr</a><a id="12272" class="CatchallClause"> </a><a id="12273" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12273" class="CatchallClause Bound">calledAddr</a><a id="12283" class="CatchallClause"> </a><a id="12284" class="CatchallClause Symbol">(</a><a id="12285" href="Complex-Model.ccomand.ccommands-cresponse.html#1523" class="CatchallClause InductiveConstructor">error</a><a id="12290" class="CatchallClause"> </a><a id="12291" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12291" class="CatchallClause Bound">x</a><a id="12292" class="CatchallClause"> </a><a id="12293" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12293" class="CatchallClause Bound">x₁</a><a id="12295" class="CatchallClause Symbol">)</a><a id="12296" class="CatchallClause"> </a><a id="12297" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12297" class="CatchallClause Bound">gasLeft1</a><a id="12305" class="CatchallClause"> </a><a id="12306" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12306" class="CatchallClause Bound">funNameevalState</a><a id="12322" class="CatchallClause"> </a><a id="12323" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12323" class="CatchallClause Bound">msgevalState</a><a id="12335" class="CatchallClause Symbol">)</a> <a id="12337" class="Symbol">=</a> <a id="12339" href="libraries.natCompare.html#3733" class="Function">refl==r</a> <a id="12347" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12297" class="Bound">gasLeft1</a>
<a id="12356" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11693" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="12378" class="CatchallClause"> </a><a id="12379" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12379" class="CatchallClause Bound">oldLedger</a><a id="12388" class="CatchallClause"> </a><a id="12389" class="CatchallClause Symbol">(</a><a id="12390" href="libraries.Mainlibrary.html#1507" class="CatchallClause InductiveConstructor">stateEF</a><a id="12397" class="CatchallClause"> </a><a id="12398" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12398" class="CatchallClause Bound">ledger</a><a id="12404" class="CatchallClause"> </a><a id="12405" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12405" class="CatchallClause Bound">executionStack</a><a id="12419" class="CatchallClause"> </a><a id="12420" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12420" class="CatchallClause Bound">initialAddr</a><a id="12431" class="CatchallClause"> </a><a id="12432" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12432" class="CatchallClause Bound">lastCallAddr</a><a id="12444" class="CatchallClause"> </a><a id="12445" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12445" class="CatchallClause Bound">calledAddr</a><a id="12455" class="CatchallClause"> </a><a id="12456" class="CatchallClause Symbol">(</a><a id="12457" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="12461" class="CatchallClause"> </a><a id="12462" class="CatchallClause Symbol">(</a><a id="12463" href="Complex-Model.ccomand.ccommands-cresponse.html#482" class="CatchallClause InductiveConstructor">callView</a><a id="12471" class="CatchallClause"> </a><a id="12472" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12472" class="CatchallClause Bound">x₂</a><a id="12474" class="CatchallClause"> </a><a id="12475" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12475" class="CatchallClause Bound">x₃</a><a id="12477" class="CatchallClause"> </a><a id="12478" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12478" class="CatchallClause Bound">x₄</a><a id="12480" class="CatchallClause Symbol">)</a><a id="12481" class="CatchallClause"> </a><a id="12482" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12482" class="CatchallClause Bound">x</a><a id="12483" class="CatchallClause"> </a><a id="12484" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12484" class="CatchallClause Bound">x₁</a><a id="12486" class="CatchallClause Symbol">)</a><a id="12487" class="CatchallClause"> </a><a id="12488" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12488" class="CatchallClause Bound">gasLeft1</a><a id="12496" class="CatchallClause"> </a><a id="12497" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12497" class="CatchallClause Bound">funNameevalState</a><a id="12513" class="CatchallClause"> </a><a id="12514" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12514" class="CatchallClause Bound">msgevalState</a><a id="12526" class="CatchallClause Symbol">)</a> <a id="12528" class="Symbol">=</a> <a id="12530" href="libraries.natCompare.html#3733" class="Function">refl==r</a> <a id="12538" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12488" class="Bound">gasLeft1</a>
<a id="12547" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11693" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="12569" class="CatchallClause"> </a><a id="12570" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12570" class="CatchallClause Bound">oldLedger</a><a id="12579" class="CatchallClause"> </a><a id="12580" class="CatchallClause Symbol">(</a><a id="12581" href="libraries.Mainlibrary.html#1507" class="CatchallClause InductiveConstructor">stateEF</a><a id="12588" class="CatchallClause"> </a><a id="12589" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12589" class="CatchallClause Bound">ledger</a><a id="12595" class="CatchallClause"> </a><a id="12596" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12596" class="CatchallClause Bound">executionStack</a><a id="12610" class="CatchallClause"> </a><a id="12611" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12611" class="CatchallClause Bound">initialAddr</a><a id="12622" class="CatchallClause"> </a><a id="12623" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12623" class="CatchallClause Bound">lastCallAddr</a><a id="12635" class="CatchallClause"> </a><a id="12636" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12636" class="CatchallClause Bound">calledAddr</a><a id="12646" class="CatchallClause"> </a><a id="12647" class="CatchallClause Symbol">(</a><a id="12648" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="12652" class="CatchallClause"> </a><a id="12653" class="CatchallClause Symbol">(</a><a id="12654" href="Complex-Model.ccomand.ccommands-cresponse.html#540" class="CatchallClause InductiveConstructor">updatec</a><a id="12661" class="CatchallClause"> </a><a id="12662" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12662" class="CatchallClause Bound">x₂</a><a id="12664" class="CatchallClause"> </a><a id="12665" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12665" class="CatchallClause Bound">x₃</a><a id="12667" class="CatchallClause"> </a><a id="12668" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12668" class="CatchallClause Bound">x₄</a><a id="12670" class="CatchallClause Symbol">)</a><a id="12671" class="CatchallClause"> </a><a id="12672" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12672" class="CatchallClause Bound">x</a><a id="12673" class="CatchallClause"> </a><a id="12674" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12674" class="CatchallClause Bound">x₁</a><a id="12676" class="CatchallClause Symbol">)</a><a id="12677" class="CatchallClause"> </a><a id="12678" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12678" class="CatchallClause Bound">gasLeft1</a><a id="12686" class="CatchallClause"> </a><a id="12687" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12687" class="CatchallClause Bound">funNameevalState</a><a id="12703" class="CatchallClause"> </a><a id="12704" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12704" class="CatchallClause Bound">msgevalState</a><a id="12716" class="CatchallClause Symbol">)</a> <a id="12718" class="Symbol">=</a> <a id="12720" href="libraries.natCompare.html#3733" class="Function">refl==r</a> <a id="12728" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12678" class="Bound">gasLeft1</a>
<a id="12737" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11693" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="12759" class="CatchallClause"> </a><a id="12760" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12760" class="CatchallClause Bound">oldLedger</a><a id="12769" class="CatchallClause"> </a><a id="12770" class="CatchallClause Symbol">(</a><a id="12771" href="libraries.Mainlibrary.html#1507" class="CatchallClause InductiveConstructor">stateEF</a><a id="12778" class="CatchallClause"> </a><a id="12779" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12779" class="CatchallClause Bound">ledger</a><a id="12785" class="CatchallClause"> </a><a id="12786" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12786" class="CatchallClause Bound">executionStack</a><a id="12800" class="CatchallClause"> </a><a id="12801" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12801" class="CatchallClause Bound">initialAddr</a><a id="12812" class="CatchallClause"> </a><a id="12813" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12813" class="CatchallClause Bound">lastCallAddr</a><a id="12825" class="CatchallClause"> </a><a id="12826" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12826" class="CatchallClause Bound">calledAddr</a><a id="12836" class="CatchallClause"> </a><a id="12837" class="CatchallClause Symbol">(</a><a id="12838" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="12842" class="CatchallClause"> </a><a id="12843" class="CatchallClause Symbol">(</a><a id="12844" href="Complex-Model.ccomand.ccommands-cresponse.html#701" class="CatchallClause InductiveConstructor">raiseException</a><a id="12858" class="CatchallClause"> </a><a id="12859" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12859" class="CatchallClause Bound">x₂</a><a id="12861" class="CatchallClause"> </a><a id="12862" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12862" class="CatchallClause Bound">x₃</a><a id="12864" class="CatchallClause Symbol">)</a><a id="12865" class="CatchallClause"> </a><a id="12866" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12866" class="CatchallClause Bound">x</a><a id="12867" class="CatchallClause"> </a><a id="12868" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12868" class="CatchallClause Bound">x₁</a><a id="12870" class="CatchallClause Symbol">)</a><a id="12871" class="CatchallClause"> </a><a id="12872" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12872" class="CatchallClause Bound">gasLeft1</a><a id="12880" class="CatchallClause"> </a><a id="12881" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12881" class="CatchallClause Bound">funNameevalState</a><a id="12897" class="CatchallClause"> </a><a id="12898" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12898" class="CatchallClause Bound">msgevalState</a><a id="12910" class="CatchallClause Symbol">)</a> <a id="12912" class="Symbol">=</a> <a id="12914" href="libraries.natCompare.html#3733" class="Function">refl==r</a> <a id="12922" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12872" class="Bound">gasLeft1</a>
<a id="12931" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11693" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="12953" class="CatchallClause"> </a><a id="12954" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12954" class="CatchallClause Bound">oldLedger</a><a id="12963" class="CatchallClause"> </a><a id="12964" class="CatchallClause Symbol">(</a><a id="12965" href="libraries.Mainlibrary.html#1507" class="CatchallClause InductiveConstructor">stateEF</a><a id="12972" class="CatchallClause"> </a><a id="12973" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12973" class="CatchallClause Bound">ledger</a><a id="12979" class="CatchallClause"> </a><a id="12980" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12980" class="CatchallClause Bound">executionStack</a><a id="12994" class="CatchallClause"> </a><a id="12995" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12995" class="CatchallClause Bound">initialAddr</a><a id="13006" class="CatchallClause"> </a><a id="13007" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13007" class="CatchallClause Bound">lastCallAddr</a><a id="13019" class="CatchallClause"> </a><a id="13020" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13020" class="CatchallClause Bound">calledAddr</a><a id="13030" class="CatchallClause"> </a><a id="13031" class="CatchallClause Symbol">(</a><a id="13032" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="13036" class="CatchallClause"> </a><a id="13037" class="CatchallClause Symbol">(</a><a id="13038" href="Complex-Model.ccomand.ccommands-cresponse.html#745" class="CatchallClause InductiveConstructor">transferc</a><a id="13047" class="CatchallClause"> </a><a id="13048" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13048" class="CatchallClause Bound">amount</a><a id="13054" class="CatchallClause"> </a><a id="13055" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13055" class="CatchallClause Bound">destinationAddr</a><a id="13070" class="CatchallClause Symbol">)</a><a id="13071" class="CatchallClause"> </a><a id="13072" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13072" class="CatchallClause Bound">costcomputecont</a><a id="13087" class="CatchallClause"> </a><a id="13088" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13088" class="CatchallClause Bound">cont</a><a id="13092" class="CatchallClause Symbol">)</a><a id="13093" class="CatchallClause"> </a><a id="13094" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13094" class="CatchallClause Bound">gasLeft1</a><a id="13102" class="CatchallClause"> </a><a id="13103" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13103" class="CatchallClause Bound">funNameevalState</a><a id="13119" class="CatchallClause"> </a><a id="13120" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13120" class="CatchallClause Bound">msgevalState</a><a id="13132" class="CatchallClause Symbol">)</a>
     <a id="13139" class="Symbol">=</a> <a id="13141" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5149" class="Function">lemmaExecuteTransferAuxGasEq</a> <a id="13170" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12954" class="Bound">oldLedger</a> <a id="13180" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12973" class="Bound">ledger</a> <a id="13187" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12980" class="Bound">executionStack</a> <a id="13202" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12995" class="Bound">initialAddr</a> <a id="13214" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13007" class="Bound">lastCallAddr</a> <a id="13227" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13020" class="Bound">calledAddr</a> <a id="13238" class="Symbol">(</a><a id="13239" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13088" class="Bound">cont</a> <a id="13244" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="13246" class="Symbol">)</a> <a id="13248" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13094" class="Bound">gasLeft1</a> <a id="13257" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13103" class="Bound">funNameevalState</a> <a id="13274" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13120" class="Bound">msgevalState</a> <a id="13287" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13048" class="Bound">amount</a> <a id="13294" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13055" class="Bound">destinationAddr</a> <a id="13310" class="Symbol">((</a><a id="13312" href="libraries.natCompare.html#2249" class="Function">compareLeq</a> <a id="13323" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13048" class="Bound">amount</a> <a id="13330" class="Symbol">(</a><a id="13331" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12973" class="Bound">ledger</a> <a id="13338" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13020" class="Bound">calledAddr</a> <a id="13349" class="Symbol">.</a><a id="13350" href="libraries.Mainlibrary.html#795" class="Field">Contract.amount</a><a id="13365" class="Symbol">)))</a>
<a id="13369" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11693" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="13391" class="CatchallClause"> </a><a id="13392" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13392" class="CatchallClause Bound">oldLedger</a><a id="13401" class="CatchallClause"> </a><a id="13402" class="CatchallClause Symbol">(</a><a id="13403" href="libraries.Mainlibrary.html#1507" class="CatchallClause InductiveConstructor">stateEF</a><a id="13410" class="CatchallClause"> </a><a id="13411" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13411" class="CatchallClause Bound">ledger</a><a id="13417" class="CatchallClause"> </a><a id="13418" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13418" class="CatchallClause Bound">executionStack</a><a id="13432" class="CatchallClause"> </a><a id="13433" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13433" class="CatchallClause Bound">initialAddr</a><a id="13444" class="CatchallClause"> </a><a id="13445" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13445" class="CatchallClause Bound">lastCallAddr</a><a id="13457" class="CatchallClause"> </a><a id="13458" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13458" class="CatchallClause Bound">calledAddr</a><a id="13468" class="CatchallClause"> </a><a id="13469" class="CatchallClause Symbol">(</a><a id="13470" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="13474" class="CatchallClause"> </a><a id="13475" class="CatchallClause Symbol">(</a><a id="13476" href="Complex-Model.ccomand.ccommands-cresponse.html#791" class="CatchallClause InductiveConstructor">callc</a><a id="13481" class="CatchallClause"> </a><a id="13482" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13482" class="CatchallClause Bound">x₂</a><a id="13484" class="CatchallClause"> </a><a id="13485" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13485" class="CatchallClause Bound">x₃</a><a id="13487" class="CatchallClause"> </a><a id="13488" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13488" class="CatchallClause Bound">x₄</a><a id="13490" class="CatchallClause Symbol">)</a><a id="13491" class="CatchallClause"> </a><a id="13492" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13492" class="CatchallClause Bound">x</a><a id="13493" class="CatchallClause"> </a><a id="13494" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13494" class="CatchallClause Bound">x₁</a><a id="13496" class="CatchallClause Symbol">)</a><a id="13497" class="CatchallClause"> </a><a id="13498" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13498" class="CatchallClause Bound">gasLeft1</a><a id="13506" class="CatchallClause"> </a><a id="13507" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13507" class="CatchallClause Bound">funNameevalState</a><a id="13523" class="CatchallClause"> </a><a id="13524" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13524" class="CatchallClause Bound">msgevalState</a><a id="13536" class="CatchallClause Symbol">)</a> <a id="13538" class="Symbol">=</a> <a id="13540" href="libraries.natCompare.html#3733" class="Function">refl==r</a> <a id="13548" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13498" class="Bound">gasLeft1</a>
<a id="13557" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11693" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="13579" class="CatchallClause"> </a><a id="13580" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13580" class="CatchallClause Bound">oldLedger</a><a id="13589" class="CatchallClause"> </a><a id="13590" class="CatchallClause Symbol">(</a><a id="13591" href="libraries.Mainlibrary.html#1507" class="CatchallClause InductiveConstructor">stateEF</a><a id="13598" class="CatchallClause"> </a><a id="13599" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13599" class="CatchallClause Bound">ledger</a><a id="13605" class="CatchallClause"> </a><a id="13606" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13606" class="CatchallClause Bound">executionStack</a><a id="13620" class="CatchallClause"> </a><a id="13621" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13621" class="CatchallClause Bound">initialAddr</a><a id="13632" class="CatchallClause"> </a><a id="13633" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13633" class="CatchallClause Bound">lastCallAddr</a><a id="13645" class="CatchallClause"> </a><a id="13646" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13646" class="CatchallClause Bound">calledAddr</a><a id="13656" class="CatchallClause"> </a><a id="13657" class="CatchallClause Symbol">(</a><a id="13658" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="13662" class="CatchallClause"> </a><a id="13663" href="Complex-Model.ccomand.ccommands-cresponse.html#849" class="CatchallClause InductiveConstructor">currentAddrLookupc</a><a id="13681" class="CatchallClause"> </a><a id="13682" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13682" class="CatchallClause Bound">x</a><a id="13683" class="CatchallClause"> </a><a id="13684" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13684" class="CatchallClause Bound">x₁</a><a id="13686" class="CatchallClause Symbol">)</a><a id="13687" class="CatchallClause"> </a><a id="13688" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13688" class="CatchallClause Bound">gasLeft1</a><a id="13696" class="CatchallClause"> </a><a id="13697" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13697" class="CatchallClause Bound">funNameevalState</a><a id="13713" class="CatchallClause"> </a><a id="13714" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13714" class="CatchallClause Bound">msgevalState</a><a id="13726" class="CatchallClause Symbol">)</a> <a id="13728" class="Symbol">=</a> <a id="13730" href="libraries.natCompare.html#3733" class="Function">refl==r</a> <a id="13738" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13688" class="Bound">gasLeft1</a>
<a id="13747" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11693" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="13769" class="CatchallClause"> </a><a id="13770" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13770" class="CatchallClause Bound">oldLedger</a><a id="13779" class="CatchallClause"> </a><a id="13780" class="CatchallClause Symbol">(</a><a id="13781" href="libraries.Mainlibrary.html#1507" class="CatchallClause InductiveConstructor">stateEF</a><a id="13788" class="CatchallClause"> </a><a id="13789" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13789" class="CatchallClause Bound">ledger</a><a id="13795" class="CatchallClause"> </a><a id="13796" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13796" class="CatchallClause Bound">executionStack</a><a id="13810" class="CatchallClause"> </a><a id="13811" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13811" class="CatchallClause Bound">initialAddr</a><a id="13822" class="CatchallClause"> </a><a id="13823" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13823" class="CatchallClause Bound">lastCallAddr</a><a id="13835" class="CatchallClause"> </a><a id="13836" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13836" class="CatchallClause Bound">calledAddr</a><a id="13846" class="CatchallClause"> </a><a id="13847" class="CatchallClause Symbol">(</a><a id="13848" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="13852" class="CatchallClause"> </a><a id="13853" href="Complex-Model.ccomand.ccommands-cresponse.html#884" class="CatchallClause InductiveConstructor">callAddrLookupc</a><a id="13868" class="CatchallClause"> </a><a id="13869" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13869" class="CatchallClause Bound">x</a><a id="13870" class="CatchallClause"> </a><a id="13871" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13871" class="CatchallClause Bound">x₁</a><a id="13873" class="CatchallClause Symbol">)</a><a id="13874" class="CatchallClause"> </a><a id="13875" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13875" class="CatchallClause Bound">gasLeft1</a><a id="13883" class="CatchallClause"> </a><a id="13884" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13884" class="CatchallClause Bound">funNameevalState</a><a id="13900" class="CatchallClause"> </a><a id="13901" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13901" class="CatchallClause Bound">msgevalState</a><a id="13913" class="CatchallClause Symbol">)</a> <a id="13915" class="Symbol">=</a> <a id="13917" href="libraries.natCompare.html#3733" class="Function">refl==r</a> <a id="13925" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13875" class="Bound">gasLeft1</a>
<a id="13934" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11693" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="13956" class="CatchallClause"> </a><a id="13957" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13957" class="CatchallClause Bound">oldLedger</a><a id="13966" class="CatchallClause"> </a><a id="13967" class="CatchallClause Symbol">(</a><a id="13968" href="libraries.Mainlibrary.html#1507" class="CatchallClause InductiveConstructor">stateEF</a><a id="13975" class="CatchallClause"> </a><a id="13976" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13976" class="CatchallClause Bound">ledger</a><a id="13982" class="CatchallClause"> </a><a id="13983" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13983" class="CatchallClause Bound">executionStack</a><a id="13997" class="CatchallClause"> </a><a id="13998" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13998" class="CatchallClause Bound">initialAddr</a><a id="14009" class="CatchallClause"> </a><a id="14010" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14010" class="CatchallClause Bound">lastCallAddr</a><a id="14022" class="CatchallClause"> </a><a id="14023" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14023" class="CatchallClause Bound">calledAddr</a><a id="14033" class="CatchallClause"> </a><a id="14034" class="CatchallClause Symbol">(</a><a id="14035" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="14039" class="CatchallClause"> </a><a id="14040" class="CatchallClause Symbol">(</a><a id="14041" href="Complex-Model.ccomand.ccommands-cresponse.html#916" class="CatchallClause InductiveConstructor">getAmountc</a><a id="14051" class="CatchallClause"> </a><a id="14052" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14052" class="CatchallClause Bound">x₂</a><a id="14054" class="CatchallClause Symbol">)</a><a id="14055" class="CatchallClause"> </a><a id="14056" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14056" class="CatchallClause Bound">x</a><a id="14057" class="CatchallClause"> </a><a id="14058" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14058" class="CatchallClause Bound">x₁</a><a id="14060" class="CatchallClause Symbol">)</a><a id="14061" class="CatchallClause"> </a><a id="14062" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14062" class="CatchallClause Bound">gasLeft1</a><a id="14070" class="CatchallClause"> </a><a id="14071" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14071" class="CatchallClause Bound">funNameevalState</a><a id="14087" class="CatchallClause"> </a><a id="14088" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14088" class="CatchallClause Bound">msgevalState</a><a id="14100" class="CatchallClause Symbol">)</a> <a id="14102" class="Symbol">=</a> <a id="14104" href="libraries.natCompare.html#3733" class="Function">refl==r</a> <a id="14112" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14062" class="Bound">gasLeft1</a>

<a id="lemmaStepEFpreserveGas2"></a><a id="14122" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14122" class="Function">lemmaStepEFpreserveGas2</a> <a id="14146" class="Symbol">:</a> <a id="14148" class="Symbol">(</a><a id="14149" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14149" class="Bound">oldLedger</a> <a id="14159" class="Symbol">:</a> <a id="14161" href="libraries.Mainlibrary.html#1000" class="Function">Ledger</a><a id="14167" class="Symbol">)</a> <a id="14169" class="Symbol">→</a> <a id="14171" class="Symbol">(</a><a id="14172" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14172" class="Bound">state</a> <a id="14178" class="Symbol">:</a> <a id="14180" href="libraries.Mainlibrary.html#1468" class="Record">StateExecFun</a><a id="14192" class="Symbol">)</a> <a id="14194" class="Symbol">→</a>
                          <a id="14222" href="libraries.Mainlibrary.html#1717" class="Field">gasLeft</a> <a id="14230" class="Symbol">(</a><a id="14231" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7103" class="Function">stepEF</a> <a id="14238" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14149" class="Bound">oldLedger</a> <a id="14248" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14172" class="Bound">state</a><a id="14253" class="Symbol">)</a> <a id="14255" href="libraries.natCompare.html#756" class="Function Operator">==r</a> <a id="14259" href="libraries.Mainlibrary.html#1717" class="Field">gasLeft</a> <a id="14267" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14172" class="Bound">state</a>
<a id="14273" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14122" class="Function">lemmaStepEFpreserveGas2</a> <a id="14297" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14297" class="Bound">oldLedger</a> <a id="14307" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14307" class="Bound">state</a> <a id="14313" class="Symbol">=</a> <a id="14315" href="libraries.natCompare.html#4442" class="Function">sym==</a> <a id="14321" class="Symbol">(</a><a id="14322" href="libraries.Mainlibrary.html#1717" class="Field">gasLeft</a> <a id="14330" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14307" class="Bound">state</a><a id="14335" class="Symbol">)</a> <a id="14337" class="Symbol">(</a><a id="14338" href="libraries.Mainlibrary.html#1717" class="Field">gasLeft</a> <a id="14346" class="Symbol">(</a><a id="14347" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7103" class="Function">stepEF</a> <a id="14354" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14297" class="Bound">oldLedger</a> <a id="14364" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14307" class="Bound">state</a><a id="14369" class="Symbol">))</a>
                                          <a id="14414" class="Symbol">(</a><a id="14415" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11693" class="Function">lemmaStepEFpreserveGas</a> <a id="14438" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14297" class="Bound">oldLedger</a> <a id="14448" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14307" class="Bound">state</a><a id="14453" class="Symbol">)</a>


<a id="14457" class="Comment">-- stepEFgasAvailable which returns gasLeft</a>
<a id="stepEFgasAvailable"></a><a id="14501" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14501" class="Function">stepEFgasAvailable</a> <a id="14520" class="Symbol">:</a> <a id="14522" href="libraries.Mainlibrary.html#1468" class="Record">StateExecFun</a> <a id="14535" class="Symbol">→</a> <a id="14537" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="14539" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14501" class="Function">stepEFgasAvailable</a> <a id="14558" class="Symbol">(</a><a id="14559" href="libraries.Mainlibrary.html#1507" class="InductiveConstructor">stateEF</a> <a id="14567" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14567" class="Bound">ledger</a> <a id="14574" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14574" class="Bound">executionStack</a> <a id="14589" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14589" class="Bound">initialAddr</a>
                   <a id="14620" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14620" class="Bound">lastCallAddr</a> <a id="14633" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14633" class="Bound">calledAddr</a>
                   <a id="14663" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14663" class="Bound">nextstep</a> <a id="14672" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14672" class="Bound">gasLeft</a>  <a id="14681" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14681" class="Bound">funNameevalState</a> <a id="14698" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14698" class="Bound">msgevalState</a><a id="14710" class="Symbol">)</a>
                   <a id="14731" class="Symbol">=</a> <a id="14733" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14672" class="Bound">gasLeft</a>


<a id="14743" class="Comment">--this function simliar to stepEF and deduct the gasleft</a>
<a id="14800" class="Comment">--which returns the gas deducted</a>
<a id="stepEFgasNeeded"></a><a id="14833" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14833" class="Function">stepEFgasNeeded</a> <a id="14849" class="Symbol">:</a> <a id="14851" href="libraries.Mainlibrary.html#1468" class="Record">StateExecFun</a> <a id="14864" class="Symbol">→</a> <a id="14866" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="14868" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14833" class="Function">stepEFgasNeeded</a>  <a id="14885" class="Symbol">(</a><a id="14886" href="libraries.Mainlibrary.html#1507" class="InductiveConstructor">stateEF</a> <a id="14894" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14894" class="Bound">currentLedger</a> <a id="14908" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="14911" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14911" class="Bound">initialAddr</a> <a id="14923" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14923" class="Bound">lastCallAddr</a> <a id="14936" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14936" class="Bound">calledAddr</a>
                 <a id="14964" class="Symbol">(</a><a id="14965" href="Complex-Model.ccomand.ccommands-cresponse.html#1484" class="InductiveConstructor">return</a> <a id="14972" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14972" class="Bound">cost</a> <a id="14977" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14977" class="Bound">result</a><a id="14983" class="Symbol">)</a> <a id="14985" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14985" class="Bound">gasLeft</a>  <a id="14994" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14994" class="Bound">funNameevalState</a> <a id="15011" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15011" class="Bound">msgevalState</a><a id="15023" class="Symbol">)</a>
       <a id="15032" class="Symbol">=</a> <a id="15034" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14972" class="Bound">cost</a>
<a id="15039" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14833" class="Function">stepEFgasNeeded</a>  <a id="15056" class="Symbol">(</a><a id="15057" href="libraries.Mainlibrary.html#1507" class="InductiveConstructor">stateEF</a> <a id="15065" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15065" class="Bound">currentLedger</a> <a id="15079" class="Symbol">(</a><a id="15080" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15080" class="Bound">execSEl</a> <a id="15088" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="15090" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15090" class="Bound">executionStack</a><a id="15104" class="Symbol">)</a> <a id="15106" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15106" class="Bound">initialAddr</a> <a id="15118" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15118" class="Bound">lastCallAddr</a> <a id="15131" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15131" class="Bound">calledAddr</a>
                 <a id="15159" class="Symbol">(</a><a id="15160" href="Complex-Model.ccomand.ccommands-cresponse.html#1484" class="InductiveConstructor">return</a> <a id="15167" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15167" class="Bound">cost</a> <a id="15172" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15172" class="Bound">result</a><a id="15178" class="Symbol">)</a> <a id="15180" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15180" class="Bound">gasLeft</a>  <a id="15189" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15189" class="Bound">funNameevalState</a> <a id="15206" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15206" class="Bound">msgevalState</a><a id="15218" class="Symbol">)</a>
       <a id="15227" class="Symbol">=</a> <a id="15229" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15167" class="Bound">cost</a>

<a id="15235" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14833" class="CatchallClause Function">stepEFgasNeeded</a><a id="15250" class="CatchallClause"> </a><a id="15251" class="CatchallClause Symbol">(</a><a id="15252" href="libraries.Mainlibrary.html#1507" class="CatchallClause InductiveConstructor">stateEF</a><a id="15259" class="CatchallClause"> </a><a id="15260" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15260" class="CatchallClause Bound">currentLedger</a><a id="15273" class="CatchallClause"> </a><a id="15274" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15274" class="CatchallClause Bound">executionStack</a><a id="15288" class="CatchallClause"> </a><a id="15289" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15289" class="CatchallClause Bound">initialAddr</a><a id="15300" class="CatchallClause"> </a><a id="15301" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15301" class="CatchallClause Bound">lastCallAddr</a><a id="15313" class="CatchallClause"> </a><a id="15314" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15314" class="CatchallClause Bound">calledAddr</a>
                 <a id="15342" class="CatchallClause Symbol">(</a><a id="15343" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="15347" class="CatchallClause"> </a><a id="15348" href="Complex-Model.ccomand.ccommands-cresponse.html#849" class="CatchallClause InductiveConstructor">currentAddrLookupc</a><a id="15366" class="CatchallClause"> </a><a id="15367" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15367" class="CatchallClause Bound">costcomputecont</a><a id="15382" class="CatchallClause"> </a><a id="15383" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15383" class="CatchallClause Bound">cont</a><a id="15387" class="CatchallClause Symbol">)</a>
                 <a id="15406" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15406" class="CatchallClause Bound">gasLeft</a><a id="15413" class="CatchallClause">  </a><a id="15415" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15415" class="CatchallClause Bound">funNameevalState</a><a id="15431" class="CatchallClause"> </a><a id="15432" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15432" class="CatchallClause Bound">msgevalState</a><a id="15444" class="CatchallClause Symbol">)</a>
       <a id="15453" class="Symbol">=</a> <a id="15455" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15367" class="Bound">costcomputecont</a> <a id="15471" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15314" class="Bound">calledAddr</a>

<a id="15483" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14833" class="CatchallClause Function">stepEFgasNeeded</a><a id="15498" class="CatchallClause"> </a><a id="15499" class="CatchallClause Symbol">(</a><a id="15500" href="libraries.Mainlibrary.html#1507" class="CatchallClause InductiveConstructor">stateEF</a><a id="15507" class="CatchallClause"> </a><a id="15508" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15508" class="CatchallClause Bound">currentLedger</a><a id="15521" class="CatchallClause"> </a><a id="15522" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15522" class="CatchallClause Bound">executionStack</a><a id="15536" class="CatchallClause"> </a><a id="15537" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15537" class="CatchallClause Bound">initialAddr</a><a id="15548" class="CatchallClause"> </a><a id="15549" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15549" class="CatchallClause Bound">lastCallAddr</a><a id="15561" class="CatchallClause"> </a><a id="15562" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15562" class="CatchallClause Bound">calledAddr</a>
                 <a id="15590" class="CatchallClause Symbol">(</a><a id="15591" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="15595" class="CatchallClause"> </a><a id="15596" href="Complex-Model.ccomand.ccommands-cresponse.html#884" class="CatchallClause InductiveConstructor">callAddrLookupc</a><a id="15611" class="CatchallClause"> </a><a id="15612" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15612" class="CatchallClause Bound">costcomputecont</a><a id="15627" class="CatchallClause"> </a><a id="15628" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15628" class="CatchallClause Bound">cont</a><a id="15632" class="CatchallClause Symbol">)</a>
                 <a id="15651" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15651" class="CatchallClause Bound">gasLeft</a><a id="15658" class="CatchallClause">  </a><a id="15660" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15660" class="CatchallClause Bound">funNameevalState</a><a id="15676" class="CatchallClause"> </a><a id="15677" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15677" class="CatchallClause Bound">msgevalState</a><a id="15689" class="CatchallClause Symbol">)</a>
       <a id="15698" class="Symbol">=</a> <a id="15700" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15612" class="Bound">costcomputecont</a> <a id="15716" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15549" class="Bound">lastCallAddr</a>

<a id="15730" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14833" class="CatchallClause Function">stepEFgasNeeded</a><a id="15745" class="CatchallClause"> </a><a id="15746" class="CatchallClause Symbol">(</a><a id="15747" href="libraries.Mainlibrary.html#1507" class="CatchallClause InductiveConstructor">stateEF</a><a id="15754" class="CatchallClause"> </a><a id="15755" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15755" class="CatchallClause Bound">currentLedger</a><a id="15768" class="CatchallClause"> </a><a id="15769" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15769" class="CatchallClause Bound">executionStack</a><a id="15783" class="CatchallClause"> </a><a id="15784" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15784" class="CatchallClause Bound">initialAddr</a><a id="15795" class="CatchallClause"> </a><a id="15796" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15796" class="CatchallClause Bound">lastCallAddr</a><a id="15808" class="CatchallClause"> </a><a id="15809" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15809" class="CatchallClause Bound">calledAddr</a>
                 <a id="15837" class="CatchallClause Symbol">(</a><a id="15838" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="15842" class="CatchallClause"> </a><a id="15843" class="CatchallClause Symbol">(</a><a id="15844" href="Complex-Model.ccomand.ccommands-cresponse.html#540" class="CatchallClause InductiveConstructor">updatec</a><a id="15851" class="CatchallClause"> </a><a id="15852" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15852" class="CatchallClause Bound">changedFname</a><a id="15864" class="CatchallClause"> </a><a id="15865" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15865" class="CatchallClause Bound">changedPufun</a><a id="15877" class="CatchallClause"> </a><a id="15878" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15878" class="CatchallClause Bound">cost</a><a id="15882" class="CatchallClause Symbol">)</a><a id="15883" class="CatchallClause"> </a><a id="15884" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15884" class="CatchallClause Bound">costcomputecont</a><a id="15899" class="CatchallClause"> </a><a id="15900" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15900" class="CatchallClause Bound">cont</a><a id="15904" class="CatchallClause Symbol">)</a>
                 <a id="15923" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15923" class="CatchallClause Bound">gasLeft</a><a id="15930" class="CatchallClause">  </a><a id="15932" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15932" class="CatchallClause Bound">funNameevalState</a><a id="15948" class="CatchallClause"> </a><a id="15949" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15949" class="CatchallClause Bound">msgevalState</a><a id="15961" class="CatchallClause Symbol">)</a>
       <a id="15970" class="Symbol">=</a> <a id="15972" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15878" class="Bound">cost</a> <a id="15977" class="Symbol">(</a><a id="15978" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15755" class="Bound">currentLedger</a> <a id="15992" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15809" class="Bound">calledAddr</a> <a id="16003" class="Symbol">.</a><a id="16004" href="libraries.Mainlibrary.html#869" class="Field">viewFunction</a> <a id="16017" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15852" class="Bound">changedFname</a><a id="16029" class="Symbol">)</a> <a id="16031" class="Symbol">(</a><a id="16032" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15755" class="Bound">currentLedger</a> <a id="16046" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15809" class="Bound">calledAddr</a> <a id="16057" class="Symbol">.</a><a id="16058" href="libraries.Mainlibrary.html#920" class="Field">viewFunctionCost</a> <a id="16075" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15852" class="Bound">changedFname</a><a id="16087" class="Symbol">)</a> <a id="16089" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15949" class="Bound">msgevalState</a> <a id="16102" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="16104" class="Symbol">(</a><a id="16105" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15884" class="Bound">costcomputecont</a> <a id="16121" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="16123" class="Symbol">)</a>


<a id="16127" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14833" class="CatchallClause Function">stepEFgasNeeded</a><a id="16142" class="CatchallClause"> </a><a id="16143" class="CatchallClause Symbol">(</a><a id="16144" href="libraries.Mainlibrary.html#1507" class="CatchallClause InductiveConstructor">stateEF</a><a id="16151" class="CatchallClause"> </a><a id="16152" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16152" class="CatchallClause Bound">currentLedger</a><a id="16165" class="CatchallClause"> </a><a id="16166" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16166" class="CatchallClause Bound">executionStack</a><a id="16180" class="CatchallClause"> </a><a id="16181" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16181" class="CatchallClause Bound">initialAddr</a><a id="16192" class="CatchallClause"> </a><a id="16193" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16193" class="CatchallClause Bound">oldlastCallAddr</a><a id="16208" class="CatchallClause"> </a><a id="16209" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16209" class="CatchallClause Bound">oldcalledAddr</a>
                 <a id="16240" class="CatchallClause Symbol">(</a><a id="16241" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="16245" class="CatchallClause"> </a><a id="16246" class="CatchallClause Symbol">(</a><a id="16247" href="Complex-Model.ccomand.ccommands-cresponse.html#791" class="CatchallClause InductiveConstructor">callc</a><a id="16252" class="CatchallClause"> </a><a id="16253" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16253" class="CatchallClause Bound">newaddr</a><a id="16260" class="CatchallClause"> </a><a id="16261" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16261" class="CatchallClause Bound">fname</a><a id="16266" class="CatchallClause"> </a><a id="16267" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16267" class="CatchallClause Bound">msg</a><a id="16270" class="CatchallClause Symbol">)</a><a id="16271" class="CatchallClause"> </a><a id="16272" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16272" class="CatchallClause Bound">costcomputecont</a><a id="16287" class="CatchallClause"> </a><a id="16288" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16288" class="CatchallClause Bound">cont</a><a id="16292" class="CatchallClause Symbol">)</a>
                 <a id="16311" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16311" class="CatchallClause Bound">gasLeft</a><a id="16318" class="CatchallClause">  </a><a id="16320" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16320" class="CatchallClause Bound">funNameevalState</a><a id="16336" class="CatchallClause"> </a><a id="16337" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16337" class="CatchallClause Bound">msgevalState</a><a id="16349" class="CatchallClause Symbol">)</a>
       <a id="16358" class="Symbol">=</a> <a id="16360" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16272" class="Bound">costcomputecont</a> <a id="16376" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16267" class="Bound">msg</a>

<a id="16381" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14833" class="CatchallClause Function">stepEFgasNeeded</a><a id="16396" class="CatchallClause"> </a><a id="16397" class="CatchallClause Symbol">(</a><a id="16398" href="libraries.Mainlibrary.html#1507" class="CatchallClause InductiveConstructor">stateEF</a><a id="16405" class="CatchallClause"> </a><a id="16406" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16406" class="CatchallClause Bound">currentLedger</a><a id="16419" class="CatchallClause"> </a><a id="16420" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16420" class="CatchallClause Bound">executionStack</a><a id="16434" class="CatchallClause"> </a><a id="16435" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16435" class="CatchallClause Bound">initialAddr</a><a id="16446" class="CatchallClause"> </a><a id="16447" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16447" class="CatchallClause Bound">lastCallAddr</a><a id="16459" class="CatchallClause"> </a><a id="16460" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16460" class="CatchallClause Bound">calledAddr</a>
                 <a id="16488" class="CatchallClause Symbol">(</a><a id="16489" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="16493" class="CatchallClause"> </a><a id="16494" class="CatchallClause Symbol">(</a><a id="16495" href="Complex-Model.ccomand.ccommands-cresponse.html#745" class="CatchallClause InductiveConstructor">transferc</a><a id="16504" class="CatchallClause"> </a><a id="16505" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16505" class="CatchallClause Bound">amount</a><a id="16511" class="CatchallClause"> </a><a id="16512" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16512" class="CatchallClause Bound">destinationAddr</a><a id="16527" class="CatchallClause Symbol">)</a><a id="16528" class="CatchallClause"> </a><a id="16529" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16529" class="CatchallClause Bound">costcomputecont</a><a id="16544" class="CatchallClause"> </a><a id="16545" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16545" class="CatchallClause Bound">cont</a><a id="16549" class="CatchallClause Symbol">)</a>
                 <a id="16568" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16568" class="CatchallClause Bound">gasLeft</a><a id="16575" class="CatchallClause">  </a><a id="16577" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16577" class="CatchallClause Bound">funNameevalState</a><a id="16593" class="CatchallClause"> </a><a id="16594" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16594" class="CatchallClause Bound">msgevalState</a><a id="16606" class="CatchallClause Symbol">)</a>
       <a id="16615" class="Symbol">=</a> <a id="16617" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16529" class="Bound">costcomputecont</a> <a id="16633" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a>

<a id="16637" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14833" class="CatchallClause Function">stepEFgasNeeded</a><a id="16652" class="CatchallClause"> </a><a id="16653" class="CatchallClause Symbol">(</a><a id="16654" href="libraries.Mainlibrary.html#1507" class="CatchallClause InductiveConstructor">stateEF</a><a id="16661" class="CatchallClause"> </a><a id="16662" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16662" class="CatchallClause Bound">currentLedger</a><a id="16675" class="CatchallClause"> </a><a id="16676" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16676" class="CatchallClause Bound">executionStack</a><a id="16690" class="CatchallClause"> </a><a id="16691" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16691" class="CatchallClause Bound">initialAddr</a><a id="16702" class="CatchallClause"> </a><a id="16703" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16703" class="CatchallClause Bound">lastCallAddr</a><a id="16715" class="CatchallClause"> </a><a id="16716" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16716" class="CatchallClause Bound">calledAddr</a>
                 <a id="16744" class="CatchallClause Symbol">(</a><a id="16745" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="16749" class="CatchallClause"> </a><a id="16750" class="CatchallClause Symbol">(</a><a id="16751" href="Complex-Model.ccomand.ccommands-cresponse.html#916" class="CatchallClause InductiveConstructor">getAmountc</a><a id="16761" class="CatchallClause">  </a><a id="16763" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16763" class="CatchallClause Bound">addrLookedUp</a><a id="16775" class="CatchallClause Symbol">)</a><a id="16776" class="CatchallClause"> </a><a id="16777" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16777" class="CatchallClause Bound">costcomputecont</a><a id="16792" class="CatchallClause"> </a><a id="16793" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16793" class="CatchallClause Bound">cont</a><a id="16797" class="CatchallClause Symbol">)</a>
                 <a id="16816" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16816" class="CatchallClause Bound">gasLeft</a><a id="16823" class="CatchallClause">  </a><a id="16825" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16825" class="CatchallClause Bound">funNameevalState</a><a id="16841" class="CatchallClause"> </a><a id="16842" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16842" class="CatchallClause Bound">msgevalState</a><a id="16854" class="CatchallClause Symbol">)</a>
       <a id="16863" class="Symbol">=</a> <a id="16865" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16777" class="Bound">costcomputecont</a> <a id="16881" class="Symbol">(</a><a id="16882" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16662" class="Bound">currentLedger</a> <a id="16896" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16763" class="Bound">addrLookedUp</a> <a id="16909" class="Symbol">.</a><a id="16910" href="libraries.Mainlibrary.html#795" class="Field">amount</a><a id="16916" class="Symbol">)</a>


<a id="16920" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14833" class="CatchallClause Function">stepEFgasNeeded</a><a id="16935" class="CatchallClause"> </a><a id="16936" class="CatchallClause Symbol">(</a><a id="16937" href="libraries.Mainlibrary.html#1507" class="CatchallClause InductiveConstructor">stateEF</a><a id="16944" class="CatchallClause"> </a><a id="16945" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16945" class="CatchallClause Bound">ledger</a><a id="16951" class="CatchallClause"> </a><a id="16952" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16952" class="CatchallClause Bound">executionStack</a><a id="16966" class="CatchallClause"> </a><a id="16967" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16967" class="CatchallClause Bound">initialAddr</a><a id="16978" class="CatchallClause"> </a><a id="16979" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16979" class="CatchallClause Bound">lastCallAddr</a><a id="16991" class="CatchallClause"> </a><a id="16992" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16992" class="CatchallClause Bound">calledAddr</a>
                 <a id="17020" class="CatchallClause Symbol">(</a><a id="17021" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="17025" class="CatchallClause"> </a><a id="17026" class="CatchallClause Symbol">(</a><a id="17027" href="Complex-Model.ccomand.ccommands-cresponse.html#701" class="CatchallClause InductiveConstructor">raiseException</a><a id="17041" class="CatchallClause"> </a><a id="17042" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17042" class="CatchallClause Bound">cost</a><a id="17046" class="CatchallClause"> </a><a id="17047" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17047" class="CatchallClause Bound">str</a><a id="17050" class="CatchallClause Symbol">)</a><a id="17051" class="CatchallClause"> </a><a id="17052" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17052" class="CatchallClause Bound">costcomputecont</a><a id="17067" class="CatchallClause"> </a><a id="17068" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17068" class="CatchallClause Bound">cont</a><a id="17072" class="CatchallClause Symbol">)</a>
                 <a id="17091" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17091" class="CatchallClause Bound">gasLeft</a><a id="17098" class="CatchallClause"> </a><a id="17099" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17099" class="CatchallClause Bound">funNameevalState</a><a id="17115" class="CatchallClause"> </a><a id="17116" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17116" class="CatchallClause Bound">msgevalState</a><a id="17128" class="CatchallClause Symbol">)</a>
                 <a id="17147" class="Symbol">=</a> <a id="17149" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17042" class="Bound">cost</a>

<a id="17155" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14833" class="CatchallClause Function">stepEFgasNeeded</a><a id="17170" class="CatchallClause"> </a><a id="17171" class="CatchallClause Symbol">(</a><a id="17172" href="libraries.Mainlibrary.html#1507" class="CatchallClause InductiveConstructor">stateEF</a><a id="17179" class="CatchallClause"> </a><a id="17180" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17180" class="CatchallClause Bound">currentLedger</a><a id="17193" class="CatchallClause"> </a><a id="17194" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17194" class="CatchallClause Bound">executionStack</a><a id="17208" class="CatchallClause"> </a><a id="17209" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17209" class="CatchallClause Bound">initialAddr</a><a id="17220" class="CatchallClause"> </a><a id="17221" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17221" class="CatchallClause Bound">lastCallAddr</a><a id="17233" class="CatchallClause"> </a><a id="17234" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17234" class="CatchallClause Bound">calledAddr</a>
                 <a id="17262" class="CatchallClause Symbol">(</a><a id="17263" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="17267" class="CatchallClause"> </a><a id="17268" class="CatchallClause Symbol">(</a><a id="17269" href="Complex-Model.ccomand.ccommands-cresponse.html#482" class="CatchallClause InductiveConstructor">callView</a><a id="17277" class="CatchallClause"> </a><a id="17278" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17278" class="CatchallClause Bound">addr</a><a id="17282" class="CatchallClause"> </a><a id="17283" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17283" class="CatchallClause Bound">fname</a><a id="17288" class="CatchallClause"> </a><a id="17289" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17289" class="CatchallClause Bound">msg</a><a id="17292" class="CatchallClause Symbol">)</a><a id="17293" class="CatchallClause"> </a><a id="17294" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17294" class="CatchallClause Bound">costcompute</a><a id="17305" class="CatchallClause"> </a><a id="17306" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17306" class="CatchallClause Bound">cont</a><a id="17310" class="CatchallClause Symbol">)</a>
                 <a id="17329" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17329" class="CatchallClause Bound">gasLeft</a><a id="17336" class="CatchallClause">  </a><a id="17338" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17338" class="CatchallClause Bound">funNameevalState</a><a id="17354" class="CatchallClause"> </a><a id="17355" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17355" class="CatchallClause Bound">msgevalState</a><a id="17367" class="CatchallClause Symbol">)</a>
       <a id="17376" class="Symbol">=</a> <a id="17378" class="Symbol">(</a><a id="17379" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17180" class="Bound">currentLedger</a> <a id="17393" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17234" class="Bound">calledAddr</a> <a id="17404" class="Symbol">.</a><a id="17405" href="libraries.Mainlibrary.html#920" class="Field">viewFunctionCost</a> <a id="17422" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17283" class="Bound">fname</a> <a id="17428" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17289" class="Bound">msg</a><a id="17431" class="Symbol">)</a> <a id="17433" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="17435" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17294" class="Bound">costcompute</a> <a id="17447" class="Symbol">(</a><a id="17448" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17180" class="Bound">currentLedger</a> <a id="17462" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17234" class="Bound">calledAddr</a> <a id="17473" class="Symbol">.</a><a id="17474" href="libraries.Mainlibrary.html#869" class="Field">viewFunction</a> <a id="17487" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17283" class="Bound">fname</a> <a id="17493" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17289" class="Bound">msg</a><a id="17496" class="Symbol">)</a>


<a id="17500" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14833" class="CatchallClause Function">stepEFgasNeeded</a><a id="17515" class="CatchallClause"> </a><a id="17516" class="CatchallClause Symbol">(</a><a id="17517" href="libraries.Mainlibrary.html#1507" class="CatchallClause InductiveConstructor">stateEF</a><a id="17524" class="CatchallClause"> </a><a id="17525" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17525" class="CatchallClause Bound">currentLedger</a><a id="17538" class="CatchallClause"> </a><a id="17539" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17539" class="CatchallClause Bound">executionStack</a><a id="17553" class="CatchallClause"> </a><a id="17554" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17554" class="CatchallClause Bound">initialAddr</a><a id="17565" class="CatchallClause"> </a><a id="17566" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17566" class="CatchallClause Bound">lastCallAddr</a><a id="17578" class="CatchallClause"> </a><a id="17579" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17579" class="CatchallClause Bound">calledAddr</a>
                 <a id="17607" class="CatchallClause Symbol">(</a><a id="17608" href="Complex-Model.ccomand.ccommands-cresponse.html#1523" class="CatchallClause InductiveConstructor">error</a><a id="17613" class="CatchallClause"> </a><a id="17614" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17614" class="CatchallClause Bound">errorMsg</a><a id="17622" class="CatchallClause"> </a><a id="17623" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17623" class="CatchallClause Bound">debuginfo</a><a id="17632" class="CatchallClause Symbol">)</a><a id="17633" class="CatchallClause"> </a><a id="17634" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17634" class="CatchallClause Bound">gasLeft</a><a id="17641" class="CatchallClause">  </a><a id="17643" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17643" class="CatchallClause Bound">funNameevalState</a><a id="17659" class="CatchallClause"> </a><a id="17660" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17660" class="CatchallClause Bound">msgevalState</a><a id="17672" class="CatchallClause Symbol">)</a>
       <a id="17681" class="Symbol">=</a> <a id="17683" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="17689" class="Symbol">.</a><a id="17690" href="constantparameters.html#511" class="Field">costerror</a> <a id="17700" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17614" class="Bound">errorMsg</a>


<a id="17711" class="Comment">--This function we use it to deduct gas from evalstate not ledger</a>
<a id="deductGas"></a><a id="17777" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17777" class="Function">deductGas</a> <a id="17787" class="Symbol">:</a>  <a id="17790" class="Symbol">(</a><a id="17791" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17791" class="Bound">statefun</a> <a id="17800" class="Symbol">:</a> <a id="17802" href="libraries.Mainlibrary.html#1468" class="Record">StateExecFun</a><a id="17814" class="Symbol">)</a> <a id="17816" class="Symbol">(</a><a id="17817" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17817" class="Bound">gasDeducted</a> <a id="17829" class="Symbol">:</a> <a id="17831" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="17832" class="Symbol">)</a> <a id="17834" class="Symbol">→</a> <a id="17836" href="libraries.Mainlibrary.html#1468" class="Record">StateExecFun</a>
<a id="17849" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17777" class="Function">deductGas</a> <a id="17859" class="Symbol">(</a><a id="17860" href="libraries.Mainlibrary.html#1507" class="InductiveConstructor">stateEF</a> <a id="17868" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17868" class="Bound">ledger</a> <a id="17875" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17875" class="Bound">executionStack</a> <a id="17890" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17890" class="Bound">initialAddr</a> <a id="17902" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17902" class="Bound">lastCallAddr</a> <a id="17915" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17915" class="Bound">calledAddr</a> <a id="17926" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17926" class="Bound">nextstep</a>
            <a id="17947" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17947" class="Bound">gasLeft</a>  <a id="17956" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17956" class="Bound">funNameevalState</a> <a id="17973" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17973" class="Bound">msgevalState</a><a id="17985" class="Symbol">)</a> <a id="17987" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17987" class="Bound">gasDeducted</a>
       <a id="18006" class="Symbol">=</a> <a id="18008" href="libraries.Mainlibrary.html#1507" class="InductiveConstructor">stateEF</a> <a id="18016" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17868" class="Bound">ledger</a> <a id="18023" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17875" class="Bound">executionStack</a> <a id="18038" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17890" class="Bound">initialAddr</a> <a id="18050" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17902" class="Bound">lastCallAddr</a> <a id="18063" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17915" class="Bound">calledAddr</a> <a id="18074" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17926" class="Bound">nextstep</a>
       <a id="18090" class="Symbol">(</a><a id="18091" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17947" class="Bound">gasLeft</a> <a id="18099" href="Agda.Builtin.Nat.html#426" class="Primitive Operator">-</a> <a id="18101" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17987" class="Bound">gasDeducted</a><a id="18112" class="Symbol">)</a>  <a id="18115" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17956" class="Bound">funNameevalState</a> <a id="18132" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17973" class="Bound">msgevalState</a>


<a id="18147" class="Comment">-- this function we use it to cpmare gas in stepEFgasNeeded with stepEFgasAvailable</a>
<a id="stepEFAuxCompare"></a><a id="18231" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18231" class="Function">stepEFAuxCompare</a> <a id="18248" class="Symbol">:</a> <a id="18250" class="Symbol">(</a><a id="18251" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18251" class="Bound">oldLedger</a> <a id="18261" class="Symbol">:</a> <a id="18263" href="libraries.Mainlibrary.html#1000" class="Function">Ledger</a><a id="18269" class="Symbol">)</a> <a id="18271" class="Symbol">→</a> <a id="18273" class="Symbol">(</a><a id="18274" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18274" class="Bound">statefun</a> <a id="18283" class="Symbol">:</a> <a id="18285" href="libraries.Mainlibrary.html#1468" class="Record">StateExecFun</a><a id="18297" class="Symbol">)</a>
  <a id="18301" class="Symbol">→</a> <a id="18303" href="libraries.natCompare.html#1049" class="Datatype">OrderingLeq</a> <a id="18315" class="Symbol">(</a><a id="18316" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="18320" class="Symbol">(</a><a id="18321" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14833" class="Function">stepEFgasNeeded</a> <a id="18337" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18274" class="Bound">statefun</a><a id="18345" class="Symbol">))(</a><a id="18348" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14501" class="Function">stepEFgasAvailable</a> <a id="18367" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18274" class="Bound">statefun</a><a id="18375" class="Symbol">)</a>
  <a id="18379" class="Symbol">→</a> <a id="18381" href="libraries.Mainlibrary.html#1468" class="Record">StateExecFun</a>
<a id="18394" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18231" class="Function">stepEFAuxCompare</a> <a id="18411" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18411" class="Bound">oldLedger</a> <a id="18421" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18421" class="Bound">statefun</a> <a id="18430" class="Symbol">(</a><a id="18431" href="libraries.natCompare.html#1087" class="InductiveConstructor">leq</a> <a id="18435" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18435" class="Bound">x</a><a id="18436" class="Symbol">)</a> <a id="18438" class="Symbol">=</a> <a id="18440" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17777" class="Function">deductGas</a> <a id="18450" class="Symbol">(</a><a id="18451" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7103" class="Function">stepEF</a> <a id="18458" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18411" class="Bound">oldLedger</a> <a id="18468" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18421" class="Bound">statefun</a><a id="18476" class="Symbol">)</a> <a id="18478" class="Symbol">(</a><a id="18479" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="18483" class="Symbol">(</a><a id="18484" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14833" class="Function">stepEFgasNeeded</a> <a id="18500" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18421" class="Bound">statefun</a><a id="18508" class="Symbol">))</a>
<a id="18511" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18231" class="Function">stepEFAuxCompare</a> <a id="18528" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18528" class="Bound">oldLedger</a> <a id="18538" class="Symbol">(</a><a id="18539" href="libraries.Mainlibrary.html#1507" class="InductiveConstructor">stateEF</a> <a id="18547" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18547" class="Bound">ledger</a> <a id="18554" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18554" class="Bound">executionStack</a> <a id="18569" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18569" class="Bound">initialAddr</a> <a id="18581" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18581" class="Bound">lastCallAddr</a> <a id="18594" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18594" class="Bound">calledAddr</a> <a id="18605" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18605" class="Bound">nextstep</a>
                           <a id="18641" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18641" class="Bound">gasLeft</a>  <a id="18650" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18650" class="Bound">funNameevalState</a> <a id="18667" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18667" class="Bound">msgevalState</a><a id="18679" class="Symbol">)</a> <a id="18681" class="Symbol">(</a><a id="18682" href="libraries.natCompare.html#1125" class="InductiveConstructor">greater</a> <a id="18690" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18690" class="Bound">x</a><a id="18691" class="Symbol">)</a>
        <a id="18701" class="Symbol">=</a> <a id="18703" href="libraries.Mainlibrary.html#1507" class="InductiveConstructor">stateEF</a> <a id="18711" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18528" class="Bound">oldLedger</a> <a id="18721" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18554" class="Bound">executionStack</a> <a id="18736" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18569" class="Bound">initialAddr</a> <a id="18748" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18581" class="Bound">lastCallAddr</a> <a id="18761" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18594" class="Bound">calledAddr</a> <a id="18772" class="Symbol">(</a><a id="18773" href="Complex-Model.ccomand.ccommands-cresponse.html#1523" class="InductiveConstructor">error</a> <a id="18779" href="basicDataStructure.html#728" class="InductiveConstructor">outOfGasError</a>
            <a id="18805" href="basicDataStructure.html#832" class="InductiveConstructor Operator">⟨</a> <a id="18807" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18581" class="Bound">lastCallAddr</a> <a id="18820" href="basicDataStructure.html#832" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="18823" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18569" class="Bound">initialAddr</a> <a id="18835" href="basicDataStructure.html#832" class="InductiveConstructor Operator">∙</a> <a id="18837" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18650" class="Bound">funNameevalState</a> <a id="18854" href="basicDataStructure.html#832" class="InductiveConstructor Operator">[</a> <a id="18856" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18667" class="Bound">msgevalState</a> <a id="18869" href="basicDataStructure.html#832" class="InductiveConstructor Operator">]⟩</a><a id="18871" class="Symbol">)</a> <a id="18873" class="Number">0</a>
            <a id="18887" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18650" class="Bound">funNameevalState</a> <a id="18904" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18667" class="Bound">msgevalState</a>


<a id="18919" class="Comment">-- definition of stepEFwithGasError</a>
<a id="stepEFwithGasError"></a><a id="18955" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18955" class="Function">stepEFwithGasError</a> <a id="18974" class="Symbol">:</a> <a id="18976" class="Symbol">(</a><a id="18977" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18977" class="Bound">oldLedger</a> <a id="18987" class="Symbol">:</a> <a id="18989" href="libraries.Mainlibrary.html#1000" class="Function">Ledger</a><a id="18995" class="Symbol">)</a> <a id="18997" class="Symbol">→</a> <a id="18999" class="Symbol">(</a><a id="19000" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19000" class="Bound">evals</a> <a id="19006" class="Symbol">:</a> <a id="19008" href="libraries.Mainlibrary.html#1468" class="Record">StateExecFun</a><a id="19020" class="Symbol">)</a> <a id="19022" class="Symbol">→</a> <a id="19024" href="libraries.Mainlibrary.html#1468" class="Record">StateExecFun</a>
<a id="19037" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18955" class="Function">stepEFwithGasError</a> <a id="19056" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19056" class="Bound">oldLedger</a> <a id="19066" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19066" class="Bound">evals</a>  <a id="19073" class="Symbol">=</a> <a id="19075" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18231" class="Function">stepEFAuxCompare</a> <a id="19092" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19056" class="Bound">oldLedger</a> <a id="19102" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19066" class="Bound">evals</a>
                                      <a id="19146" class="Symbol">(</a><a id="19147" href="libraries.natCompare.html#2249" class="Function">compareLeq</a> <a id="19158" class="Symbol">(</a><a id="19159" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="19163" class="Symbol">(</a><a id="19164" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14833" class="Function">stepEFgasNeeded</a> <a id="19180" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19066" class="Bound">evals</a><a id="19185" class="Symbol">))</a>
                                      <a id="19226" class="Symbol">(</a><a id="19227" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14501" class="Function">stepEFgasAvailable</a> <a id="19246" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19066" class="Bound">evals</a><a id="19251" class="Symbol">))</a>


<a id="19256" class="Comment">-- definition of stepEFntimes</a>
<a id="stepEFntimes"></a><a id="19286" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19286" class="Function">stepEFntimes</a> <a id="19299" class="Symbol">:</a> <a id="19301" href="libraries.Mainlibrary.html#1000" class="Function">Ledger</a> <a id="19308" class="Symbol">→</a> <a id="19310" href="libraries.Mainlibrary.html#1468" class="Record">StateExecFun</a> <a id="19323" class="Symbol">→</a> <a id="19325" class="Symbol">(</a><a id="19326" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19326" class="Bound">ntimes</a> <a id="19333" class="Symbol">:</a> <a id="19335" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="19336" class="Symbol">)</a> <a id="19338" class="Symbol">→</a> <a id="19340" href="libraries.Mainlibrary.html#1468" class="Record">StateExecFun</a>
<a id="19353" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19286" class="Function">stepEFntimes</a> <a id="19366" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19366" class="Bound">oldLedger</a> <a id="19376" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19376" class="Bound">ledgerstateexecfun</a> <a id="19395" class="Number">0</a>
             <a id="19410" class="Symbol">=</a> <a id="19412" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19376" class="Bound">ledgerstateexecfun</a>
<a id="19431" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19286" class="Function">stepEFntimes</a> <a id="19444" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19444" class="Bound">oldLedger</a> <a id="19454" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19454" class="Bound">ledgerstateexecfun</a> <a id="19473" class="Symbol">(</a><a id="19474" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="19478" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19478" class="Bound">n</a><a id="19479" class="Symbol">)</a>
             <a id="19494" class="Symbol">=</a> <a id="19496" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18955" class="Function">stepEFwithGasError</a> <a id="19515" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19444" class="Bound">oldLedger</a> <a id="19525" class="Symbol">(</a><a id="19526" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19286" class="Function">stepEFntimes</a> <a id="19539" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19444" class="Bound">oldLedger</a> <a id="19549" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19454" class="Bound">ledgerstateexecfun</a> <a id="19568" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19478" class="Bound">n</a><a id="19569" class="Symbol">)</a>
                   


<a id="19593" class="Comment">-- definition of stepEFntimes list</a>
<a id="stepEFntimesList"></a><a id="19628" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19628" class="Function">stepEFntimesList</a> <a id="19645" class="Symbol">:</a> <a id="19647" href="libraries.Mainlibrary.html#1000" class="Function">Ledger</a> <a id="19654" class="Symbol">→</a> <a id="19656" href="libraries.Mainlibrary.html#1468" class="Record">StateExecFun</a> <a id="19669" class="Symbol">→</a> <a id="19671" class="Symbol">(</a><a id="19672" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19672" class="Bound">ntimes</a> <a id="19679" class="Symbol">:</a> <a id="19681" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="19682" class="Symbol">)</a> <a id="19684" class="Symbol">→</a> <a id="19686" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="19691" href="libraries.Mainlibrary.html#1468" class="Record">StateExecFun</a>
<a id="19704" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19628" class="Function">stepEFntimesList</a> <a id="19721" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19721" class="Bound">oldLedger</a> <a id="19731" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19731" class="Bound">ledgerstateexecfun</a> <a id="19750" class="Number">0</a>
                 <a id="19769" class="Symbol">=</a> <a id="19771" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19731" class="Bound">ledgerstateexecfun</a> <a id="19790" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="19792" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
<a id="19795" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19628" class="Function">stepEFntimesList</a> <a id="19812" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19812" class="Bound">oldLedger</a> <a id="19822" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19822" class="Bound">ledgerstateexecfun</a> <a id="19841" class="Symbol">(</a><a id="19842" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="19846" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19846" class="Bound">n</a><a id="19847" class="Symbol">)</a>
                 <a id="19866" class="Symbol">=</a> <a id="19868" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19286" class="Function">stepEFntimes</a> <a id="19881" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19812" class="Bound">oldLedger</a> <a id="19891" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19822" class="Bound">ledgerstateexecfun</a> <a id="19910" class="Symbol">(</a><a id="19911" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="19915" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19846" class="Bound">n</a><a id="19916" class="Symbol">)</a>
                   <a id="19937" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="19939" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19628" class="Function">stepEFntimesList</a> <a id="19956" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19812" class="Bound">oldLedger</a> <a id="19966" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19822" class="Bound">ledgerstateexecfun</a> <a id="19985" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19846" class="Bound">n</a>

<a id="19988" class="Comment">--this function below we use it to refund as a part of septEF</a>
<a id="20050" class="Comment">---- we use stepEFwithGasError instead of stepEF in refund and stepEFntimesWithRefund</a>
<a id="refund"></a><a id="20136" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20136" class="Function">refund</a> <a id="20143" class="Symbol">:</a> <a id="20145" href="libraries.Mainlibrary.html#1468" class="Record">StateExecFun</a> <a id="20158" class="Symbol">→</a> <a id="20160" href="libraries.Mainlibrary.html#1468" class="Record">StateExecFun</a>
<a id="20173" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20136" class="Function">refund</a> <a id="20180" class="Symbol">(</a><a id="20181" href="libraries.Mainlibrary.html#1507" class="InductiveConstructor">stateEF</a> <a id="20189" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20189" class="Bound">currentLedger</a> <a id="20203" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="20206" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20206" class="Bound">initialAddr</a> <a id="20218" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20218" class="Bound">lastCallAddr</a> <a id="20231" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20231" class="Bound">calledAddr</a> <a id="20242" class="Symbol">(</a><a id="20243" href="Complex-Model.ccomand.ccommands-cresponse.html#1484" class="InductiveConstructor">return</a> <a id="20250" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20250" class="Bound">cost</a> <a id="20255" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20255" class="Bound">result</a><a id="20261" class="Symbol">)</a>
        <a id="20271" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20271" class="Bound">gasLeft</a>  <a id="20280" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20280" class="Bound">funNameevalState</a> <a id="20297" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20297" class="Bound">msgevalState</a><a id="20309" class="Symbol">)</a>
            <a id="20323" class="Symbol">=</a> <a id="20325" href="libraries.Mainlibrary.html#1507" class="InductiveConstructor">stateEF</a> <a id="20333" class="Symbol">(</a><a id="20334" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3338" class="Function">addWeiToLedger</a> <a id="20349" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20189" class="Bound">currentLedger</a> <a id="20363" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20218" class="Bound">lastCallAddr</a> <a id="20376" class="Symbol">(</a><a id="20377" href="constantparameters.html#599" class="Function">GastoWei</a> <a id="20386" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="20392" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20271" class="Bound">gasLeft</a><a id="20399" class="Symbol">))</a>
              <a id="20416" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="20419" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20206" class="Bound">initialAddr</a> <a id="20431" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20218" class="Bound">lastCallAddr</a> <a id="20444" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20231" class="Bound">calledAddr</a> <a id="20455" class="Symbol">(</a><a id="20456" href="Complex-Model.ccomand.ccommands-cresponse.html#1484" class="InductiveConstructor">return</a> <a id="20463" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20250" class="Bound">cost</a> <a id="20468" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20255" class="Bound">result</a><a id="20474" class="Symbol">)</a>
               <a id="20491" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20271" class="Bound">gasLeft</a>
               <a id="20514" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20280" class="Bound">funNameevalState</a> <a id="20531" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20297" class="Bound">msgevalState</a>
<a id="20544" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20136" class="CatchallClause Function">refund</a><a id="20550" class="CatchallClause"> </a><a id="20551" class="CatchallClause Symbol">(</a><a id="20552" href="libraries.Mainlibrary.html#1507" class="CatchallClause InductiveConstructor">stateEF</a><a id="20559" class="CatchallClause"> </a><a id="20560" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20560" class="CatchallClause Bound">currentLedger</a><a id="20573" class="CatchallClause"> </a><a id="20574" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20574" class="CatchallClause Bound">executionStack</a><a id="20588" class="CatchallClause"> </a><a id="20589" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20589" class="CatchallClause Bound">initialAddr</a><a id="20600" class="CatchallClause"> </a><a id="20601" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20601" class="CatchallClause Bound">lastCallAddr</a><a id="20613" class="CatchallClause"> </a><a id="20614" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20614" class="CatchallClause Bound">calledAddr</a>
       <a id="20632" class="CatchallClause Symbol">(</a><a id="20633" href="Complex-Model.ccomand.ccommands-cresponse.html#1523" class="CatchallClause InductiveConstructor">error</a><a id="20638" class="CatchallClause"> </a><a id="20639" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20639" class="CatchallClause Bound">errorMsg</a><a id="20647" class="CatchallClause"> </a><a id="20648" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20648" class="CatchallClause Bound">debugInfo</a><a id="20657" class="CatchallClause Symbol">)</a><a id="20658" class="CatchallClause"> </a><a id="20659" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20659" class="CatchallClause Bound">gasLeft</a><a id="20666" class="CatchallClause">  </a><a id="20668" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20668" class="CatchallClause Bound">funNameevalState</a><a id="20684" class="CatchallClause"> </a><a id="20685" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20685" class="CatchallClause Bound">msgevalState</a><a id="20697" class="CatchallClause Symbol">)</a>
            <a id="20711" class="Symbol">=</a> <a id="20713" href="libraries.Mainlibrary.html#1507" class="InductiveConstructor">stateEF</a> <a id="20721" class="Symbol">(</a><a id="20722" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3338" class="Function">addWeiToLedger</a> <a id="20737" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20560" class="Bound">currentLedger</a>  <a id="20752" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20601" class="Bound">lastCallAddr</a> <a id="20765" class="Symbol">(</a><a id="20766" href="constantparameters.html#599" class="Function">GastoWei</a> <a id="20775" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="20781" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20659" class="Bound">gasLeft</a><a id="20788" class="Symbol">))</a>
              <a id="20805" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20574" class="Bound">executionStack</a> <a id="20820" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20589" class="Bound">initialAddr</a> <a id="20832" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20601" class="Bound">lastCallAddr</a> <a id="20845" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20614" class="Bound">calledAddr</a>
              <a id="20870" class="Symbol">(</a><a id="20871" href="Complex-Model.ccomand.ccommands-cresponse.html#1523" class="InductiveConstructor">error</a> <a id="20877" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20639" class="Bound">errorMsg</a> <a id="20886" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20648" class="Bound">debugInfo</a><a id="20895" class="Symbol">)</a> <a id="20897" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20659" class="Bound">gasLeft</a>
               <a id="20920" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20668" class="Bound">funNameevalState</a> <a id="20937" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20685" class="Bound">msgevalState</a>
<a id="20950" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20136" class="CatchallClause Function">refund</a><a id="20956" class="CatchallClause"> </a><a id="20957" class="CatchallClause Symbol">(</a><a id="20958" href="libraries.Mainlibrary.html#1507" class="CatchallClause InductiveConstructor">stateEF</a><a id="20965" class="CatchallClause"> </a><a id="20966" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20966" class="CatchallClause Bound">ledger</a><a id="20972" class="CatchallClause"> </a><a id="20973" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20973" class="CatchallClause Bound">executionStack</a><a id="20987" class="CatchallClause"> </a><a id="20988" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20988" class="CatchallClause Bound">initialAddr</a><a id="20999" class="CatchallClause"> </a><a id="21000" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21000" class="CatchallClause Bound">lastCallAddr</a><a id="21012" class="CatchallClause"> </a><a id="21013" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21013" class="CatchallClause Bound">calledAddr</a>
        <a id="21032" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21032" class="CatchallClause Bound">nextstep</a><a id="21040" class="CatchallClause"> </a><a id="21041" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21041" class="CatchallClause Bound">gasLeft</a><a id="21048" class="CatchallClause">  </a><a id="21050" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21050" class="CatchallClause Bound">funNameevalState</a><a id="21066" class="CatchallClause"> </a><a id="21067" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21067" class="CatchallClause Bound">msgevalState</a><a id="21079" class="CatchallClause Symbol">)</a>
            <a id="21093" class="Symbol">=</a> <a id="21095" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18955" class="Function">stepEFwithGasError</a> <a id="21114" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20966" class="Bound">ledger</a> <a id="21121" class="Symbol">(</a><a id="21122" href="libraries.Mainlibrary.html#1507" class="InductiveConstructor">stateEF</a> <a id="21130" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20966" class="Bound">ledger</a> <a id="21137" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20973" class="Bound">executionStack</a>
              <a id="21166" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20988" class="Bound">initialAddr</a> <a id="21178" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21000" class="Bound">lastCallAddr</a> <a id="21191" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21013" class="Bound">calledAddr</a> <a id="21202" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21032" class="Bound">nextstep</a> <a id="21211" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21041" class="Bound">gasLeft</a>
                <a id="21235" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21050" class="Bound">funNameevalState</a> <a id="21252" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21067" class="Bound">msgevalState</a><a id="21264" class="Symbol">)</a>


<a id="stepEFntimesWithRefund"></a><a id="21268" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21268" class="Function">stepEFntimesWithRefund</a> <a id="21291" class="Symbol">:</a> <a id="21293" href="libraries.Mainlibrary.html#1000" class="Function">Ledger</a> <a id="21300" class="Symbol">→</a> <a id="21302" href="libraries.Mainlibrary.html#1468" class="Record">StateExecFun</a> <a id="21315" class="Symbol">→</a> <a id="21317" class="Symbol">(</a><a id="21318" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21318" class="Bound">ntimes</a> <a id="21325" class="Symbol">:</a> <a id="21327" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="21328" class="Symbol">)</a> <a id="21330" class="Symbol">→</a> <a id="21332" href="libraries.Mainlibrary.html#1468" class="Record">StateExecFun</a>
<a id="21345" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21268" class="Function">stepEFntimesWithRefund</a> <a id="21368" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21368" class="Bound">oldLedger</a> <a id="21378" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21378" class="Bound">ledgerstateexecfun</a> <a id="21397" class="Number">0</a>
                       <a id="21422" class="Symbol">=</a> <a id="21424" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21378" class="Bound">ledgerstateexecfun</a>
<a id="21443" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21268" class="Function">stepEFntimesWithRefund</a> <a id="21466" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21466" class="Bound">oldLedger</a> <a id="21476" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21476" class="Bound">ledgerstateexecfun</a> <a id="21495" class="Symbol">(</a><a id="21496" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="21500" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21500" class="Bound">n</a><a id="21501" class="Symbol">)</a>
                       <a id="21526" class="Symbol">=</a> <a id="21528" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20136" class="Function">refund</a> <a id="21535" class="Symbol">(</a><a id="21536" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19286" class="Function">stepEFntimes</a> <a id="21549" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21466" class="Bound">oldLedger</a> <a id="21559" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21476" class="Bound">ledgerstateexecfun</a> <a id="21578" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21500" class="Bound">n</a><a id="21579" class="Symbol">)</a>


<a id="21583" class="Comment">---## similar to above but we use it with the new version of stepEFwithGasError</a>
<a id="21663" class="Comment">--initialAddr lastCallAddr calledAddr</a>
<a id="stepLedgerFunntimesAux"></a><a id="21701" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21701" class="Function">stepLedgerFunntimesAux</a> <a id="21724" class="Symbol">:</a> <a id="21726" class="Symbol">(</a><a id="21727" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21727" class="Bound">ledger</a> <a id="21734" class="Symbol">:</a> <a id="21736" href="libraries.Mainlibrary.html#1000" class="Function">Ledger</a><a id="21742" class="Symbol">)</a> <a id="21744" class="Symbol">→</a> <a id="21746" class="Symbol">(</a><a id="21747" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21747" class="Bound">initialAddr</a> <a id="21759" class="Symbol">:</a> <a id="21761" href="basicDataStructure.html#388" class="Function">Address</a><a id="21768" class="Symbol">)</a> <a id="21770" class="Symbol">→</a> <a id="21772" class="Symbol">(</a><a id="21773" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21773" class="Bound">lastCallAddr</a> <a id="21786" class="Symbol">:</a> <a id="21788" href="basicDataStructure.html#388" class="Function">Address</a><a id="21795" class="Symbol">)</a> <a id="21797" class="Symbol">→</a> <a id="21799" class="Symbol">(</a><a id="21800" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21800" class="Bound">calledAddr</a> <a id="21811" class="Symbol">:</a> <a id="21813" href="basicDataStructure.html#388" class="Function">Address</a><a id="21820" class="Symbol">)</a> <a id="21822" class="Symbol">→</a> <a id="21824" href="basicDataStructure.html#172" class="Function">FunctionName</a>
                        <a id="21861" class="Symbol">→</a> <a id="21863" href="basicDataStructure.html#489" class="Datatype">Msg</a>  <a id="21868" class="Symbol">→</a> <a id="21870" class="Symbol">(</a><a id="21871" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21871" class="Bound">gascost</a> <a id="21879" class="Symbol">:</a> <a id="21881" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="21882" class="Symbol">)</a>  <a id="21885" class="Symbol">→</a> <a id="21887" class="Symbol">(</a><a id="21888" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21888" class="Bound">ntimes</a> <a id="21895" class="Symbol">:</a> <a id="21897" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="21898" class="Symbol">)</a>
                        <a id="21924" class="Symbol">→</a> <a id="21926" class="Symbol">(</a><a id="21927" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21927" class="Bound">cp</a>  <a id="21931" class="Symbol">:</a> <a id="21933" href="libraries.natCompare.html#1049" class="Datatype">OrderingLeq</a> <a id="21945" class="Symbol">(</a><a id="21946" href="constantparameters.html#599" class="Function">GastoWei</a> <a id="21955" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="21961" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21871" class="Bound">gascost</a><a id="21968" class="Symbol">)</a> <a id="21970" class="Symbol">(</a><a id="21971" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21727" class="Bound">ledger</a> <a id="21978" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21773" class="Bound">lastCallAddr</a> <a id="21991" class="Symbol">.</a><a id="21992" href="libraries.Mainlibrary.html#795" class="Field">amount</a><a id="21998" class="Symbol">))</a>
                        <a id="22025" class="Symbol">→</a> <a id="22027" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="22033" href="libraries.Mainlibrary.html#1468" class="Record">StateExecFun</a>
<a id="22046" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21701" class="Function">stepLedgerFunntimesAux</a> <a id="22069" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22069" class="Bound">ledger</a> <a id="22076" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22076" class="Bound">initialAddr</a> <a id="22088" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22088" class="Bound">lastCallAddr</a> <a id="22101" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22101" class="Bound">calledAddr</a> <a id="22112" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22112" class="Bound">funname</a> <a id="22120" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22120" class="Bound">msg</a> <a id="22124" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22124" class="Bound">gascost</a>  <a id="22133" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22133" class="Bound">ntimes</a>  <a id="22141" class="Symbol">(</a><a id="22142" href="libraries.natCompare.html#1087" class="InductiveConstructor">leq</a> <a id="22146" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22146" class="Bound">leqpro</a><a id="22152" class="Symbol">)</a>
                             <a id="22183" class="Symbol">=</a> <a id="22185" class="Keyword">let</a>
                                 <a id="22222" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22222" class="Bound">ledgerDeducted</a> <a id="22237" class="Symbol">:</a> <a id="22239" href="libraries.Mainlibrary.html#1000" class="Function">Ledger</a>
                                 <a id="22279" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22222" class="Bound">ledgerDeducted</a> <a id="22294" class="Symbol">=</a> <a id="22296" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2508" class="Function">deductGasFromLedger</a> <a id="22316" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22069" class="Bound">ledger</a> <a id="22323" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22088" class="Bound">lastCallAddr</a> <a id="22336" class="Symbol">(</a><a id="22337" href="constantparameters.html#599" class="Function">GastoWei</a> <a id="22346" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="22352" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22124" class="Bound">gascost</a><a id="22359" class="Symbol">)</a> <a id="22361" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22146" class="Bound">leqpro</a>
                               <a id="22399" class="Keyword">in</a> <a id="22402" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="22407" class="Symbol">(</a><a id="22408" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19286" class="Function">stepEFntimes</a> <a id="22421" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22222" class="Bound">ledgerDeducted</a>
                               <a id="22467" class="Symbol">(</a><a id="22468" href="libraries.Mainlibrary.html#1507" class="InductiveConstructor">stateEF</a> <a id="22476" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22222" class="Bound">ledgerDeducted</a> <a id="22491" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="22494" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22076" class="Bound">initialAddr</a> <a id="22506" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22088" class="Bound">lastCallAddr</a> <a id="22519" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22101" class="Bound">calledAddr</a>
                               <a id="22561" class="Symbol">(</a><a id="22562" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22222" class="Bound">ledgerDeducted</a> <a id="22577" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22101" class="Bound">calledAddr</a> <a id="22588" class="Symbol">.</a><a id="22589" href="libraries.Mainlibrary.html#815" class="Field">fun</a> <a id="22593" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22112" class="Bound">funname</a> <a id="22601" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22120" class="Bound">msg</a><a id="22604" class="Symbol">)</a>
                               <a id="22637" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22124" class="Bound">gascost</a> <a id="22645" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22112" class="Bound">funname</a> <a id="22653" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22120" class="Bound">msg</a><a id="22656" class="Symbol">)</a>
                               <a id="22689" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22133" class="Bound">ntimes</a><a id="22695" class="Symbol">)</a>

<a id="22698" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21701" class="Function">stepLedgerFunntimesAux</a> <a id="22721" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22721" class="Bound">ledger</a> <a id="22728" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22728" class="Bound">initialAddr</a> <a id="22740" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22740" class="Bound">lastCallAddr</a> <a id="22753" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22753" class="Bound">calledAddr</a> <a id="22764" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22764" class="Bound">funname</a> <a id="22772" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22772" class="Bound">msg</a> <a id="22776" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22776" class="Bound">gascost</a> <a id="22784" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22784" class="Bound">ntimes</a> <a id="22791" class="Symbol">(</a><a id="22792" href="libraries.natCompare.html#1125" class="InductiveConstructor">greater</a> <a id="22800" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22800" class="Bound">greaterpro</a><a id="22810" class="Symbol">)</a>
                             <a id="22841" class="Symbol">=</a> <a id="22843" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

<a id="22852" class="Comment">--stepLedgerFunntimesAux ledger callAddr currentAddr funname msg gasreserved ntimes</a>
<a id="22936" class="Comment">--                       (compareLeq (GastoWei param gasreserved) (ledger callAddr .amount))</a>
<a id="23029" class="Comment">-- NNN here we need before running stepEFntimes  deduct the gas from ledger</a>
<a id="23105" class="Comment">-- NNN    it needs as argument just one gas parameter which is set to both oldgas and newgas</a>
<a id="23198" class="Comment">-- NNN    if there is not enough money in the account, then we should fail (not an error but fail)</a>
<a id="23297" class="Comment">-- NNN    so return type  should be Maybe EvalState</a>

<a id="stepLedgerFunntimes"></a><a id="23350" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23350" class="Function">stepLedgerFunntimes</a> <a id="23370" class="Symbol">:</a> <a id="23372" class="Symbol">(</a><a id="23373" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23373" class="Bound">ledger</a> <a id="23380" class="Symbol">:</a> <a id="23382" href="libraries.Mainlibrary.html#1000" class="Function">Ledger</a><a id="23388" class="Symbol">)</a>
                      <a id="23412" class="Symbol">→</a> <a id="23414" class="Symbol">(</a><a id="23415" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23415" class="Bound">initialAddr</a> <a id="23427" class="Symbol">:</a> <a id="23429" href="basicDataStructure.html#388" class="Function">Address</a><a id="23436" class="Symbol">)</a>
                      <a id="23460" class="Symbol">→</a> <a id="23462" class="Symbol">(</a><a id="23463" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23463" class="Bound">lastCallAddr</a> <a id="23476" class="Symbol">:</a> <a id="23478" href="basicDataStructure.html#388" class="Function">Address</a><a id="23485" class="Symbol">)</a>
                      <a id="23509" class="Symbol">→</a> <a id="23511" class="Symbol">(</a><a id="23512" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23512" class="Bound">calledAddr</a> <a id="23523" class="Symbol">:</a> <a id="23525" href="basicDataStructure.html#388" class="Function">Address</a><a id="23532" class="Symbol">)</a>
                      <a id="23556" class="Symbol">→</a> <a id="23558" href="basicDataStructure.html#172" class="Function">FunctionName</a>
                      <a id="23593" class="Symbol">→</a> <a id="23595" href="basicDataStructure.html#489" class="Datatype">Msg</a>
                      <a id="23621" class="Symbol">→</a> <a id="23623" class="Symbol">(</a><a id="23624" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23624" class="Bound">gasreserved</a> <a id="23636" class="Symbol">:</a> <a id="23638" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="23639" class="Symbol">)</a>

                      <a id="23664" class="Symbol">→</a> <a id="23666" class="Symbol">(</a><a id="23667" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23667" class="Bound">ntimes</a> <a id="23674" class="Symbol">:</a> <a id="23676" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="23677" class="Symbol">)</a>
                      <a id="23701" class="Symbol">→</a> <a id="23703" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="23709" href="libraries.Mainlibrary.html#1468" class="Record">StateExecFun</a>
<a id="23722" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23350" class="Function">stepLedgerFunntimes</a> <a id="23742" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23742" class="Bound">ledger</a> <a id="23749" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23749" class="Bound">initialAddr</a> <a id="23761" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23761" class="Bound">lastCallAddr</a> <a id="23774" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23774" class="Bound">calledAddr</a> <a id="23785" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23785" class="Bound">funname</a> <a id="23793" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23793" class="Bound">msg</a> <a id="23797" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23797" class="Bound">gasreserved</a>  <a id="23810" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23810" class="Bound">ntimes</a>
                     <a id="23838" class="Symbol">=</a> <a id="23840" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21701" class="Function">stepLedgerFunntimesAux</a> <a id="23863" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23742" class="Bound">ledger</a> <a id="23870" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23749" class="Bound">initialAddr</a> <a id="23882" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23761" class="Bound">lastCallAddr</a> <a id="23895" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23774" class="Bound">calledAddr</a>
                       <a id="23929" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23785" class="Bound">funname</a> <a id="23937" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23793" class="Bound">msg</a> <a id="23941" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23797" class="Bound">gasreserved</a>  <a id="23954" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23810" class="Bound">ntimes</a>
                       <a id="23984" class="Symbol">(</a><a id="23985" href="libraries.natCompare.html#2249" class="Function">compareLeq</a> <a id="23996" class="Symbol">(</a><a id="23997" href="constantparameters.html#599" class="Function">GastoWei</a> <a id="24006" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="24012" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23797" class="Bound">gasreserved</a><a id="24023" class="Symbol">)</a> <a id="24025" class="Symbol">(</a><a id="24026" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23742" class="Bound">ledger</a> <a id="24033" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23761" class="Bound">lastCallAddr</a> <a id="24046" class="Symbol">.</a><a id="24047" href="libraries.Mainlibrary.html#795" class="Field">amount</a><a id="24053" class="Symbol">))</a>


<a id="24058" class="Comment">--with list</a>
<a id="stepLedgerFunntimesListAux"></a><a id="24070" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24070" class="Function">stepLedgerFunntimesListAux</a> <a id="24097" class="Symbol">:</a> <a id="24099" class="Symbol">(</a><a id="24100" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24100" class="Bound">ledger</a> <a id="24107" class="Symbol">:</a> <a id="24109" href="libraries.Mainlibrary.html#1000" class="Function">Ledger</a><a id="24115" class="Symbol">)</a>
                           <a id="24144" class="Symbol">→</a> <a id="24146" class="Symbol">(</a><a id="24147" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24147" class="Bound">initialAddr</a> <a id="24159" class="Symbol">:</a> <a id="24161" href="basicDataStructure.html#388" class="Function">Address</a><a id="24168" class="Symbol">)</a>
                           <a id="24197" class="Symbol">→</a> <a id="24199" class="Symbol">(</a><a id="24200" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24200" class="Bound">lastCallAddr</a> <a id="24213" class="Symbol">:</a> <a id="24215" href="basicDataStructure.html#388" class="Function">Address</a><a id="24222" class="Symbol">)</a>
                           <a id="24251" class="Symbol">→</a> <a id="24253" class="Symbol">(</a><a id="24254" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24254" class="Bound">calledAddr</a> <a id="24265" class="Symbol">:</a> <a id="24267" href="basicDataStructure.html#388" class="Function">Address</a><a id="24274" class="Symbol">)</a>
                           <a id="24303" class="Symbol">→</a> <a id="24305" href="basicDataStructure.html#172" class="Function">FunctionName</a>
                           <a id="24345" class="Symbol">→</a> <a id="24347" href="basicDataStructure.html#489" class="Datatype">Msg</a>
                           <a id="24378" class="Symbol">→</a> <a id="24380" class="Symbol">(</a><a id="24381" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24381" class="Bound">gasreserved</a> <a id="24393" class="Symbol">:</a> <a id="24395" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="24396" class="Symbol">)</a>

                           <a id="24426" class="Symbol">→</a> <a id="24428" class="Symbol">(</a><a id="24429" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24429" class="Bound">ntimes</a> <a id="24436" class="Symbol">:</a> <a id="24438" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="24439" class="Symbol">)</a>
                           <a id="24468" class="Symbol">→</a> <a id="24470" class="Symbol">(</a><a id="24471" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24471" class="Bound">cp</a>  <a id="24475" class="Symbol">:</a> <a id="24477" href="libraries.natCompare.html#1049" class="Datatype">OrderingLeq</a> <a id="24489" class="Symbol">(</a><a id="24490" href="constantparameters.html#599" class="Function">GastoWei</a> <a id="24499" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="24505" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24381" class="Bound">gasreserved</a><a id="24516" class="Symbol">)</a> <a id="24518" class="Symbol">(</a><a id="24519" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24100" class="Bound">ledger</a> <a id="24526" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24200" class="Bound">lastCallAddr</a> <a id="24539" class="Symbol">.</a><a id="24540" href="libraries.Mainlibrary.html#795" class="Field">amount</a><a id="24546" class="Symbol">))</a>
                           <a id="24576" class="Symbol">→</a> <a id="24578" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="24584" class="Symbol">(</a><a id="24585" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="24590" href="libraries.Mainlibrary.html#1468" class="Record">StateExecFun</a><a id="24602" class="Symbol">)</a>
<a id="24604" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24070" class="Function">stepLedgerFunntimesListAux</a> <a id="24631" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24631" class="Bound">ledger</a> <a id="24638" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24638" class="Bound">initialAddr</a> <a id="24650" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24650" class="Bound">lastCallAddr</a> <a id="24663" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24663" class="Bound">calledAddr</a> <a id="24674" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24674" class="Bound">funname</a> <a id="24682" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24682" class="Bound">msg</a> <a id="24686" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24686" class="Bound">gasreserved</a>  <a id="24699" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24699" class="Bound">ntimes</a> <a id="24706" class="Symbol">(</a><a id="24707" href="libraries.natCompare.html#1087" class="InductiveConstructor">leq</a> <a id="24711" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24711" class="Bound">leqpro</a><a id="24717" class="Symbol">)</a>
                            <a id="24747" class="Symbol">=</a> <a id="24749" class="Keyword">let</a>
                               <a id="24784" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24784" class="Bound">ledgerDeducted</a> <a id="24799" class="Symbol">:</a> <a id="24801" href="libraries.Mainlibrary.html#1000" class="Function">Ledger</a>
                               <a id="24839" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24784" class="Bound">ledgerDeducted</a> <a id="24854" class="Symbol">=</a> <a id="24856" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2508" class="Function">deductGasFromLedger</a> <a id="24876" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24631" class="Bound">ledger</a> <a id="24883" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24650" class="Bound">lastCallAddr</a> <a id="24896" class="Symbol">(</a><a id="24897" href="constantparameters.html#599" class="Function">GastoWei</a> <a id="24906" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="24912" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24686" class="Bound">gasreserved</a><a id="24923" class="Symbol">)</a> <a id="24925" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24711" class="Bound">leqpro</a>
                            <a id="24960" class="Keyword">in</a>
                              <a id="24993" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="24998" class="Symbol">(</a><a id="24999" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19628" class="Function">stepEFntimesList</a> <a id="25016" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24784" class="Bound">ledgerDeducted</a>
                                   <a id="25066" class="Symbol">(</a><a id="25067" href="libraries.Mainlibrary.html#1507" class="InductiveConstructor">stateEF</a> <a id="25075" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24784" class="Bound">ledgerDeducted</a> <a id="25090" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="25093" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24638" class="Bound">initialAddr</a> <a id="25105" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24650" class="Bound">lastCallAddr</a> <a id="25118" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24663" class="Bound">calledAddr</a>
                                   <a id="25164" class="Symbol">(</a><a id="25165" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24784" class="Bound">ledgerDeducted</a> <a id="25180" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24663" class="Bound">calledAddr</a> <a id="25191" class="Symbol">.</a><a id="25192" href="libraries.Mainlibrary.html#815" class="Field">fun</a> <a id="25196" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24674" class="Bound">funname</a> <a id="25204" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24682" class="Bound">msg</a><a id="25207" class="Symbol">)</a> <a id="25209" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24686" class="Bound">gasreserved</a> <a id="25221" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24674" class="Bound">funname</a> <a id="25229" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24682" class="Bound">msg</a><a id="25232" class="Symbol">)</a> <a id="25234" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24699" class="Bound">ntimes</a><a id="25240" class="Symbol">)</a>
<a id="25242" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24070" class="Function">stepLedgerFunntimesListAux</a> <a id="25269" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25269" class="Bound">ledger</a> <a id="25276" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25276" class="Bound">initialAddr</a> <a id="25288" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25288" class="Bound">lastCallAddr</a> <a id="25301" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25301" class="Bound">calledAddr</a> <a id="25312" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25312" class="Bound">funname</a> <a id="25320" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25320" class="Bound">msg</a> <a id="25324" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25324" class="Bound">gasreserved</a> <a id="25336" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25336" class="Bound">ntimes</a> <a id="25343" class="Symbol">(</a><a id="25344" href="libraries.natCompare.html#1125" class="InductiveConstructor">greater</a> <a id="25352" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25352" class="Bound">greaterpro</a><a id="25362" class="Symbol">)</a>
                            <a id="25392" class="Symbol">=</a> <a id="25394" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>


<a id="stepLedgerFunntimesList"></a><a id="25404" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25404" class="Function">stepLedgerFunntimesList</a> <a id="25428" class="Symbol">:</a> <a id="25430" class="Symbol">(</a><a id="25431" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25431" class="Bound">ledger</a> <a id="25438" class="Symbol">:</a> <a id="25440" href="libraries.Mainlibrary.html#1000" class="Function">Ledger</a><a id="25446" class="Symbol">)</a>
                          <a id="25474" class="Symbol">→</a> <a id="25476" class="Symbol">(</a><a id="25477" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25477" class="Bound">initialAddr</a> <a id="25489" class="Symbol">:</a> <a id="25491" href="basicDataStructure.html#388" class="Function">Address</a><a id="25498" class="Symbol">)</a>
                          <a id="25526" class="Symbol">→</a> <a id="25528" class="Symbol">(</a><a id="25529" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25529" class="Bound">lastCallAddr</a> <a id="25542" class="Symbol">:</a> <a id="25544" href="basicDataStructure.html#388" class="Function">Address</a><a id="25551" class="Symbol">)</a>
                          <a id="25579" class="Symbol">→</a> <a id="25581" class="Symbol">(</a><a id="25582" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25582" class="Bound">calledAddr</a> <a id="25593" class="Symbol">:</a> <a id="25595" href="basicDataStructure.html#388" class="Function">Address</a><a id="25602" class="Symbol">)</a>
                          <a id="25630" class="Symbol">→</a> <a id="25632" class="Symbol">(</a><a id="25633" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25633" class="Bound">funname</a> <a id="25641" class="Symbol">:</a> <a id="25643" href="basicDataStructure.html#172" class="Function">FunctionName</a><a id="25655" class="Symbol">)</a>
                          <a id="25683" class="Symbol">→</a> <a id="25685" class="Symbol">(</a><a id="25686" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25686" class="Bound">msg</a> <a id="25690" class="Symbol">:</a> <a id="25692" href="basicDataStructure.html#489" class="Datatype">Msg</a><a id="25695" class="Symbol">)</a>
                          <a id="25723" class="Symbol">→</a> <a id="25725" class="Symbol">(</a><a id="25726" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25726" class="Bound">gasreserved</a> <a id="25738" class="Symbol">:</a> <a id="25740" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="25741" class="Symbol">)</a>

                          <a id="25770" class="Symbol">→</a> <a id="25772" class="Symbol">(</a><a id="25773" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25773" class="Bound">ntimes</a> <a id="25780" class="Symbol">:</a> <a id="25782" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="25783" class="Symbol">)</a>
                          <a id="25811" class="Symbol">→</a> <a id="25813" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="25819" class="Symbol">(</a><a id="25820" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="25825" href="libraries.Mainlibrary.html#1468" class="Record">StateExecFun</a><a id="25837" class="Symbol">)</a>
<a id="25839" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25404" class="Function">stepLedgerFunntimesList</a> <a id="25863" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25863" class="Bound">ledger</a> <a id="25870" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25870" class="Bound">initialAddr</a> <a id="25882" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25882" class="Bound">lastCallAddr</a> <a id="25895" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25895" class="Bound">calledAddr</a> <a id="25906" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25906" class="Bound">funname</a> <a id="25914" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25914" class="Bound">msg</a> <a id="25918" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25918" class="Bound">gasreserved</a>  <a id="25931" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25931" class="Bound">ntimes</a>
                        <a id="25962" class="Symbol">=</a> <a id="25964" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24070" class="Function">stepLedgerFunntimesListAux</a> <a id="25991" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25863" class="Bound">ledger</a> <a id="25998" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25870" class="Bound">initialAddr</a> <a id="26010" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25882" class="Bound">lastCallAddr</a> <a id="26023" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25895" class="Bound">calledAddr</a> <a id="26034" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25906" class="Bound">funname</a> <a id="26042" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25914" class="Bound">msg</a> <a id="26046" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25918" class="Bound">gasreserved</a>  <a id="26059" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25931" class="Bound">ntimes</a>
                       <a id="26089" class="Symbol">(</a><a id="26090" href="libraries.natCompare.html#2249" class="Function">compareLeq</a> <a id="26101" class="Symbol">(</a><a id="26102" href="constantparameters.html#599" class="Function">GastoWei</a> <a id="26111" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="26117" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25918" class="Bound">gasreserved</a><a id="26128" class="Symbol">)</a> <a id="26130" class="Symbol">(</a><a id="26131" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25863" class="Bound">ledger</a> <a id="26138" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25882" class="Bound">lastCallAddr</a> <a id="26151" class="Symbol">.</a><a id="26152" href="libraries.Mainlibrary.html#795" class="Field">amount</a><a id="26158" class="Symbol">))</a>





<a id="26166" class="Comment">--clear version of evaluateNonTerminating&#39;</a>
<a id="26209" class="Comment">-- the below is the final step and we use it to solve the return cost</a>

<a id="evaluateAuxfinal0&#39;"></a><a id="26280" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26280" class="Function">evaluateAuxfinal0&#39;</a> <a id="26299" class="Symbol">:</a> <a id="26301" class="Symbol">(</a><a id="26302" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26302" class="Bound">oldLedger</a> <a id="26312" class="Symbol">:</a> <a id="26314" href="libraries.Mainlibrary.html#1000" class="Function">Ledger</a><a id="26320" class="Symbol">)</a>
                          <a id="26348" class="Symbol">→</a> <a id="26350" class="Symbol">(</a><a id="26351" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26351" class="Bound">currentLedger</a> <a id="26365" class="Symbol">:</a> <a id="26367" href="libraries.Mainlibrary.html#1000" class="Function">Ledger</a><a id="26373" class="Symbol">)</a>
                          <a id="26401" class="Symbol">→</a> <a id="26403" class="Symbol">(</a><a id="26404" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26404" class="Bound">initialAddr</a> <a id="26416" class="Symbol">:</a> <a id="26418" href="basicDataStructure.html#388" class="Function">Address</a><a id="26425" class="Symbol">)</a>
                          <a id="26453" class="Symbol">→</a> <a id="26455" class="Symbol">(</a><a id="26456" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26456" class="Bound">lastCallAddr</a> <a id="26469" class="Symbol">:</a> <a id="26471" href="basicDataStructure.html#388" class="Function">Address</a><a id="26478" class="Symbol">)</a>
                          <a id="26506" class="Symbol">→</a> <a id="26508" class="Symbol">(</a><a id="26509" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26509" class="Bound">calledAddr</a> <a id="26520" class="Symbol">:</a> <a id="26522" href="basicDataStructure.html#388" class="Function">Address</a><a id="26529" class="Symbol">)</a>
                          <a id="26557" class="Symbol">→</a> <a id="26559" class="Symbol">(</a><a id="26560" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26560" class="Bound">cost</a> <a id="26565" class="Symbol">:</a> <a id="26567" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="26568" class="Symbol">)</a>
                          <a id="26596" class="Symbol">→</a> <a id="26598" class="Symbol">(</a><a id="26599" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26599" class="Bound">returnvalue</a> <a id="26611" class="Symbol">:</a> <a id="26613" href="basicDataStructure.html#489" class="Datatype">Msg</a><a id="26616" class="Symbol">)</a>
                          <a id="26644" class="Symbol">→</a> <a id="26646" class="Symbol">(</a><a id="26647" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26647" class="Bound">gasLeft</a> <a id="26655" class="Symbol">:</a> <a id="26657" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="26658" class="Symbol">)</a>
                          <a id="26686" class="Symbol">→</a> <a id="26688" class="Symbol">(</a><a id="26689" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26689" class="Bound">funNameevalState</a> <a id="26706" class="Symbol">:</a> <a id="26708" href="basicDataStructure.html#172" class="Function">FunctionName</a><a id="26720" class="Symbol">)</a>
                          <a id="26748" class="Symbol">→</a> <a id="26750" class="Symbol">(</a><a id="26751" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26751" class="Bound">msgevalState</a> <a id="26764" class="Symbol">:</a> <a id="26766" href="basicDataStructure.html#489" class="Datatype">Msg</a><a id="26769" class="Symbol">)</a>
                          <a id="26797" class="Symbol">→</a> <a id="26799" class="Symbol">(</a><a id="26800" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26800" class="Bound">cp</a>  <a id="26804" class="Symbol">:</a> <a id="26806" href="libraries.natCompare.html#1049" class="Datatype">OrderingLeq</a> <a id="26818" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26560" class="Bound">cost</a> <a id="26823" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26647" class="Bound">gasLeft</a><a id="26830" class="Symbol">)</a>
                          <a id="26858" class="Symbol">→</a> <a id="26860" class="Symbol">(</a><a id="26861" href="libraries.Mainlibrary.html#1000" class="Function">Ledger</a> <a id="26868" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="26870" href="basicDataStructure.html#1660" class="Record">MsgOrErrorWithGas</a><a id="26887" class="Symbol">)</a>
<a id="26889" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26280" class="Function">evaluateAuxfinal0&#39;</a> <a id="26908" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26908" class="Bound">oldLedger</a> <a id="26918" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26918" class="Bound">currentLedger</a> <a id="26932" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26932" class="Bound">initialAddr</a> <a id="26944" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26944" class="Bound">lastCallAddr</a> <a id="26957" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26957" class="Bound">calledAddr</a> <a id="26968" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26968" class="Bound">cost</a> <a id="26973" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26973" class="Bound">ms</a> <a id="26976" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26976" class="Bound">gasLeft</a> <a id="26984" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26984" class="Bound">funNameevalState</a> <a id="27001" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27001" class="Bound">msgevalState</a> <a id="27014" class="Symbol">(</a><a id="27015" href="libraries.natCompare.html#1087" class="InductiveConstructor">leq</a> <a id="27019" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27019" class="Bound">x</a><a id="27020" class="Symbol">)</a>
                               <a id="27053" class="Symbol">=</a>  <a id="27056" class="Symbol">(</a><a id="27057" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3338" class="Function">addWeiToLedger</a> <a id="27072" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26918" class="Bound">currentLedger</a> <a id="27086" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26932" class="Bound">initialAddr</a>
                                   <a id="27133" class="Symbol">(</a><a id="27134" href="constantparameters.html#599" class="Function">GastoWei</a> <a id="27143" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="27149" class="Symbol">(</a><a id="27150" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26976" class="Bound">gasLeft</a> <a id="27158" href="Agda.Builtin.Nat.html#426" class="Primitive Operator">-</a> <a id="27160" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26968" class="Bound">cost</a><a id="27164" class="Symbol">)))</a> <a id="27168" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a> <a id="27171" class="Symbol">(</a><a id="27172" href="basicDataStructure.html#1512" class="InductiveConstructor">theMsg</a> <a id="27179" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26973" class="Bound">ms</a> <a id="27182" href="basicDataStructure.html#1711" class="InductiveConstructor Operator">,</a> <a id="27184" class="Symbol">(</a><a id="27185" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26976" class="Bound">gasLeft</a> <a id="27193" href="Agda.Builtin.Nat.html#426" class="Primitive Operator">-</a> <a id="27195" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26968" class="Bound">cost</a><a id="27199" class="Symbol">)</a> <a id="27201" href="basicDataStructure.html#1711" class="InductiveConstructor Operator">gas</a><a id="27204" class="Symbol">)</a>

<a id="27207" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26280" class="Function">evaluateAuxfinal0&#39;</a> <a id="27226" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27226" class="Bound">oldLedger</a> <a id="27236" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27236" class="Bound">currentLedger</a> <a id="27250" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27250" class="Bound">initialAddr</a> <a id="27262" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27262" class="Bound">lastCallAddr</a> <a id="27275" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27275" class="Bound">calledAddr</a> <a id="27286" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27286" class="Bound">cost</a> <a id="27291" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27291" class="Bound">returnvalue</a> <a id="27303" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27303" class="Bound">gasLeft</a> <a id="27311" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27311" class="Bound">funNameevalState</a> <a id="27328" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27328" class="Bound">msgevalState</a> <a id="27341" class="Symbol">(</a><a id="27342" href="libraries.natCompare.html#1125" class="InductiveConstructor">greater</a> <a id="27350" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27350" class="Bound">x</a><a id="27351" class="Symbol">)</a>
                               <a id="27384" class="Symbol">=</a> <a id="27386" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27226" class="Bound">oldLedger</a> <a id="27396" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a> <a id="27399" class="Symbol">((</a><a id="27401" href="basicDataStructure.html#1540" class="InductiveConstructor">err</a> <a id="27405" class="Symbol">(</a><a id="27406" href="basicDataStructure.html#646" class="InductiveConstructor">strErr</a> <a id="27413" class="String">&quot; Out Of Gas&quot;</a><a id="27426" class="Symbol">)</a> <a id="27428" href="basicDataStructure.html#832" class="InductiveConstructor Operator">⟨</a> <a id="27430" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27262" class="Bound">lastCallAddr</a> <a id="27443" href="basicDataStructure.html#832" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="27446" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27250" class="Bound">initialAddr</a> <a id="27458" href="basicDataStructure.html#832" class="InductiveConstructor Operator">∙</a> <a id="27460" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27311" class="Bound">funNameevalState</a> <a id="27477" href="basicDataStructure.html#832" class="InductiveConstructor Operator">[</a> <a id="27479" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27328" class="Bound">msgevalState</a> <a id="27492" href="basicDataStructure.html#832" class="InductiveConstructor Operator">]⟩</a><a id="27494" class="Symbol">)</a> <a id="27496" href="basicDataStructure.html#1711" class="InductiveConstructor Operator">,</a> <a id="27498" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27303" class="Bound">gasLeft</a> <a id="27506" href="basicDataStructure.html#1711" class="InductiveConstructor Operator">gas</a><a id="27509" class="Symbol">)</a>

</pre></body></html>