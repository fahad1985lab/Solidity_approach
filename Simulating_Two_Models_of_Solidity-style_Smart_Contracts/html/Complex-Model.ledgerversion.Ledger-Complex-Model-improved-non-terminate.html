<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="constantparameters.html" class="Module">constantparameters</a>

<a id="33" class="Keyword">module</a> <a id="40" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html" class="Module">Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate</a> <a id="112" class="Symbol">(</a><a id="113" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#113" class="Bound">param</a> <a id="119" class="Symbol">:</a> <a id="121" href="constantparameters.html#235" class="Record">ConstantParameters</a><a id="139" class="Symbol">)</a> <a id="141" class="Keyword">where</a>

<a id="148" class="Keyword">open</a> <a id="153" class="Keyword">import</a> <a id="160" href="Data.Nat.html" class="Module">Data.Nat</a>
<a id="169" class="Keyword">open</a> <a id="174" class="Keyword">import</a> <a id="181" href="Agda.Builtin.Nat.html" class="Module">Agda.Builtin.Nat</a> <a id="198" class="Keyword">using</a> <a id="204" class="Symbol">(</a><a id="205" href="Agda.Builtin.Nat.html#426" class="Primitive Operator">_-_</a><a id="208" class="Symbol">;</a> <a id="210" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">_*_</a><a id="213" class="Symbol">)</a>
<a id="215" class="Keyword">open</a> <a id="220" class="Keyword">import</a> <a id="227" href="Data.Unit.html" class="Module">Data.Unit</a>
<a id="237" class="Keyword">open</a> <a id="242" class="Keyword">import</a> <a id="249" href="Data.List.html" class="Module">Data.List</a>
<a id="259" class="Keyword">open</a> <a id="264" class="Keyword">import</a> <a id="271" href="Data.Bool.html" class="Module">Data.Bool</a>
<a id="281" class="Keyword">open</a> <a id="286" class="Keyword">import</a> <a id="293" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a>
<a id="308" class="Keyword">open</a> <a id="313" class="Keyword">import</a> <a id="320" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="334" class="Keyword">open</a> <a id="339" class="Keyword">import</a> <a id="346" href="Data.Maybe.html" class="Module">Data.Maybe</a>  <a id="358" class="Keyword">hiding</a> <a id="365" class="Symbol">(</a><a id="366" href="Data.Maybe.Base.html#2256" class="Function Operator">_&gt;&gt;=_</a><a id="371" class="Symbol">)</a>
<a id="373" class="Keyword">open</a> <a id="378" class="Keyword">import</a> <a id="385" href="Data.String.html" class="Module">Data.String</a> <a id="397" class="Keyword">hiding</a> <a id="404" class="Symbol">(</a><a id="405" href="Data.String.Base.html#2468" class="Function">length</a><a id="411" class="Symbol">;</a> <a id="413" href="Data.String.Base.html#1605" class="Primitive">show</a><a id="417" class="Symbol">)</a> <a id="419" class="Keyword">renaming</a> <a id="428" class="Symbol">(</a><a id="429" href="Data.String.Base.html#2404" class="Function Operator">_++_</a> <a id="434" class="Symbol">to</a> <a id="437" class="Function Operator">_++str_</a><a id="444" class="Symbol">)</a>
<a id="446" class="Keyword">open</a> <a id="451" class="Keyword">import</a> <a id="458" href="Data.Product.html" class="Module">Data.Product</a> <a id="471" class="Keyword">renaming</a> <a id="480" class="Symbol">(</a><a id="481" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a> <a id="485" class="Symbol">to</a> <a id="488" class="InductiveConstructor Operator">_,,_</a> <a id="493" class="Symbol">)</a>
<a id="495" class="Keyword">open</a> <a id="500" class="Keyword">import</a> <a id="507" href="Data.Nat.Show.html" class="Module">Data.Nat.Show</a>
<a id="521" class="Keyword">open</a> <a id="526" class="Keyword">import</a> <a id="533" href="Data.Empty.html" class="Module">Data.Empty</a>


<a id="546" class="Comment">-- our work</a>
<a id="558" class="Keyword">open</a> <a id="563" class="Keyword">import</a> <a id="570" href="Complex-Model.ccomand.ccommands-cresponse.html" class="Module">Complex-Model.ccomand.ccommands-cresponse</a>
<a id="612" class="Keyword">open</a> <a id="617" class="Keyword">import</a> <a id="624" href="basicDataStructure.html" class="Module">basicDataStructure</a>
<a id="643" class="Keyword">open</a> <a id="648" class="Keyword">import</a> <a id="655" href="libraries.natCompare.html" class="Module">libraries.natCompare</a>
<a id="676" class="Keyword">open</a> <a id="681" class="Keyword">import</a> <a id="688" href="libraries.Mainlibrary.html" class="Module">libraries.Mainlibrary</a>
<a id="710" class="Keyword">open</a> <a id="715" class="Keyword">import</a> <a id="722" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html" class="Module">Complex-Model.ledgerversion.Ledger-Complex-Model</a>



<a id="774" class="Symbol">{-#</a> <a id="778" class="Keyword">NON_TERMINATING</a> <a id="794" class="Symbol">#-}</a>
<a id="evaluateNonTerminatingAuxfinal0"></a><a id="798" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#798" class="Function">evaluateNonTerminatingAuxfinal0</a> <a id="830" class="Symbol">:</a> <a id="832" href="libraries.Mainlibrary.html#1069" class="Function">Ledger</a> <a id="839" class="Symbol">→</a> <a id="841" href="libraries.Mainlibrary.html#2164" class="Record">StateExecFun</a> <a id="854" class="Symbol">→</a> <a id="856" class="Symbol">(</a><a id="857" href="libraries.Mainlibrary.html#1069" class="Function">Ledger</a> <a id="864" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="866" href="basicDataStructure.html#1675" class="Record">MsgOrErrorWithGas</a><a id="883" class="Symbol">)</a>
<a id="885" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#798" class="Function">evaluateNonTerminatingAuxfinal0</a> <a id="917" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#917" class="Bound">oldLedger</a> <a id="927" class="Symbol">(</a><a id="928" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="936" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#936" class="Bound">currentLedger</a> <a id="950" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="953" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#953" class="Bound">initialAddr</a> <a id="965" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#965" class="Bound">lastCallAddr</a> <a id="978" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#978" class="Bound">calledAddr</a> <a id="989" class="Symbol">(</a><a id="990" href="Complex-Model.ccomand.ccommands-cresponse.html#1586" class="InductiveConstructor">return</a> <a id="997" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#997" class="Bound">cost</a> <a id="1002" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1002" class="Bound">ms</a><a id="1004" class="Symbol">)</a>
                            <a id="1034" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1034" class="Bound">gasLeft</a>  <a id="1043" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1043" class="Bound">funNameevalState</a> <a id="1060" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1060" class="Bound">msgevalState</a><a id="1072" class="Symbol">)</a>
                            <a id="1102" class="Symbol">=</a> <a id="1104" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27248" class="Function">evaluateAuxfinal0&#39;</a> <a id="1123" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#113" class="Bound">param</a> <a id="1129" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#917" class="Bound">oldLedger</a> <a id="1139" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#936" class="Bound">currentLedger</a>
                                <a id="1185" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#953" class="Bound">initialAddr</a> <a id="1197" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#965" class="Bound">lastCallAddr</a> <a id="1210" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#978" class="Bound">calledAddr</a> <a id="1221" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#997" class="Bound">cost</a> <a id="1226" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1002" class="Bound">ms</a> <a id="1229" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1034" class="Bound">gasLeft</a> <a id="1237" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1043" class="Bound">funNameevalState</a> <a id="1254" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1060" class="Bound">msgevalState</a> <a id="1267" class="Symbol">(</a><a id="1268" href="libraries.natCompare.html#936" class="Function">compareLeq</a> <a id="1279" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#997" class="Bound">cost</a> <a id="1284" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1034" class="Bound">gasLeft</a><a id="1291" class="Symbol">)</a>

<a id="1294" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#798" class="CatchallClause Function">evaluateNonTerminatingAuxfinal0</a><a id="1325" class="CatchallClause"> </a><a id="1326" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1326" class="CatchallClause Bound">oldLedger</a><a id="1335" class="CatchallClause"> </a><a id="1336" class="CatchallClause Symbol">(</a><a id="1337" href="libraries.Mainlibrary.html#2203" class="CatchallClause InductiveConstructor">stateEF</a><a id="1344" class="CatchallClause"> </a><a id="1345" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1345" class="CatchallClause Bound">currentLedger</a><a id="1358" class="CatchallClause"> </a><a id="1359" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1359" class="CatchallClause Bound">s</a><a id="1360" class="CatchallClause"> </a><a id="1361" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1361" class="CatchallClause Bound">initialAddr</a><a id="1372" class="CatchallClause"> </a><a id="1373" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1373" class="CatchallClause Bound">lastCallAddr</a><a id="1385" class="CatchallClause"> </a><a id="1386" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1386" class="CatchallClause Bound">calledAddr</a><a id="1396" class="CatchallClause"> </a><a id="1397" class="CatchallClause Symbol">(</a><a id="1398" href="Complex-Model.ccomand.ccommands-cresponse.html#1624" class="CatchallClause InductiveConstructor">error</a><a id="1403" class="CatchallClause"> </a><a id="1404" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1404" class="CatchallClause Bound">msgg</a><a id="1408" class="CatchallClause"> </a><a id="1409" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1409" class="CatchallClause Bound">debugInfo</a><a id="1418" class="CatchallClause Symbol">)</a>
                             <a id="1449" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1449" class="CatchallClause Bound">gasLeft</a><a id="1456" class="CatchallClause">  </a><a id="1458" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1458" class="CatchallClause Bound">funNameevalState</a><a id="1474" class="CatchallClause"> </a><a id="1475" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1475" class="CatchallClause Bound">msgevalState</a><a id="1487" class="CatchallClause Symbol">)</a>
                          <a id="1515" class="Symbol">=</a> <a id="1517" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3482" class="Function">addWeiToLedger</a> <a id="1532" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#113" class="Bound">param</a> <a id="1538" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1326" class="Bound">oldLedger</a> <a id="1548" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1361" class="Bound">initialAddr</a> <a id="1560" class="Symbol">(</a><a id="1561" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="1570" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#113" class="Bound">param</a> <a id="1576" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1449" class="Bound">gasLeft</a><a id="1583" class="Symbol">)</a> <a id="1585" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#488" class="InductiveConstructor Operator">,,</a>
                            <a id="1616" class="Symbol">(</a><a id="1617" href="basicDataStructure.html#1590" class="InductiveConstructor">err</a> <a id="1621" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1404" class="Bound">msgg</a> <a id="1626" href="basicDataStructure.html#881" class="InductiveConstructor Operator">⟨</a>  <a id="1629" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1373" class="Bound">lastCallAddr</a> <a id="1642" href="basicDataStructure.html#881" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="1645" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1361" class="Bound">initialAddr</a> <a id="1657" href="basicDataStructure.html#881" class="InductiveConstructor Operator">∙</a> <a id="1659" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1458" class="Bound">funNameevalState</a> <a id="1676" href="basicDataStructure.html#881" class="InductiveConstructor Operator">[</a> <a id="1678" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1475" class="Bound">msgevalState</a> <a id="1691" href="basicDataStructure.html#881" class="InductiveConstructor Operator">]⟩</a> <a id="1694" href="basicDataStructure.html#1726" class="InductiveConstructor Operator">,</a> <a id="1696" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1449" class="Bound">gasLeft</a> <a id="1704" href="basicDataStructure.html#1726" class="InductiveConstructor Operator">gas</a><a id="1707" class="Symbol">)</a>
<a id="1709" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#798" class="CatchallClause Function">evaluateNonTerminatingAuxfinal0</a><a id="1740" class="CatchallClause"> </a><a id="1741" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1741" class="CatchallClause Bound">oldLedger</a><a id="1750" class="CatchallClause"> </a><a id="1751" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1751" class="CatchallClause Bound">evals</a>
                          <a id="1783" class="Symbol">=</a> <a id="1785" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#798" class="Function">evaluateNonTerminatingAuxfinal0</a> <a id="1817" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1741" class="Bound">oldLedger</a> <a id="1827" class="Symbol">(</a><a id="1828" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19961" class="Function">stepEFwithGasError</a> <a id="1847" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#113" class="Bound">param</a> <a id="1853" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1741" class="Bound">oldLedger</a> <a id="1863" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1751" class="Bound">evals</a><a id="1868" class="Symbol">)</a>


<a id="evaluateNonTerminatingAuxfinal"></a><a id="1872" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1872" class="Function">evaluateNonTerminatingAuxfinal</a> <a id="1903" class="Symbol">:</a> <a id="1905" class="Symbol">(</a><a id="1906" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1906" class="Bound">ledger</a> <a id="1913" class="Symbol">:</a> <a id="1915" href="libraries.Mainlibrary.html#1069" class="Function">Ledger</a><a id="1921" class="Symbol">)</a>
                          <a id="1949" class="Symbol">→</a> <a id="1951" class="Symbol">(</a><a id="1952" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1952" class="Bound">initialAddr</a> <a id="1964" class="Symbol">:</a> <a id="1966" href="basicDataStructure.html#405" class="Function">Address</a><a id="1973" class="Symbol">)</a>
                          <a id="2001" class="Symbol">→</a> <a id="2003" class="Symbol">(</a><a id="2004" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#2004" class="Bound">lastCallAddr</a> <a id="2017" class="Symbol">:</a> <a id="2019" href="basicDataStructure.html#405" class="Function">Address</a><a id="2026" class="Symbol">)</a>
                          <a id="2054" class="Symbol">→</a> <a id="2056" class="Symbol">(</a><a id="2057" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#2057" class="Bound">calledAddr</a> <a id="2068" class="Symbol">:</a> <a id="2070" href="basicDataStructure.html#405" class="Function">Address</a><a id="2077" class="Symbol">)</a>
                          <a id="2105" class="Symbol">→</a> <a id="2107" href="basicDataStructure.html#190" class="Function">FunctionName</a>
                          <a id="2146" class="Symbol">→</a> <a id="2148" href="basicDataStructure.html#523" class="Datatype">Msg</a>
                          <a id="2178" class="Symbol">→</a> <a id="2180" class="Symbol">(</a><a id="2181" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#2181" class="Bound">gasreserved</a> <a id="2193" class="Symbol">:</a> <a id="2195" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="2196" class="Symbol">)</a>

                          <a id="2225" class="Symbol">→</a> <a id="2227" class="Symbol">(</a><a id="2228" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#2228" class="Bound">cp</a>  <a id="2232" class="Symbol">:</a> <a id="2234" href="libraries.natCompare.html#679" class="Datatype">OrderingLeq</a> <a id="2246" class="Symbol">(</a><a id="2247" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="2256" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#113" class="Bound">param</a> <a id="2262" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#2181" class="Bound">gasreserved</a><a id="2273" class="Symbol">)</a> <a id="2275" class="Symbol">(</a><a id="2276" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1906" class="Bound">ledger</a> <a id="2283" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1952" class="Bound">initialAddr</a> <a id="2295" class="Symbol">.</a><a id="2296" href="libraries.Mainlibrary.html#833" class="Field">amount</a><a id="2302" class="Symbol">))</a>
                          <a id="2331" class="Symbol">→</a> <a id="2333" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2339" class="Symbol">(</a><a id="2340" href="libraries.Mainlibrary.html#1069" class="Function">Ledger</a> <a id="2347" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2349" href="basicDataStructure.html#1675" class="Record">MsgOrErrorWithGas</a><a id="2366" class="Symbol">)</a>
<a id="2368" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1872" class="Function">evaluateNonTerminatingAuxfinal</a> <a id="2399" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#2399" class="Bound">ledger</a> <a id="2406" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#2406" class="Bound">initialAddr</a> <a id="2418" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#2418" class="Bound">lastCallAddr</a> <a id="2431" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#2431" class="Bound">calledAddr</a> <a id="2442" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#2442" class="Bound">funname</a> <a id="2450" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#2450" class="Bound">msg</a> <a id="2454" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#2454" class="Bound">gasreserved</a>  <a id="2467" class="Symbol">(</a><a id="2468" href="libraries.natCompare.html#717" class="InductiveConstructor">leq</a> <a id="2472" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#2472" class="Bound">leqpr</a><a id="2477" class="Symbol">)</a>
                           <a id="2506" class="Symbol">=</a> <a id="2508" class="Keyword">let</a>
                               <a id="2543" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#2543" class="Bound">ledgerDeducted</a> <a id="2558" class="Symbol">:</a> <a id="2560" href="libraries.Mainlibrary.html#1069" class="Function">Ledger</a>
                               <a id="2598" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#2543" class="Bound">ledgerDeducted</a> <a id="2613" class="Symbol">=</a> <a id="2615" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2610" class="Function">deductGasFromLedger</a> <a id="2635" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#113" class="Bound">param</a> <a id="2641" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#2399" class="Bound">ledger</a> <a id="2648" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#2406" class="Bound">initialAddr</a> <a id="2660" class="Symbol">(</a><a id="2661" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="2670" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#113" class="Bound">param</a> <a id="2676" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#2454" class="Bound">gasreserved</a><a id="2687" class="Symbol">)</a> <a id="2689" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#2472" class="Bound">leqpr</a>
                             <a id="2724" class="Keyword">in</a> <a id="2727" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2732" class="Symbol">(</a><a id="2733" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#798" class="Function">evaluateNonTerminatingAuxfinal0</a> <a id="2765" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#2543" class="Bound">ledgerDeducted</a>
                                     <a id="2817" class="Symbol">(</a><a id="2818" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="2826" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#2543" class="Bound">ledgerDeducted</a> <a id="2841" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="2844" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#2406" class="Bound">initialAddr</a> <a id="2856" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#2418" class="Bound">lastCallAddr</a> <a id="2869" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#2431" class="Bound">calledAddr</a> <a id="2880" class="Symbol">(</a><a id="2881" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#2543" class="Bound">ledgerDeducted</a> <a id="2896" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#2431" class="Bound">calledAddr</a> <a id="2907" class="Symbol">.</a><a id="2908" href="libraries.Mainlibrary.html#859" class="Field">fun</a> <a id="2912" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#2442" class="Bound">funname</a> <a id="2920" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#2450" class="Bound">msg</a><a id="2923" class="Symbol">)</a>
                                     <a id="2962" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#2454" class="Bound">gasreserved</a>  <a id="2975" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#2442" class="Bound">funname</a> <a id="2983" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#2450" class="Bound">msg</a><a id="2986" class="Symbol">))</a>

<a id="2990" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1872" class="Function">evaluateNonTerminatingAuxfinal</a> <a id="3021" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#3021" class="Bound">ledger</a> <a id="3028" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#3028" class="Bound">initialAddr</a> <a id="3040" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#3040" class="Bound">lastCallAddr</a> <a id="3053" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#3053" class="Bound">calledAddr</a> <a id="3064" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#3064" class="Bound">funname</a> <a id="3072" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#3072" class="Bound">msg</a> <a id="3076" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#3076" class="Bound">gasreserved</a>  <a id="3089" class="Symbol">(</a><a id="3090" href="libraries.natCompare.html#755" class="InductiveConstructor">greater</a> <a id="3098" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#3098" class="Bound">greaterpr</a><a id="3107" class="Symbol">)</a>
                           <a id="3136" class="Symbol">=</a> <a id="3138" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>


<a id="evaluateNonTerminatingfinal"></a><a id="3148" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#3148" class="Function">evaluateNonTerminatingfinal</a> <a id="3176" class="Symbol">:</a> <a id="3178" class="Symbol">(</a><a id="3179" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#3179" class="Bound">ledger</a> <a id="3186" class="Symbol">:</a> <a id="3188" href="libraries.Mainlibrary.html#1069" class="Function">Ledger</a><a id="3194" class="Symbol">)</a>
                         <a id="3221" class="Symbol">→</a> <a id="3223" class="Symbol">(</a><a id="3224" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#3224" class="Bound">initialAddr</a> <a id="3236" class="Symbol">:</a> <a id="3238" href="basicDataStructure.html#405" class="Function">Address</a><a id="3245" class="Symbol">)</a>
                            <a id="3275" class="Comment">-- Initial address is the address from which the very first call was made</a>
                         <a id="3374" class="Symbol">→</a> <a id="3376" class="Symbol">(</a><a id="3377" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#3377" class="Bound">lastCallAddr</a> <a id="3390" class="Symbol">:</a> <a id="3392" href="basicDataStructure.html#405" class="Function">Address</a><a id="3399" class="Symbol">)</a>
                            <a id="3429" class="Comment">-- lastCallAddr is the address from which the current call of a function in</a>
                            <a id="3533" class="Comment">--         calledAddr is made</a>
                         <a id="3588" class="Symbol">→</a> <a id="3590" class="Symbol">(</a><a id="3591" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#3591" class="Bound">calledAddr</a> <a id="3602" class="Symbol">:</a> <a id="3604" href="basicDataStructure.html#405" class="Function">Address</a><a id="3611" class="Symbol">)</a>
                            <a id="3641" class="Comment">-- calledAddr is the address where a function call is currently executed</a>
                            <a id="3742" class="Comment">--            it was called from calledAddr</a>
                         <a id="3811" class="Symbol">→</a> <a id="3813" href="basicDataStructure.html#190" class="Function">FunctionName</a>
                         <a id="3851" class="Symbol">→</a> <a id="3853" href="basicDataStructure.html#523" class="Datatype">Msg</a>
                         <a id="3882" class="Symbol">→</a> <a id="3884" class="Symbol">(</a><a id="3885" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#3885" class="Bound">gasreserved</a> <a id="3897" class="Symbol">:</a> <a id="3899" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="3900" class="Symbol">)</a>

                         <a id="3928" class="Symbol">→</a> <a id="3930" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3936" class="Symbol">(</a><a id="3937" href="libraries.Mainlibrary.html#1069" class="Function">Ledger</a> <a id="3944" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3946" href="basicDataStructure.html#1675" class="Record">MsgOrErrorWithGas</a><a id="3963" class="Symbol">)</a>
<a id="3965" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#3148" class="Function">evaluateNonTerminatingfinal</a> <a id="3993" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#3993" class="Bound">ledger</a> <a id="4000" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#4000" class="Bound">initialAddr</a> <a id="4012" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#4012" class="Bound">lastCallAddr</a> <a id="4025" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#4025" class="Bound">calledAddr</a> <a id="4036" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#4036" class="Bound">funname</a> <a id="4044" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#4044" class="Bound">msg</a> <a id="4048" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#4048" class="Bound">gasreserved</a>
                      <a id="4082" class="Symbol">=</a>  <a id="4085" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#1872" class="Function">evaluateNonTerminatingAuxfinal</a> <a id="4116" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#3993" class="Bound">ledger</a> <a id="4123" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#4000" class="Bound">initialAddr</a> <a id="4135" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#4012" class="Bound">lastCallAddr</a> <a id="4148" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#4025" class="Bound">calledAddr</a> <a id="4159" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#4036" class="Bound">funname</a> <a id="4167" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#4044" class="Bound">msg</a> <a id="4171" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#4048" class="Bound">gasreserved</a>
                         <a id="4208" class="Symbol">(</a><a id="4209" href="libraries.natCompare.html#936" class="Function">compareLeq</a> <a id="4220" class="Symbol">(</a><a id="4221" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="4230" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#113" class="Bound">param</a> <a id="4236" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#4048" class="Bound">gasreserved</a><a id="4247" class="Symbol">)</a> <a id="4249" class="Symbol">(</a><a id="4250" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#3993" class="Bound">ledger</a> <a id="4257" href="Complex-Model.ledgerversion.Ledger-Complex-Model-improved-non-terminate.html#4000" class="Bound">initialAddr</a> <a id="4269" class="Symbol">.</a><a id="4270" href="libraries.Mainlibrary.html#833" class="Field">amount</a><a id="4276" class="Symbol">))</a>




</pre></body></html>