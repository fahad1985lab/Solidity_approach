<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Complex-Model.ledgerversion.Ledger-Complex-Model</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="constantparameters.html" class="Module">constantparameters</a>

<a id="33" class="Keyword">module</a> <a id="40" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html" class="Module">Complex-Model.ledgerversion.Ledger-Complex-Model</a> <a id="89" class="Symbol">(</a><a id="90" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="96" class="Symbol">:</a> <a id="98" href="constantparameters.html#235" class="Record">ConstantParameters</a><a id="116" class="Symbol">)</a> <a id="118" class="Keyword">where</a>

<a id="125" class="Keyword">open</a> <a id="130" class="Keyword">import</a> <a id="137" href="Data.Nat.html" class="Module">Data.Nat</a>
<a id="146" class="Keyword">open</a> <a id="151" class="Keyword">import</a> <a id="158" href="Agda.Builtin.Nat.html" class="Module">Agda.Builtin.Nat</a> <a id="175" class="Keyword">using</a> <a id="181" class="Symbol">(</a><a id="182" href="Agda.Builtin.Nat.html#426" class="Primitive Operator">_-_</a><a id="185" class="Symbol">;</a> <a id="187" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">_*_</a><a id="190" class="Symbol">)</a>
<a id="192" class="Keyword">open</a> <a id="197" class="Keyword">import</a> <a id="204" href="Data.Unit.html" class="Module">Data.Unit</a>
<a id="214" class="Keyword">open</a> <a id="219" class="Keyword">import</a> <a id="226" href="Data.List.html" class="Module">Data.List</a>
<a id="236" class="Keyword">open</a> <a id="241" class="Keyword">import</a> <a id="248" href="Data.Bool.html" class="Module">Data.Bool</a>
<a id="258" class="Keyword">open</a> <a id="263" class="Keyword">import</a> <a id="270" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a>
<a id="285" class="Keyword">open</a> <a id="290" class="Keyword">import</a> <a id="297" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="311" class="Keyword">open</a> <a id="316" class="Keyword">import</a> <a id="323" href="Data.Maybe.html" class="Module">Data.Maybe</a>  <a id="335" class="Keyword">hiding</a> <a id="342" class="Symbol">(</a><a id="343" href="Data.Maybe.Base.html#2256" class="Function Operator">_&gt;&gt;=_</a><a id="348" class="Symbol">)</a>
<a id="350" class="Keyword">open</a> <a id="355" class="Keyword">import</a> <a id="362" href="Data.String.html" class="Module">Data.String</a> <a id="374" class="Keyword">hiding</a> <a id="381" class="Symbol">(</a><a id="382" href="Data.String.Base.html#2468" class="Function">length</a><a id="388" class="Symbol">;</a> <a id="390" href="Data.String.Base.html#1605" class="Primitive">show</a><a id="394" class="Symbol">)</a> <a id="396" class="Keyword">renaming</a> <a id="405" class="Symbol">(</a><a id="406" href="Data.String.Base.html#2404" class="Function Operator">_++_</a> <a id="411" class="Symbol">to</a> <a id="414" class="Function Operator">_++str_</a><a id="421" class="Symbol">)</a>
<a id="423" class="Keyword">open</a> <a id="428" class="Keyword">import</a> <a id="435" href="Data.Product.html" class="Module">Data.Product</a> <a id="448" class="Keyword">renaming</a> <a id="457" class="Symbol">(</a><a id="458" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a> <a id="462" class="Symbol">to</a> <a id="465" class="InductiveConstructor Operator">_,,_</a> <a id="470" class="Symbol">)</a>
<a id="472" class="Keyword">open</a> <a id="477" class="Keyword">import</a> <a id="484" href="Data.Nat.Show.html" class="Module">Data.Nat.Show</a>
<a id="498" class="Keyword">open</a> <a id="503" class="Keyword">import</a> <a id="510" href="Data.Empty.html" class="Module">Data.Empty</a>


<a id="523" class="Comment">-- our work</a>
<a id="535" class="Keyword">open</a> <a id="540" class="Keyword">import</a> <a id="547" href="Complex-Model.ccomand.ccommands-cresponse.html" class="Module">Complex-Model.ccomand.ccommands-cresponse</a>
<a id="589" class="Keyword">open</a> <a id="594" class="Keyword">import</a> <a id="601" href="basicDataStructure.html" class="Module">basicDataStructure</a>
<a id="620" class="Keyword">open</a> <a id="625" class="Keyword">import</a> <a id="632" href="libraries.natCompare.html" class="Module">libraries.natCompare</a>
<a id="653" class="Comment">--open import Complex-Model.ccomand.do-notation param</a>
<a id="707" class="Keyword">open</a> <a id="712" class="Keyword">import</a> <a id="719" href="libraries.Mainlibrary.html" class="Module">libraries.Mainlibrary</a>




<a id="745" class="Comment">-- update view function in the ledger</a>
<a id="updateLedgerviewfun"></a><a id="783" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#783" class="Function">updateLedgerviewfun</a> <a id="803" class="Symbol">:</a> <a id="805" href="libraries.Mainlibrary.html#1069" class="Function">Ledger</a> <a id="812" class="Symbol">→</a> <a id="814" href="basicDataStructure.html#405" class="Function">Address</a>
       <a id="829" class="Symbol">→</a> <a id="831" href="basicDataStructure.html#190" class="Function">FunctionName</a>
       <a id="851" class="Symbol">→</a> <a id="853" class="Symbol">((</a><a id="855" href="basicDataStructure.html#523" class="Datatype">Msg</a> <a id="859" class="Symbol">→</a> <a id="861" href="basicDataStructure.html#1431" class="Datatype">MsgOrError</a><a id="871" class="Symbol">)</a> <a id="873" class="Symbol">→</a> <a id="875" class="Symbol">(</a><a id="876" href="basicDataStructure.html#523" class="Datatype">Msg</a> <a id="880" class="Symbol">→</a> <a id="882" href="basicDataStructure.html#1431" class="Datatype">MsgOrError</a><a id="892" class="Symbol">))</a>
       <a id="902" class="Symbol">→</a> <a id="904" class="Symbol">((</a><a id="906" href="basicDataStructure.html#523" class="Datatype">Msg</a> <a id="910" class="Symbol">→</a> <a id="912" href="basicDataStructure.html#1431" class="Datatype">MsgOrError</a><a id="922" class="Symbol">)</a> <a id="924" class="Symbol">→</a> <a id="926" class="Symbol">(</a><a id="927" href="basicDataStructure.html#523" class="Datatype">Msg</a> <a id="931" class="Symbol">→</a> <a id="933" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="934" class="Symbol">)</a> <a id="936" class="Symbol">→</a> <a id="938" href="basicDataStructure.html#523" class="Datatype">Msg</a> <a id="942" class="Symbol">→</a> <a id="944" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="945" class="Symbol">)</a>
       <a id="954" class="Symbol">→</a> <a id="956" href="libraries.Mainlibrary.html#1069" class="Function">Ledger</a>
<a id="963" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#783" class="Function">updateLedgerviewfun</a> <a id="983" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#983" class="Bound">ledger</a> <a id="990" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#990" class="Bound">changedAddr</a> <a id="1002" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1002" class="Bound">changedFname</a> <a id="1015" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1015" class="Bound">f</a> <a id="1017" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1017" class="Bound">g</a> <a id="1019" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1019" class="Bound">a</a> <a id="1021" class="Symbol">.</a><a id="1022" href="libraries.Mainlibrary.html#833" class="Field">amount</a> <a id="1029" class="Symbol">=</a> <a id="1031" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#983" class="Bound">ledger</a> <a id="1038" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1019" class="Bound">a</a> <a id="1040" class="Symbol">.</a><a id="1041" href="libraries.Mainlibrary.html#833" class="Field">amount</a>
<a id="1048" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#783" class="Function">updateLedgerviewfun</a> <a id="1068" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1068" class="Bound">ledger</a> <a id="1075" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1075" class="Bound">changedAddr</a> <a id="1087" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1087" class="Bound">changedFname</a> <a id="1100" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1100" class="Bound">f</a> <a id="1102" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1102" class="Bound">g</a> <a id="1104" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1104" class="Bound">a</a> <a id="1106" class="Symbol">.</a><a id="1107" href="libraries.Mainlibrary.html#859" class="Field">fun</a>  <a id="1112" class="Symbol">=</a> <a id="1114" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1068" class="Bound">ledger</a> <a id="1121" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1104" class="Bound">a</a> <a id="1123" class="Symbol">.</a><a id="1124" href="libraries.Mainlibrary.html#859" class="Field">fun</a>
<a id="1128" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#783" class="Function">updateLedgerviewfun</a> <a id="1148" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1148" class="Bound">ledger</a> <a id="1155" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1155" class="Bound">changedAddr</a> <a id="1167" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1167" class="Bound">changedFname</a> <a id="1180" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1180" class="Bound">f</a> <a id="1182" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1182" class="Bound">g</a> <a id="1184" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1184" class="Bound">a</a> <a id="1186" class="Symbol">.</a><a id="1187" href="libraries.Mainlibrary.html#928" class="Field">viewFunction</a> <a id="1200" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1200" class="Bound">fname</a> <a id="1206" class="Symbol">=</a>
       <a id="1215" href="Data.Bool.Base.html#1505" class="Function Operator">if</a> <a id="1218" class="Symbol">(</a><a id="1219" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1167" class="Bound">changedFname</a> <a id="1232" href="basicDataStructure.html#275" class="Function Operator">≡fun</a> <a id="1237" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1200" class="Bound">fname</a><a id="1242" class="Symbol">)</a> <a id="1244" href="Data.Bool.Base.html#1505" class="Function Operator">then</a>  <a id="1250" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1180" class="Bound">f</a> <a id="1252" class="Symbol">(</a><a id="1253" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1148" class="Bound">ledger</a> <a id="1260" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1184" class="Bound">a</a> <a id="1262" class="Symbol">.</a><a id="1263" href="libraries.Mainlibrary.html#928" class="Field">viewFunction</a> <a id="1276" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1200" class="Bound">fname</a><a id="1281" class="Symbol">)</a>
                         <a id="1308" href="Data.Bool.Base.html#1505" class="Function Operator">else</a>  <a id="1314" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1148" class="Bound">ledger</a> <a id="1321" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1184" class="Bound">a</a> <a id="1323" class="Symbol">.</a><a id="1324" href="libraries.Mainlibrary.html#928" class="Field">viewFunction</a> <a id="1337" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1200" class="Bound">fname</a>
<a id="1343" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#783" class="Function">updateLedgerviewfun</a> <a id="1363" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1363" class="Bound">ledger</a> <a id="1370" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1370" class="Bound">changedAddr</a> <a id="1382" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1382" class="Bound">changedFname</a> <a id="1395" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1395" class="Bound">f</a> <a id="1397" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1397" class="Bound">g</a> <a id="1399" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1399" class="Bound">a</a> <a id="1401" class="Symbol">.</a><a id="1402" href="libraries.Mainlibrary.html#986" class="Field">viewFunctionCost</a> <a id="1419" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1419" class="Bound">fname</a> <a id="1425" class="Symbol">=</a>
          <a id="1437" href="Data.Bool.Base.html#1505" class="Function Operator">if</a> <a id="1440" class="Symbol">(</a><a id="1441" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1382" class="Bound">changedFname</a> <a id="1454" href="basicDataStructure.html#275" class="Function Operator">≡fun</a> <a id="1459" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1419" class="Bound">fname</a><a id="1464" class="Symbol">)</a> <a id="1466" href="Data.Bool.Base.html#1505" class="Function Operator">then</a>  <a id="1472" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1397" class="Bound">g</a> <a id="1474" class="Symbol">(</a><a id="1475" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1363" class="Bound">ledger</a> <a id="1482" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1399" class="Bound">a</a> <a id="1484" class="Symbol">.</a><a id="1485" href="libraries.Mainlibrary.html#928" class="Field">viewFunction</a> <a id="1498" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1419" class="Bound">fname</a><a id="1503" class="Symbol">)</a> <a id="1505" class="Symbol">(</a><a id="1506" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1363" class="Bound">ledger</a> <a id="1513" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1399" class="Bound">a</a> <a id="1515" class="Symbol">.</a><a id="1516" href="libraries.Mainlibrary.html#986" class="Field">viewFunctionCost</a> <a id="1533" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1419" class="Bound">fname</a><a id="1538" class="Symbol">)</a>
                         <a id="1565" href="Data.Bool.Base.html#1505" class="Function Operator">else</a>  <a id="1571" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1363" class="Bound">ledger</a> <a id="1578" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1399" class="Bound">a</a> <a id="1580" class="Symbol">.</a><a id="1581" href="libraries.Mainlibrary.html#986" class="Field">viewFunctionCost</a> <a id="1598" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1419" class="Bound">fname</a>



<a id="1607" class="Comment">--update ledger amount</a>
<a id="updateLedgerAmount"></a><a id="1630" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1630" class="Function">updateLedgerAmount</a> <a id="1649" class="Symbol">:</a> <a id="1651" class="Symbol">(</a><a id="1652" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1652" class="Bound">ledger</a> <a id="1659" class="Symbol">:</a> <a id="1661" href="libraries.Mainlibrary.html#1069" class="Function">Ledger</a><a id="1667" class="Symbol">)</a>
                   <a id="1688" class="Symbol">→</a> <a id="1690" class="Symbol">(</a><a id="1691" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1691" class="Bound">calledAddr</a> <a id="1702" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1702" class="Bound">destinationAddr</a> <a id="1718" class="Symbol">:</a> <a id="1720" href="basicDataStructure.html#405" class="Function">Address</a><a id="1727" class="Symbol">)</a> <a id="1729" class="Symbol">(</a><a id="1730" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1730" class="Bound">amount&#39;</a> <a id="1738" class="Symbol">:</a> <a id="1740" href="basicDataStructure.html#378" class="Function">Amount</a><a id="1746" class="Symbol">)</a>
                   <a id="1767" class="Symbol">→</a> <a id="1769" class="Symbol">(</a><a id="1770" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1770" class="Bound">correctAmount</a> <a id="1784" class="Symbol">:</a> <a id="1786" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1730" class="Bound">amount&#39;</a> <a id="1794" href="libraries.natCompare.html#508" class="Function Operator">≦r</a>  <a id="1798" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1652" class="Bound">ledger</a> <a id="1805" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1691" class="Bound">calledAddr</a> <a id="1816" class="Symbol">.</a><a id="1817" href="libraries.Mainlibrary.html#833" class="Field">amount</a><a id="1823" class="Symbol">)</a>
                   <a id="1844" class="Symbol">→</a> <a id="1846" href="libraries.Mainlibrary.html#1069" class="Function">Ledger</a>
<a id="1853" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1630" class="Function">updateLedgerAmount</a> <a id="1872" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1872" class="Bound">ledger</a> <a id="1879" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1879" class="Bound">calledAddr</a> <a id="1890" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1890" class="Bound">destinationAddr</a> <a id="1906" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1906" class="Bound">amount&#39;</a> <a id="1914" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1914" class="Bound">correctAmount</a> <a id="1928" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1928" class="Bound">addr</a> <a id="1933" class="Symbol">.</a><a id="1934" href="libraries.Mainlibrary.html#833" class="Field">amount</a>
     <a id="1946" class="Symbol">=</a> <a id="1948" href="Data.Bool.Base.html#1505" class="Function Operator">if</a> <a id="1951" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1928" class="Bound">addr</a> <a id="1956" href="Data.Nat.Base.html#1283" class="Primitive Operator">≡ᵇ</a> <a id="1959" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1879" class="Bound">calledAddr</a>
     <a id="1975" href="Data.Bool.Base.html#1505" class="Function Operator">then</a> <a id="1980" href="libraries.natCompare.html#1529" class="Function">subtract</a> <a id="1989" class="Symbol">(</a><a id="1990" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1872" class="Bound">ledger</a> <a id="1997" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1879" class="Bound">calledAddr</a> <a id="2008" class="Symbol">.</a><a id="2009" href="libraries.Mainlibrary.html#833" class="Field">amount</a><a id="2015" class="Symbol">)</a> <a id="2017" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1906" class="Bound">amount&#39;</a> <a id="2025" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1914" class="Bound">correctAmount</a>
     <a id="2044" href="Data.Bool.Base.html#1505" class="Function Operator">else</a> <a id="2049" class="Symbol">(</a><a id="2050" href="Data.Bool.Base.html#1505" class="Function Operator">if</a> <a id="2053" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1928" class="Bound">addr</a> <a id="2058" href="Data.Nat.Base.html#1283" class="Primitive Operator">≡ᵇ</a> <a id="2061" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1890" class="Bound">destinationAddr</a>
     <a id="2082" href="Data.Bool.Base.html#1505" class="Function Operator">then</a> <a id="2087" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1872" class="Bound">ledger</a> <a id="2094" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1890" class="Bound">destinationAddr</a> <a id="2110" class="Symbol">.</a><a id="2111" href="libraries.Mainlibrary.html#833" class="Field">amount</a> <a id="2118" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="2120" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1906" class="Bound">amount&#39;</a>
       <a id="2135" href="Data.Bool.Base.html#1505" class="Function Operator">else</a> <a id="2140" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1872" class="Bound">ledger</a> <a id="2147" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1928" class="Bound">addr</a> <a id="2152" class="Symbol">.</a><a id="2153" href="libraries.Mainlibrary.html#833" class="Field">amount</a><a id="2159" class="Symbol">)</a>
<a id="2161" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1630" class="Function">updateLedgerAmount</a> <a id="2180" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2180" class="Bound">ledger</a> <a id="2187" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2187" class="Bound">calledAddr</a> <a id="2198" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2198" class="Bound">newAddr</a> <a id="2206" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2206" class="Bound">amount&#39;</a> <a id="2214" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2214" class="Bound">correctAmount</a> <a id="2228" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2228" class="Bound">addr</a> <a id="2233" class="Symbol">.</a><a id="2234" href="libraries.Mainlibrary.html#859" class="Field">fun</a>
     <a id="2243" class="Symbol">=</a>  <a id="2246" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2180" class="Bound">ledger</a> <a id="2253" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2228" class="Bound">addr</a> <a id="2258" class="Symbol">.</a><a id="2259" href="libraries.Mainlibrary.html#859" class="Field">fun</a>

<a id="2264" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1630" class="Function">updateLedgerAmount</a> <a id="2283" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2283" class="Bound">ledger</a> <a id="2290" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2290" class="Bound">calledAddr</a> <a id="2301" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2301" class="Bound">newAddr</a> <a id="2309" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2309" class="Bound">amount&#39;</a> <a id="2317" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2317" class="Bound">correctAmount</a> <a id="2331" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2331" class="Bound">addr</a> <a id="2336" class="Symbol">.</a><a id="2337" href="libraries.Mainlibrary.html#928" class="Field">viewFunction</a>
     <a id="2355" class="Symbol">=</a> <a id="2357" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2283" class="Bound">ledger</a> <a id="2364" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2331" class="Bound">addr</a> <a id="2369" class="Symbol">.</a><a id="2370" href="libraries.Mainlibrary.html#928" class="Field">viewFunction</a>
<a id="2383" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1630" class="Function">updateLedgerAmount</a> <a id="2402" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2402" class="Bound">ledger</a> <a id="2409" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2409" class="Bound">calledAddr</a> <a id="2420" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2420" class="Bound">newAddr</a> <a id="2428" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2428" class="Bound">amount&#39;</a> <a id="2436" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2436" class="Bound">correctAmount</a> <a id="2450" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2450" class="Bound">addr</a> <a id="2455" class="Symbol">.</a><a id="2456" href="libraries.Mainlibrary.html#986" class="Field">viewFunctionCost</a> <a id="2473" class="Symbol">=</a> <a id="2475" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2402" class="Bound">ledger</a> <a id="2482" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2450" class="Bound">addr</a> <a id="2487" class="Symbol">.</a><a id="2488" href="libraries.Mainlibrary.html#986" class="Field">viewFunctionCost</a>



<a id="2508" class="Comment">--This function we use it to update the gas by decucting from the ledger</a>
<a id="2581" class="Comment">--rename gasPrice to gascost</a>
<a id="deductGasFromLedger"></a><a id="2610" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2610" class="Function">deductGasFromLedger</a> <a id="2630" class="Symbol">:</a> <a id="2632" class="Symbol">(</a><a id="2633" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2633" class="Bound">ledger</a> <a id="2640" class="Symbol">:</a> <a id="2642" href="libraries.Mainlibrary.html#1069" class="Function">Ledger</a><a id="2648" class="Symbol">)</a>
                    <a id="2670" class="Symbol">→</a> <a id="2672" class="Symbol">(</a><a id="2673" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2673" class="Bound">calledAddr</a> <a id="2684" class="Symbol">:</a> <a id="2686" href="basicDataStructure.html#405" class="Function">Address</a><a id="2693" class="Symbol">)</a> <a id="2695" class="Symbol">(</a><a id="2696" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2696" class="Bound">gascost</a> <a id="2704" class="Symbol">:</a> <a id="2706" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="2707" class="Symbol">)</a>
                    <a id="2729" class="Symbol">→</a> <a id="2731" class="Symbol">(</a><a id="2732" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2732" class="Bound">correctAmount</a> <a id="2746" class="Symbol">:</a> <a id="2748" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2696" class="Bound">gascost</a> <a id="2756" href="libraries.natCompare.html#508" class="Function Operator">≦r</a> <a id="2759" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2633" class="Bound">ledger</a> <a id="2766" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2673" class="Bound">calledAddr</a> <a id="2777" class="Symbol">.</a><a id="2778" href="libraries.Mainlibrary.html#833" class="Field">amount</a><a id="2784" class="Symbol">)</a>
                    <a id="2806" class="Symbol">→</a> <a id="2808" href="libraries.Mainlibrary.html#1069" class="Function">Ledger</a>
<a id="2815" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2610" class="Function">deductGasFromLedger</a> <a id="2835" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2835" class="Bound">ledger</a> <a id="2842" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2842" class="Bound">calledAddr</a> <a id="2853" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2853" class="Bound">gascost</a> <a id="2861" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2861" class="Bound">correctAmount</a> <a id="2875" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2875" class="Bound">addr</a> <a id="2880" class="Symbol">.</a><a id="2881" href="libraries.Mainlibrary.html#833" class="Field">amount</a>
     <a id="2893" class="Symbol">=</a> <a id="2895" href="Data.Bool.Base.html#1505" class="Function Operator">if</a> <a id="2898" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2875" class="Bound">addr</a> <a id="2903" href="Data.Nat.Base.html#1283" class="Primitive Operator">≡ᵇ</a> <a id="2906" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2842" class="Bound">calledAddr</a>
     <a id="2922" href="Data.Bool.Base.html#1505" class="Function Operator">then</a> <a id="2927" href="libraries.natCompare.html#1529" class="Function">subtract</a> <a id="2936" class="Symbol">(</a><a id="2937" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2835" class="Bound">ledger</a> <a id="2944" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2842" class="Bound">calledAddr</a> <a id="2955" class="Symbol">.</a><a id="2956" href="libraries.Mainlibrary.html#833" class="Field">amount</a><a id="2962" class="Symbol">)</a> <a id="2964" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2853" class="Bound">gascost</a> <a id="2972" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2861" class="Bound">correctAmount</a>
     <a id="2991" href="Data.Bool.Base.html#1505" class="Function Operator">else</a>  <a id="2997" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2835" class="Bound">ledger</a> <a id="3004" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2875" class="Bound">addr</a> <a id="3009" class="Symbol">.</a><a id="3010" href="libraries.Mainlibrary.html#833" class="Field">amount</a>
<a id="3017" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2610" class="Function">deductGasFromLedger</a> <a id="3037" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3037" class="Bound">ledger</a> <a id="3044" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3044" class="Bound">calledAddr</a> <a id="3055" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3055" class="Bound">gascost</a> <a id="3063" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3063" class="Bound">correctAmount</a> <a id="3077" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3077" class="Bound">addr</a> <a id="3082" class="Symbol">.</a><a id="3083" href="libraries.Mainlibrary.html#859" class="Field">fun</a>
    <a id="3091" class="Symbol">=</a> <a id="3093" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3037" class="Bound">ledger</a> <a id="3100" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3077" class="Bound">addr</a> <a id="3105" class="Symbol">.</a><a id="3106" href="libraries.Mainlibrary.html#859" class="Field">fun</a>
<a id="3110" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2610" class="Function">deductGasFromLedger</a> <a id="3130" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3130" class="Bound">ledger</a> <a id="3137" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3137" class="Bound">calledAddr</a> <a id="3148" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3148" class="Bound">gascost</a> <a id="3156" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3156" class="Bound">correctAmount</a> <a id="3170" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3170" class="Bound">addr</a> <a id="3175" class="Symbol">.</a><a id="3176" href="libraries.Mainlibrary.html#928" class="Field">viewFunction</a>
    <a id="3193" class="Symbol">=</a> <a id="3195" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3130" class="Bound">ledger</a> <a id="3202" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3170" class="Bound">addr</a> <a id="3207" class="Symbol">.</a><a id="3208" href="libraries.Mainlibrary.html#928" class="Field">viewFunction</a>
<a id="3221" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2610" class="Function">deductGasFromLedger</a> <a id="3241" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3241" class="Bound">ledger</a> <a id="3248" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3248" class="Bound">calledAddr</a> <a id="3259" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3259" class="Bound">gascost</a> <a id="3267" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3267" class="Bound">correctAmount</a> <a id="3281" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3281" class="Bound">addr</a> <a id="3286" class="Symbol">.</a><a id="3287" href="libraries.Mainlibrary.html#986" class="Field">viewFunctionCost</a>
    <a id="3308" class="Symbol">=</a> <a id="3310" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3241" class="Bound">ledger</a> <a id="3317" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3281" class="Bound">addr</a> <a id="3322" class="Symbol">.</a><a id="3323" href="libraries.Mainlibrary.html#986" class="Field">viewFunctionCost</a>


<a id="3342" class="Comment">-- this function below we use it to refuend in two cases with steEF</a>
<a id="3410" class="Comment">-- 1) when finish (first case)</a>
<a id="3441" class="Comment">-- 2) when we have error (the last case)</a>
<a id="addWeiToLedger"></a><a id="3482" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3482" class="Function">addWeiToLedger</a> <a id="3497" class="Symbol">:</a> <a id="3499" class="Symbol">(</a><a id="3500" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3500" class="Bound">ledger</a> <a id="3507" class="Symbol">:</a> <a id="3509" href="libraries.Mainlibrary.html#1069" class="Function">Ledger</a><a id="3515" class="Symbol">)</a>
               <a id="3532" class="Symbol">→</a> <a id="3534" class="Symbol">(</a><a id="3535" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3535" class="Bound">address</a> <a id="3543" class="Symbol">:</a> <a id="3545" href="basicDataStructure.html#405" class="Function">Address</a><a id="3552" class="Symbol">)</a> <a id="3554" class="Symbol">(</a><a id="3555" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3555" class="Bound">amount&#39;</a> <a id="3563" class="Symbol">:</a> <a id="3565" href="basicDataStructure.html#378" class="Function">Amount</a><a id="3571" class="Symbol">)</a>
               <a id="3588" class="Symbol">→</a> <a id="3590" href="libraries.Mainlibrary.html#1069" class="Function">Ledger</a>
<a id="3597" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3482" class="Function">addWeiToLedger</a> <a id="3612" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3612" class="Bound">ledger</a> <a id="3619" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3619" class="Bound">address</a> <a id="3627" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3627" class="Bound">amount&#39;</a> <a id="3635" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3635" class="Bound">addr</a> <a id="3640" class="Symbol">.</a><a id="3641" href="libraries.Mainlibrary.html#833" class="Field">amount</a>
       <a id="3655" class="Symbol">=</a>   <a id="3659" href="Data.Bool.Base.html#1505" class="Function Operator">if</a> <a id="3662" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3635" class="Bound">addr</a> <a id="3667" href="Data.Nat.Base.html#1283" class="Primitive Operator">≡ᵇ</a> <a id="3670" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3619" class="Bound">address</a>
           <a id="3689" href="Data.Bool.Base.html#1505" class="Function Operator">then</a> <a id="3694" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3612" class="Bound">ledger</a> <a id="3701" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3619" class="Bound">address</a> <a id="3709" class="Symbol">.</a><a id="3710" href="libraries.Mainlibrary.html#833" class="Field">amount</a> <a id="3717" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="3719" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3627" class="Bound">amount&#39;</a>
           <a id="3738" href="Data.Bool.Base.html#1505" class="Function Operator">else</a> <a id="3743" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3612" class="Bound">ledger</a> <a id="3750" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3635" class="Bound">addr</a> <a id="3755" class="Symbol">.</a><a id="3756" href="libraries.Mainlibrary.html#833" class="Field">amount</a>
<a id="3763" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3482" class="Function">addWeiToLedger</a> <a id="3778" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3778" class="Bound">ledger</a> <a id="3785" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3785" class="Bound">address</a> <a id="3793" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3793" class="Bound">amount&#39;</a> <a id="3801" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3801" class="Bound">addr</a> <a id="3806" class="Symbol">.</a><a id="3807" href="libraries.Mainlibrary.html#859" class="Field">fun</a>
       <a id="3818" class="Symbol">=</a>   <a id="3822" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3778" class="Bound">ledger</a> <a id="3829" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3801" class="Bound">addr</a> <a id="3834" class="Symbol">.</a><a id="3835" href="libraries.Mainlibrary.html#859" class="Field">fun</a>
<a id="3839" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3482" class="Function">addWeiToLedger</a> <a id="3854" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3854" class="Bound">ledger</a> <a id="3861" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3861" class="Bound">address</a> <a id="3869" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3869" class="Bound">amount&#39;</a> <a id="3877" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3877" class="Bound">addr</a> <a id="3882" class="Symbol">.</a><a id="3883" href="libraries.Mainlibrary.html#928" class="Field">viewFunction</a>
       <a id="3903" class="Symbol">=</a> <a id="3905" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3854" class="Bound">ledger</a> <a id="3912" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3877" class="Bound">addr</a> <a id="3917" class="Symbol">.</a><a id="3918" href="libraries.Mainlibrary.html#928" class="Field">viewFunction</a>
<a id="3931" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3482" class="Function">addWeiToLedger</a> <a id="3946" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3946" class="Bound">ledger</a> <a id="3953" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3953" class="Bound">address</a> <a id="3961" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3961" class="Bound">amount&#39;</a> <a id="3969" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3969" class="Bound">addr</a> <a id="3974" class="Symbol">.</a><a id="3975" href="libraries.Mainlibrary.html#986" class="Field">viewFunctionCost</a> <a id="3992" class="Symbol">=</a> <a id="3994" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3946" class="Bound">ledger</a> <a id="4001" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3969" class="Bound">addr</a> <a id="4006" class="Symbol">.</a><a id="4007" href="libraries.Mainlibrary.html#986" class="Field">viewFunctionCost</a>


<a id="4026" class="Comment">-- execute transfer auxiliary</a>
<a id="executeTransferAux"></a><a id="4056" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4056" class="Function">executeTransferAux</a> <a id="4075" class="Symbol">:</a> <a id="4077" class="Symbol">(</a><a id="4078" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4078" class="Bound">oldLedger</a> <a id="4088" class="Symbol">:</a> <a id="4090" href="libraries.Mainlibrary.html#1069" class="Function">Ledger</a><a id="4096" class="Symbol">)</a>
                   <a id="4117" class="Symbol">→</a> <a id="4119" class="Symbol">(</a><a id="4120" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4120" class="Bound">currentledger</a> <a id="4134" class="Symbol">:</a> <a id="4136" href="libraries.Mainlibrary.html#1069" class="Function">Ledger</a><a id="4142" class="Symbol">)</a>
                   <a id="4163" class="Symbol">→</a> <a id="4165" class="Symbol">(</a><a id="4166" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4166" class="Bound">executionStack</a> <a id="4181" class="Symbol">:</a> <a id="4183" href="libraries.Mainlibrary.html#2065" class="Function">ExecutionStack</a><a id="4197" class="Symbol">)</a>
                   <a id="4218" class="Symbol">→</a> <a id="4220" class="Symbol">(</a><a id="4221" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4221" class="Bound">initialAddr</a> <a id="4233" class="Symbol">:</a> <a id="4235" href="basicDataStructure.html#405" class="Function">Address</a><a id="4242" class="Symbol">)</a>
                   <a id="4263" class="Symbol">→</a> <a id="4265" class="Symbol">(</a><a id="4266" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4266" class="Bound">lastCallAddr</a> <a id="4279" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4279" class="Bound">calledAddr</a> <a id="4290" class="Symbol">:</a> <a id="4292" href="basicDataStructure.html#405" class="Function">Address</a><a id="4299" class="Symbol">)</a>
                   <a id="4320" class="Symbol">→</a> <a id="4322" class="Symbol">(</a><a id="4323" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4323" class="Bound">cont</a> <a id="4328" class="Symbol">:</a> <a id="4330" href="Complex-Model.ccomand.ccommands-cresponse.html#1546" class="Datatype">SmartContract</a> <a id="4344" href="basicDataStructure.html#523" class="Datatype">Msg</a><a id="4347" class="Symbol">)</a> <a id="4349" class="Symbol">→</a> <a id="4351" class="Symbol">(</a><a id="4352" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4352" class="Bound">gasleft</a> <a id="4360" class="Symbol">:</a> <a id="4362" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="4363" class="Symbol">)</a>
                   <a id="4384" class="Symbol">→</a> <a id="4386" class="Symbol">(</a><a id="4387" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4387" class="Bound">funNameevalState</a> <a id="4404" class="Symbol">:</a> <a id="4406" href="basicDataStructure.html#190" class="Function">FunctionName</a><a id="4418" class="Symbol">)</a>
                   <a id="4439" class="Symbol">→</a> <a id="4441" class="Symbol">(</a><a id="4442" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4442" class="Bound">msgevalState</a> <a id="4455" class="Symbol">:</a> <a id="4457" href="basicDataStructure.html#523" class="Datatype">Msg</a><a id="4460" class="Symbol">)</a>
                   <a id="4481" class="Symbol">→</a> <a id="4483" class="Symbol">(</a><a id="4484" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4484" class="Bound">amount&#39;</a> <a id="4492" class="Symbol">:</a> <a id="4494" href="basicDataStructure.html#378" class="Function">Amount</a><a id="4500" class="Symbol">)</a>
                   <a id="4521" class="Symbol">→</a> <a id="4523" class="Symbol">(</a><a id="4524" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4524" class="Bound">destinationAddr</a> <a id="4540" class="Symbol">:</a> <a id="4542" href="basicDataStructure.html#405" class="Function">Address</a><a id="4549" class="Symbol">)</a>
                   <a id="4570" class="Symbol">→</a> <a id="4572" class="Symbol">(</a><a id="4573" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4573" class="Bound">cp</a>  <a id="4577" class="Symbol">:</a> <a id="4579" href="libraries.natCompare.html#679" class="Datatype">OrderingLeq</a> <a id="4591" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4484" class="Bound">amount&#39;</a> <a id="4599" class="Symbol">(</a><a id="4600" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4120" class="Bound">currentledger</a> <a id="4614" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4279" class="Bound">calledAddr</a> <a id="4625" class="Symbol">.</a><a id="4626" href="libraries.Mainlibrary.html#833" class="Field">amount</a><a id="4632" class="Symbol">))</a>
                   <a id="4654" class="Symbol">→</a> <a id="4656" href="libraries.Mainlibrary.html#2164" class="Record">StateExecFun</a>
<a id="4669" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4056" class="Function">executeTransferAux</a> <a id="4688" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4688" class="Bound">oldLedger</a> <a id="4698" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4698" class="Bound">currentledger</a> <a id="4712" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4712" class="Bound">executionStack</a> <a id="4727" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4727" class="Bound">initialAddr</a> <a id="4739" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4739" class="Bound">lastCallAddr</a> <a id="4752" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4752" class="Bound">calledAddr</a> <a id="4763" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4763" class="Bound">cont</a> <a id="4768" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4768" class="Bound">gasleft</a>
                   <a id="4795" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4795" class="Bound">funNameevalState</a> <a id="4812" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4812" class="Bound">msgevalState</a> <a id="4825" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4825" class="Bound">amount&#39;</a> <a id="4833" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4833" class="Bound">destinationAddr</a> <a id="4849" class="Symbol">(</a><a id="4850" href="libraries.natCompare.html#717" class="InductiveConstructor">leq</a> <a id="4854" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4854" class="Bound">x</a><a id="4855" class="Symbol">)</a>
         <a id="4866" class="Symbol">=</a> <a id="4868" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="4876" class="Symbol">(</a><a id="4877" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1630" class="Function">updateLedgerAmount</a> <a id="4896" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4698" class="Bound">currentledger</a> <a id="4910" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4752" class="Bound">calledAddr</a> <a id="4921" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4833" class="Bound">destinationAddr</a> <a id="4937" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4825" class="Bound">amount&#39;</a> <a id="4945" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4854" class="Bound">x</a><a id="4946" class="Symbol">)</a>
          <a id="4958" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4712" class="Bound">executionStack</a> <a id="4973" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4727" class="Bound">initialAddr</a> <a id="4985" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4739" class="Bound">lastCallAddr</a> <a id="4998" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4752" class="Bound">calledAddr</a> <a id="5009" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4763" class="Bound">cont</a> <a id="5014" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4768" class="Bound">gasleft</a> <a id="5022" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4795" class="Bound">funNameevalState</a> <a id="5039" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4812" class="Bound">msgevalState</a>
<a id="5052" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4056" class="Function">executeTransferAux</a> <a id="5071" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5071" class="Bound">oldLedger</a> <a id="5081" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5081" class="Bound">currentledger</a> <a id="5095" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5095" class="Bound">executionStack</a> <a id="5110" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5110" class="Bound">initialAddr</a> <a id="5122" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5122" class="Bound">lastCallAddr</a> <a id="5135" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5135" class="Bound">calledAddr</a> <a id="5146" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5146" class="Bound">cont</a> <a id="5151" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5151" class="Bound">gasleft</a>
                   <a id="5178" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5178" class="Bound">funNameevalState</a> <a id="5195" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5195" class="Bound">msgevalState</a> <a id="5208" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5208" class="Bound">amount&#39;</a> <a id="5216" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5216" class="Bound">destinationAddr</a> <a id="5232" class="Symbol">(</a><a id="5233" href="libraries.natCompare.html#755" class="InductiveConstructor">greater</a> <a id="5241" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5241" class="Bound">x</a><a id="5242" class="Symbol">)</a>
          <a id="5254" class="Symbol">=</a> <a id="5256" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="5264" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5071" class="Bound">oldLedger</a> <a id="5274" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5095" class="Bound">executionStack</a> <a id="5289" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5110" class="Bound">initialAddr</a> <a id="5301" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5122" class="Bound">lastCallAddr</a> <a id="5314" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5135" class="Bound">calledAddr</a>
            <a id="5337" class="Symbol">(</a><a id="5338" href="Complex-Model.ccomand.ccommands-cresponse.html#1624" class="InductiveConstructor">error</a>  <a id="5345" class="Symbol">(</a><a id="5346" href="basicDataStructure.html#694" class="InductiveConstructor">strErr</a> <a id="5353" class="String">&quot;not enough money&quot;</a><a id="5371" class="Symbol">)</a>
            <a id="5385" href="basicDataStructure.html#881" class="InductiveConstructor Operator">⟨</a> <a id="5387" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5122" class="Bound">lastCallAddr</a> <a id="5400" href="basicDataStructure.html#881" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="5403" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5110" class="Bound">initialAddr</a> <a id="5415" href="basicDataStructure.html#881" class="InductiveConstructor Operator">∙</a> <a id="5417" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5178" class="Bound">funNameevalState</a> <a id="5434" href="basicDataStructure.html#881" class="InductiveConstructor Operator">[</a> <a id="5436" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5195" class="Bound">msgevalState</a> <a id="5449" href="basicDataStructure.html#881" class="InductiveConstructor Operator">]⟩</a><a id="5451" class="Symbol">)</a>
             <a id="5466" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5151" class="Bound">gasleft</a> <a id="5474" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5178" class="Bound">funNameevalState</a> <a id="5491" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5195" class="Bound">msgevalState</a>


<a id="5506" class="Comment">-- proof transfer Aux </a>
<a id="lemmaExecuteTransferAuxGasEq"></a><a id="5529" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5529" class="Function">lemmaExecuteTransferAuxGasEq</a> <a id="5558" class="Symbol">:</a> <a id="5560" class="Symbol">(</a><a id="5561" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5561" class="Bound">oldLedger</a> <a id="5571" class="Symbol">:</a> <a id="5573" href="libraries.Mainlibrary.html#1069" class="Function">Ledger</a><a id="5579" class="Symbol">)</a>
                              <a id="5611" class="Symbol">→</a> <a id="5613" class="Symbol">(</a><a id="5614" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5614" class="Bound">currentledger</a> <a id="5628" class="Symbol">:</a> <a id="5630" href="libraries.Mainlibrary.html#1069" class="Function">Ledger</a><a id="5636" class="Symbol">)</a>
                              <a id="5668" class="Symbol">→</a> <a id="5670" class="Symbol">(</a><a id="5671" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5671" class="Bound">executionStack</a> <a id="5686" class="Symbol">:</a> <a id="5688" href="libraries.Mainlibrary.html#2065" class="Function">ExecutionStack</a><a id="5702" class="Symbol">)</a>
                              <a id="5734" class="Symbol">→</a> <a id="5736" class="Symbol">(</a><a id="5737" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5737" class="Bound">initialAddr</a> <a id="5749" class="Symbol">:</a> <a id="5751" href="basicDataStructure.html#405" class="Function">Address</a><a id="5758" class="Symbol">)</a>
                              <a id="5790" class="Symbol">→</a> <a id="5792" class="Symbol">(</a><a id="5793" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5793" class="Bound">lastCallAddr</a> <a id="5806" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5806" class="Bound">calledAddr</a> <a id="5817" class="Symbol">:</a> <a id="5819" href="basicDataStructure.html#405" class="Function">Address</a><a id="5826" class="Symbol">)</a>
                              <a id="5858" class="Symbol">→</a> <a id="5860" class="Symbol">(</a><a id="5861" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5861" class="Bound">cont</a> <a id="5866" class="Symbol">:</a> <a id="5868" href="Complex-Model.ccomand.ccommands-cresponse.html#1546" class="Datatype">SmartContract</a> <a id="5882" href="basicDataStructure.html#523" class="Datatype">Msg</a><a id="5885" class="Symbol">)</a> <a id="5887" class="Symbol">→</a> <a id="5889" class="Symbol">(</a><a id="5890" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5890" class="Bound">gasleft1</a> <a id="5899" class="Symbol">:</a> <a id="5901" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="5902" class="Symbol">)</a>
                              <a id="5934" class="Symbol">→</a> <a id="5936" class="Symbol">(</a><a id="5937" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5937" class="Bound">funNameevalState</a> <a id="5954" class="Symbol">:</a> <a id="5956" href="basicDataStructure.html#190" class="Function">FunctionName</a><a id="5968" class="Symbol">)</a>
                              <a id="6000" class="Symbol">→</a> <a id="6002" class="Symbol">(</a><a id="6003" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6003" class="Bound">msgevalState</a> <a id="6016" class="Symbol">:</a> <a id="6018" href="basicDataStructure.html#523" class="Datatype">Msg</a><a id="6021" class="Symbol">)</a>
                              <a id="6053" class="Symbol">→</a> <a id="6055" class="Symbol">(</a><a id="6056" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6056" class="Bound">amount&#39;</a> <a id="6064" class="Symbol">:</a> <a id="6066" href="basicDataStructure.html#378" class="Function">Amount</a><a id="6072" class="Symbol">)</a>
                              <a id="6104" class="Symbol">→</a> <a id="6106" class="Symbol">(</a><a id="6107" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6107" class="Bound">destinationAddr</a> <a id="6123" class="Symbol">:</a> <a id="6125" href="basicDataStructure.html#405" class="Function">Address</a><a id="6132" class="Symbol">)</a>
                              <a id="6164" class="Symbol">→</a> <a id="6166" class="Symbol">(</a><a id="6167" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6167" class="Bound">cp</a>  <a id="6171" class="Symbol">:</a> <a id="6173" href="libraries.natCompare.html#679" class="Datatype">OrderingLeq</a> <a id="6185" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6056" class="Bound">amount&#39;</a> <a id="6193" class="Symbol">(</a><a id="6194" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5614" class="Bound">currentledger</a> <a id="6208" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5806" class="Bound">calledAddr</a> <a id="6219" class="Symbol">.</a><a id="6220" href="libraries.Mainlibrary.html#833" class="Field">amount</a><a id="6226" class="Symbol">))</a>
                              <a id="6259" class="Symbol">→</a> <a id="6261" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5890" class="Bound">gasleft1</a> <a id="6270" href="libraries.natCompare.html#552" class="Function Operator">==r</a> <a id="6274" href="libraries.Mainlibrary.html#2638" class="Field">gasLeft</a>
                                 <a id="6315" class="Symbol">(</a><a id="6316" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4056" class="Function">executeTransferAux</a> <a id="6335" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5561" class="Bound">oldLedger</a> <a id="6345" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5614" class="Bound">currentledger</a> <a id="6359" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5671" class="Bound">executionStack</a> <a id="6374" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5737" class="Bound">initialAddr</a>
                                  <a id="6420" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5793" class="Bound">lastCallAddr</a> <a id="6433" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5806" class="Bound">calledAddr</a> <a id="6444" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5861" class="Bound">cont</a> <a id="6449" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5890" class="Bound">gasleft1</a> <a id="6458" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5937" class="Bound">funNameevalState</a>
                                  <a id="6509" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6003" class="Bound">msgevalState</a> <a id="6522" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6056" class="Bound">amount&#39;</a> <a id="6530" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6107" class="Bound">destinationAddr</a> <a id="6546" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6167" class="Bound">cp</a><a id="6548" class="Symbol">)</a>
<a id="6550" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5529" class="Function">lemmaExecuteTransferAuxGasEq</a> <a id="6579" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6579" class="Bound">oldLedger</a> <a id="6589" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6589" class="Bound">currentledger</a> <a id="6603" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6603" class="Bound">executionStack</a> <a id="6618" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6618" class="Bound">initialAddr</a> <a id="6630" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6630" class="Bound">lastCallAddr</a> <a id="6643" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6643" class="Bound">calledAddr</a>
                             <a id="6683" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6683" class="Bound">cont</a> <a id="6688" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6688" class="Bound">gasleft1</a> <a id="6697" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6697" class="Bound">funNameevalState</a> <a id="6714" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6714" class="Bound">msgevalState</a> <a id="6727" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6727" class="Bound">amount&#39;</a> <a id="6735" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6735" class="Bound">destinationAddr</a> <a id="6751" class="Symbol">(</a><a id="6752" href="libraries.natCompare.html#717" class="InductiveConstructor">leq</a> <a id="6756" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6756" class="Bound">x</a><a id="6757" class="Symbol">)</a>     <a id="6763" class="Symbol">=</a> <a id="6765" href="libraries.natCompare.html#1703" class="Function">refl==r</a> <a id="6773" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6688" class="Bound">gasleft1</a>
<a id="6782" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5529" class="Function">lemmaExecuteTransferAuxGasEq</a> <a id="6811" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6811" class="Bound">oldLedger</a> <a id="6821" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6821" class="Bound">currentledger</a> <a id="6835" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6835" class="Bound">executionStack</a> <a id="6850" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6850" class="Bound">initialAddr</a> <a id="6862" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6862" class="Bound">lastCallAddr</a> <a id="6875" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6875" class="Bound">calledAddr</a>
                             <a id="6915" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6915" class="Bound">cont</a> <a id="6920" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6920" class="Bound">gasleft1</a> <a id="6929" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6929" class="Bound">funNameevalState</a> <a id="6946" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6946" class="Bound">msgevalState</a> <a id="6959" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6959" class="Bound">amount&#39;</a> <a id="6967" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6967" class="Bound">destinationAddr</a> <a id="6983" class="Symbol">(</a><a id="6984" href="libraries.natCompare.html#755" class="InductiveConstructor">greater</a> <a id="6992" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6992" class="Bound">x</a><a id="6993" class="Symbol">)</a> <a id="6995" class="Symbol">=</a> <a id="6997" href="libraries.natCompare.html#1703" class="Function">refl==r</a> <a id="7005" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6920" class="Bound">gasleft1</a>


<a id="7016" class="Comment">-- execute transfer</a>
<a id="executeTransfer"></a><a id="7036" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7036" class="Function">executeTransfer</a> <a id="7052" class="Symbol">:</a> <a id="7054" class="Symbol">(</a><a id="7055" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7055" class="Bound">oldLedger</a> <a id="7065" class="Symbol">:</a> <a id="7067" href="libraries.Mainlibrary.html#1069" class="Function">Ledger</a><a id="7073" class="Symbol">)</a>
                <a id="7091" class="Symbol">→</a> <a id="7093" class="Symbol">(</a><a id="7094" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7094" class="Bound">currentledger</a> <a id="7108" class="Symbol">:</a> <a id="7110" href="libraries.Mainlibrary.html#1069" class="Function">Ledger</a><a id="7116" class="Symbol">)</a>
                <a id="7134" class="Symbol">→</a> <a id="7136" class="Symbol">(</a><a id="7137" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7137" class="Bound">execStack</a> <a id="7147" class="Symbol">:</a> <a id="7149" href="libraries.Mainlibrary.html#2065" class="Function">ExecutionStack</a><a id="7163" class="Symbol">)</a>
                <a id="7181" class="Symbol">→</a> <a id="7183" class="Symbol">(</a><a id="7184" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7184" class="Bound">initialAddr</a> <a id="7196" class="Symbol">:</a> <a id="7198" href="basicDataStructure.html#405" class="Function">Address</a><a id="7205" class="Symbol">)</a>
                <a id="7223" class="Symbol">→</a> <a id="7225" class="Symbol">(</a><a id="7226" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7226" class="Bound">lastCallAddr</a> <a id="7239" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7239" class="Bound">calledAddr</a> <a id="7250" class="Symbol">:</a> <a id="7252" href="basicDataStructure.html#405" class="Function">Address</a><a id="7259" class="Symbol">)</a>
                <a id="7277" class="Symbol">→</a> <a id="7279" class="Symbol">(</a><a id="7280" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7280" class="Bound">cont</a> <a id="7285" class="Symbol">:</a> <a id="7287" href="Complex-Model.ccomand.ccommands-cresponse.html#1546" class="Datatype">SmartContract</a> <a id="7301" href="basicDataStructure.html#523" class="Datatype">Msg</a><a id="7304" class="Symbol">)</a>
                <a id="7322" class="Symbol">→</a> <a id="7324" class="Symbol">(</a><a id="7325" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7325" class="Bound">gasleft</a> <a id="7333" class="Symbol">:</a> <a id="7335" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="7336" class="Symbol">)</a>
                <a id="7354" class="Symbol">→</a> <a id="7356" class="Symbol">(</a><a id="7357" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7357" class="Bound">funNameevalState</a> <a id="7374" class="Symbol">:</a> <a id="7376" href="basicDataStructure.html#190" class="Function">FunctionName</a><a id="7388" class="Symbol">)</a>
                <a id="7406" class="Symbol">→</a> <a id="7408" class="Symbol">(</a><a id="7409" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7409" class="Bound">msgevalState</a> <a id="7422" class="Symbol">:</a> <a id="7424" href="basicDataStructure.html#523" class="Datatype">Msg</a><a id="7427" class="Symbol">)</a>
                <a id="7445" class="Symbol">→</a> <a id="7447" class="Symbol">(</a><a id="7448" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7448" class="Bound">amount&#39;</a> <a id="7456" class="Symbol">:</a> <a id="7458" href="basicDataStructure.html#378" class="Function">Amount</a><a id="7464" class="Symbol">)</a>
                <a id="7482" class="Symbol">→</a> <a id="7484" class="Symbol">(</a><a id="7485" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7485" class="Bound">destinationAddr</a> <a id="7501" class="Symbol">:</a> <a id="7503" href="basicDataStructure.html#405" class="Function">Address</a><a id="7510" class="Symbol">)</a>
                <a id="7528" class="Symbol">→</a> <a id="7530" href="libraries.Mainlibrary.html#2164" class="Record">StateExecFun</a>
<a id="7543" class="Comment">--@END</a>
<a id="7550" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7036" class="Function">executeTransfer</a> <a id="7566" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7566" class="Bound">oldLedger</a> <a id="7576" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7576" class="Bound">currentledger</a> <a id="7590" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7590" class="Bound">execStack</a> <a id="7600" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7600" class="Bound">initialAddr</a> <a id="7612" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7612" class="Bound">lastCallAddr</a> <a id="7625" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7625" class="Bound">calledAddr</a>
                <a id="7652" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7652" class="Bound">cont</a> <a id="7657" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7657" class="Bound">gasleft</a>  <a id="7666" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7666" class="Bound">funNameevalState</a> <a id="7683" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7683" class="Bound">msgevalState</a> <a id="7696" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7696" class="Bound">amount&#39;</a> <a id="7704" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7704" class="Bound">destinationAddr</a>
         <a id="7729" class="Symbol">=</a> <a id="7731" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4056" class="Function">executeTransferAux</a> <a id="7750" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7566" class="Bound">oldLedger</a> <a id="7760" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7576" class="Bound">currentledger</a> <a id="7774" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7590" class="Bound">execStack</a> <a id="7784" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7600" class="Bound">initialAddr</a> <a id="7796" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7612" class="Bound">lastCallAddr</a> <a id="7809" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7625" class="Bound">calledAddr</a>
            <a id="7832" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7652" class="Bound">cont</a> <a id="7837" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7657" class="Bound">gasleft</a>  <a id="7846" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7666" class="Bound">funNameevalState</a> <a id="7863" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7683" class="Bound">msgevalState</a> <a id="7876" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7696" class="Bound">amount&#39;</a>
            <a id="7896" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7704" class="Bound">destinationAddr</a> <a id="7912" class="Symbol">(</a><a id="7913" href="libraries.natCompare.html#936" class="Function">compareLeq</a> <a id="7924" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7696" class="Bound">amount&#39;</a> <a id="7932" class="Symbol">(</a><a id="7933" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7576" class="Bound">currentledger</a> <a id="7947" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7625" class="Bound">calledAddr</a> <a id="7958" class="Symbol">.</a><a id="7959" href="libraries.Mainlibrary.html#833" class="Field">amount</a><a id="7965" class="Symbol">))</a>



<a id="7971" class="Comment">-- the stepEF without deducting the gasLeft</a>
<a id="stepEF"></a><a id="8015" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8015" class="Function">stepEF</a> <a id="8022" class="Symbol">:</a> <a id="8024" href="libraries.Mainlibrary.html#1069" class="Function">Ledger</a> <a id="8031" class="Symbol">→</a> <a id="8033" href="libraries.Mainlibrary.html#2164" class="Record">StateExecFun</a> <a id="8046" class="Symbol">→</a> <a id="8048" href="libraries.Mainlibrary.html#2164" class="Record">StateExecFun</a>
<a id="8061" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8015" class="Function">stepEF</a> <a id="8068" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8068" class="Bound">oldLedger</a> <a id="8078" class="Symbol">(</a><a id="8079" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="8087" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8087" class="Bound">currentLedger</a> <a id="8101" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8101" class="Bound">executionStack</a> <a id="8116" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8116" class="Bound">initialAddr</a> <a id="8128" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8128" class="Bound">lastCallAddr</a> <a id="8141" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8141" class="Bound">calledAddr</a>
                 <a id="8169" class="Symbol">(</a><a id="8170" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="InductiveConstructor">exec</a> <a id="8175" href="Complex-Model.ccomand.ccommands-cresponse.html#860" class="InductiveConstructor">currentAddrLookupc</a> <a id="8194" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8194" class="Bound">costcomputecont</a> <a id="8210" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8210" class="Bound">cont</a><a id="8214" class="Symbol">)</a> <a id="8216" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8216" class="Bound">gasLeft</a> <a id="8224" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8224" class="Bound">funNameevalState</a> <a id="8241" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8241" class="Bound">msgevalState</a><a id="8253" class="Symbol">)</a>
       <a id="8262" class="Symbol">=</a> <a id="8264" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="8272" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8087" class="Bound">currentLedger</a> <a id="8286" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8101" class="Bound">executionStack</a> <a id="8301" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8116" class="Bound">initialAddr</a> <a id="8313" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8128" class="Bound">lastCallAddr</a> <a id="8326" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8141" class="Bound">calledAddr</a>
          <a id="8347" class="Symbol">(</a><a id="8348" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8210" class="Bound">cont</a> <a id="8353" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8141" class="Bound">calledAddr</a><a id="8363" class="Symbol">)</a> <a id="8365" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8216" class="Bound">gasLeft</a>  <a id="8374" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8224" class="Bound">funNameevalState</a> <a id="8391" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8241" class="Bound">msgevalState</a> 

<a id="8406" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8015" class="Function">stepEF</a> <a id="8413" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8413" class="Bound">oldLedger</a> <a id="8423" class="Symbol">(</a><a id="8424" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="8432" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8432" class="Bound">currentLedger</a> <a id="8446" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8446" class="Bound">executionStack</a> <a id="8461" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8461" class="Bound">initialAddr</a> <a id="8473" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8473" class="Bound">lastCallAddr</a> <a id="8486" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8486" class="Bound">calledAddr</a>
                 <a id="8514" class="Symbol">(</a><a id="8515" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="InductiveConstructor">exec</a> <a id="8520" href="Complex-Model.ccomand.ccommands-cresponse.html#895" class="InductiveConstructor">callAddrLookupc</a> <a id="8536" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8536" class="Bound">costcomputecont</a> <a id="8552" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8552" class="Bound">cont</a><a id="8556" class="Symbol">)</a> <a id="8558" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8558" class="Bound">gasLeft</a> <a id="8566" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8566" class="Bound">funNameevalState</a> <a id="8583" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8583" class="Bound">msgevalState</a><a id="8595" class="Symbol">)</a>
       <a id="8604" class="Symbol">=</a> <a id="8606" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="8614" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8432" class="Bound">currentLedger</a> <a id="8628" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8446" class="Bound">executionStack</a> <a id="8643" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8461" class="Bound">initialAddr</a> <a id="8655" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8473" class="Bound">lastCallAddr</a> <a id="8668" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8486" class="Bound">calledAddr</a> <a id="8679" class="Symbol">(</a><a id="8680" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8552" class="Bound">cont</a> <a id="8685" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8473" class="Bound">lastCallAddr</a><a id="8697" class="Symbol">)</a>
          <a id="8709" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8558" class="Bound">gasLeft</a>  <a id="8718" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8566" class="Bound">funNameevalState</a> <a id="8735" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8583" class="Bound">msgevalState</a>

<a id="8749" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8015" class="Function">stepEF</a> <a id="8756" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8756" class="Bound">oldLedger</a> <a id="8766" class="Symbol">(</a><a id="8767" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="8775" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8775" class="Bound">currentLedger</a> <a id="8789" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8789" class="Bound">executionStack</a> <a id="8804" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8804" class="Bound">initialAddr</a> <a id="8816" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8816" class="Bound">lastCallAddr</a> <a id="8829" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8829" class="Bound">calledAddr</a>
                 <a id="8857" class="Symbol">(</a><a id="8858" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="InductiveConstructor">exec</a> <a id="8863" class="Symbol">(</a><a id="8864" href="Complex-Model.ccomand.ccommands-cresponse.html#550" class="InductiveConstructor">updatec</a> <a id="8872" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8872" class="Bound">changedFname</a> <a id="8885" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8885" class="Bound">changedPFun</a> <a id="8897" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8897" class="Bound">cost</a><a id="8901" class="Symbol">)</a> <a id="8903" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8903" class="Bound">costcomputecont</a> <a id="8919" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8919" class="Bound">cont</a><a id="8923" class="Symbol">)</a>
                 <a id="8942" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8942" class="Bound">gasLeft</a>  <a id="8951" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8951" class="Bound">funNameevalState</a> <a id="8968" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8968" class="Bound">msgevalState</a><a id="8980" class="Symbol">)</a>
       <a id="8989" class="Symbol">=</a> <a id="8991" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="8999" class="Symbol">(</a><a id="9000" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#783" class="Function">updateLedgerviewfun</a> <a id="9020" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8775" class="Bound">currentLedger</a> <a id="9034" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8829" class="Bound">calledAddr</a> <a id="9045" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8872" class="Bound">changedFname</a>  <a id="9059" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8885" class="Bound">changedPFun</a> <a id="9071" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8897" class="Bound">cost</a><a id="9075" class="Symbol">)</a>
          <a id="9087" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8789" class="Bound">executionStack</a> <a id="9102" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8804" class="Bound">initialAddr</a> <a id="9114" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8816" class="Bound">lastCallAddr</a> <a id="9127" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8829" class="Bound">calledAddr</a> <a id="9138" class="Symbol">(</a><a id="9139" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8919" class="Bound">cont</a> <a id="9144" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="9146" class="Symbol">)</a> <a id="9148" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8942" class="Bound">gasLeft</a>
            <a id="9168" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8951" class="Bound">funNameevalState</a> <a id="9185" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8968" class="Bound">msgevalState</a>

<a id="9199" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8015" class="Function">stepEF</a> <a id="9206" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9206" class="Bound">oldLedger</a> <a id="9216" class="Symbol">(</a><a id="9217" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="9225" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9225" class="Bound">currentLedger</a> <a id="9239" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9239" class="Bound">executionStack</a> <a id="9254" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9254" class="Bound">initialAddr</a> <a id="9266" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9266" class="Bound">oldlastCallAddr</a> <a id="9282" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9282" class="Bound">oldcalledAddr</a>
                 <a id="9313" class="Symbol">(</a><a id="9314" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="InductiveConstructor">exec</a> <a id="9319" class="Symbol">(</a><a id="9320" href="Complex-Model.ccomand.ccommands-cresponse.html#802" class="InductiveConstructor">callc</a> <a id="9326" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9326" class="Bound">newaddr</a> <a id="9334" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9334" class="Bound">fname</a> <a id="9340" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9340" class="Bound">msg</a><a id="9343" class="Symbol">)</a> <a id="9345" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9345" class="Bound">costcomputecont</a> <a id="9361" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9361" class="Bound">cont</a><a id="9365" class="Symbol">)</a> <a id="9367" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9367" class="Bound">gasLeft</a> <a id="9375" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9375" class="Bound">funNameevalState</a> <a id="9392" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9392" class="Bound">msgevalState</a><a id="9404" class="Symbol">)</a>
       <a id="9413" class="Symbol">=</a> <a id="9415" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="9423" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9225" class="Bound">currentLedger</a>
           <a id="9448" class="Symbol">(</a><a id="9449" href="libraries.Mainlibrary.html#1190" class="InductiveConstructor">execStackEl</a> <a id="9461" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9266" class="Bound">oldlastCallAddr</a> <a id="9477" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9282" class="Bound">oldcalledAddr</a> <a id="9491" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9361" class="Bound">cont</a> <a id="9496" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9345" class="Bound">costcomputecont</a> <a id="9512" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9375" class="Bound">funNameevalState</a> <a id="9529" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9392" class="Bound">msgevalState</a> <a id="9542" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9544" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9239" class="Bound">executionStack</a><a id="9558" class="Symbol">)</a>
           <a id="9571" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9254" class="Bound">initialAddr</a> <a id="9583" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9282" class="Bound">oldcalledAddr</a> <a id="9597" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9326" class="Bound">newaddr</a> <a id="9605" class="Symbol">(</a><a id="9606" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9225" class="Bound">currentLedger</a> <a id="9620" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9326" class="Bound">newaddr</a> <a id="9628" class="Symbol">.</a><a id="9629" href="libraries.Mainlibrary.html#859" class="Field">fun</a> <a id="9633" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9334" class="Bound">fname</a> <a id="9639" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9340" class="Bound">msg</a><a id="9642" class="Symbol">)</a> <a id="9644" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9367" class="Bound">gasLeft</a> <a id="9652" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9334" class="Bound">fname</a> <a id="9658" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9340" class="Bound">msg</a>

<a id="9663" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8015" class="Function">stepEF</a> <a id="9670" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9670" class="Bound">oldLedger</a> <a id="9680" class="Symbol">(</a><a id="9681" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="9689" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9689" class="Bound">currentLedger</a> <a id="9703" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9703" class="Bound">executionStack</a> <a id="9718" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9718" class="Bound">initialAddr</a> <a id="9730" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9730" class="Bound">lastCallAddr</a> <a id="9743" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9743" class="Bound">calledAddr</a>
                 <a id="9771" class="Symbol">(</a><a id="9772" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="InductiveConstructor">exec</a> <a id="9777" class="Symbol">(</a><a id="9778" href="Complex-Model.ccomand.ccommands-cresponse.html#756" class="InductiveConstructor">transferc</a> <a id="9788" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9788" class="Bound">amount</a> <a id="9795" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9795" class="Bound">destinationAddr</a><a id="9810" class="Symbol">)</a> <a id="9812" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9812" class="Bound">costcomputecont</a> <a id="9828" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9828" class="Bound">cont</a><a id="9832" class="Symbol">)</a> <a id="9834" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9834" class="Bound">gasLeft</a>  <a id="9843" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9843" class="Bound">funNameevalState</a> <a id="9860" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9860" class="Bound">msgevalState</a><a id="9872" class="Symbol">)</a>
       <a id="9881" class="Symbol">=</a> <a id="9883" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7036" class="Function">executeTransfer</a> <a id="9899" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9670" class="Bound">oldLedger</a> <a id="9909" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9689" class="Bound">currentLedger</a> <a id="9923" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9703" class="Bound">executionStack</a> <a id="9938" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9718" class="Bound">initialAddr</a> <a id="9950" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9730" class="Bound">lastCallAddr</a> <a id="9963" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9743" class="Bound">calledAddr</a>
       <a id="9981" class="Symbol">(</a><a id="9982" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9828" class="Bound">cont</a> <a id="9987" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="9989" class="Symbol">)</a> <a id="9991" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9834" class="Bound">gasLeft</a>  <a id="10000" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9843" class="Bound">funNameevalState</a> <a id="10017" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9860" class="Bound">msgevalState</a> <a id="10030" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9788" class="Bound">amount</a> <a id="10037" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9795" class="Bound">destinationAddr</a>

<a id="10054" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8015" class="Function">stepEF</a> <a id="10061" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10061" class="Bound">oldLedger</a> <a id="10071" class="Symbol">(</a><a id="10072" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="10080" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10080" class="Bound">currentLedger</a> <a id="10094" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10094" class="Bound">executionStack</a> <a id="10109" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10109" class="Bound">initialAddr</a> <a id="10121" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10121" class="Bound">lastCallAddr</a> <a id="10134" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10134" class="Bound">calledAddr</a>
                 <a id="10162" class="Symbol">(</a><a id="10163" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="InductiveConstructor">exec</a> <a id="10168" class="Symbol">(</a><a id="10169" href="Complex-Model.ccomand.ccommands-cresponse.html#927" class="InductiveConstructor">getAmountc</a> <a id="10180" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10180" class="Bound">addrLookedUp</a><a id="10192" class="Symbol">)</a> <a id="10194" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10194" class="Bound">costcomputecont</a> <a id="10210" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10210" class="Bound">cont</a><a id="10214" class="Symbol">)</a> <a id="10216" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10216" class="Bound">gasLeft</a> <a id="10224" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10224" class="Bound">funNameevalState</a> <a id="10241" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10241" class="Bound">msgevalState</a><a id="10253" class="Symbol">)</a>
       <a id="10262" class="Symbol">=</a> <a id="10264" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="10272" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10080" class="Bound">currentLedger</a> <a id="10286" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10094" class="Bound">executionStack</a> <a id="10301" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10109" class="Bound">initialAddr</a> <a id="10313" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10121" class="Bound">lastCallAddr</a> <a id="10326" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10134" class="Bound">calledAddr</a>
           <a id="10348" class="Symbol">(</a><a id="10349" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10210" class="Bound">cont</a> <a id="10354" class="Symbol">(</a><a id="10355" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10080" class="Bound">currentLedger</a> <a id="10369" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10180" class="Bound">addrLookedUp</a> <a id="10382" class="Symbol">.</a><a id="10383" href="libraries.Mainlibrary.html#833" class="Field">amount</a><a id="10389" class="Symbol">))</a> <a id="10392" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10216" class="Bound">gasLeft</a> <a id="10400" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10224" class="Bound">funNameevalState</a> <a id="10417" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10241" class="Bound">msgevalState</a>


<a id="10432" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8015" class="Function">stepEF</a> <a id="10439" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10439" class="Bound">oldLedger</a> <a id="10449" class="Symbol">(</a><a id="10450" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="10458" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10458" class="Bound">ledger</a> <a id="10465" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10465" class="Bound">executionStack</a> <a id="10480" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10480" class="Bound">initialAddr</a> <a id="10492" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10492" class="Bound">lastCallAddr</a> <a id="10505" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10505" class="Bound">calledAddr</a>
                   <a id="10535" class="Symbol">(</a><a id="10536" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="InductiveConstructor">exec</a> <a id="10541" class="Symbol">(</a><a id="10542" href="Complex-Model.ccomand.ccommands-cresponse.html#711" class="InductiveConstructor">raiseException</a> <a id="10557" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10557" class="Bound">cost</a> <a id="10562" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10562" class="Bound">str</a><a id="10565" class="Symbol">)</a> <a id="10567" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10567" class="Bound">costcomputecont</a> <a id="10583" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10583" class="Bound">cont</a><a id="10587" class="Symbol">)</a>
                   <a id="10608" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10608" class="Bound">gasLeft</a> <a id="10616" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10616" class="Bound">funNameevalState</a> <a id="10633" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10633" class="Bound">msgevalState</a><a id="10645" class="Symbol">)</a>
       <a id="10654" class="Symbol">=</a> <a id="10656" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="10664" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10439" class="Bound">oldLedger</a> <a id="10674" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10465" class="Bound">executionStack</a> <a id="10689" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10480" class="Bound">initialAddr</a> <a id="10701" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10492" class="Bound">lastCallAddr</a> <a id="10714" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10505" class="Bound">calledAddr</a>
         <a id="10734" class="Symbol">(</a><a id="10735" href="Complex-Model.ccomand.ccommands-cresponse.html#1624" class="InductiveConstructor">error</a>  <a id="10742" class="Symbol">(</a><a id="10743" href="basicDataStructure.html#694" class="InductiveConstructor">strErr</a> <a id="10750" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10562" class="Bound">str</a><a id="10753" class="Symbol">)</a> <a id="10755" href="basicDataStructure.html#881" class="InductiveConstructor Operator">⟨</a> <a id="10757" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10492" class="Bound">lastCallAddr</a> <a id="10770" href="basicDataStructure.html#881" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="10773" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10480" class="Bound">initialAddr</a> <a id="10785" href="basicDataStructure.html#881" class="InductiveConstructor Operator">∙</a> <a id="10787" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10616" class="Bound">funNameevalState</a> <a id="10804" href="basicDataStructure.html#881" class="InductiveConstructor Operator">[</a> <a id="10806" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10633" class="Bound">msgevalState</a> <a id="10819" href="basicDataStructure.html#881" class="InductiveConstructor Operator">]⟩</a><a id="10821" class="Symbol">)</a>
         <a id="10832" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10608" class="Bound">gasLeft</a> <a id="10840" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10616" class="Bound">funNameevalState</a> <a id="10857" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10633" class="Bound">msgevalState</a>


<a id="10872" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8015" class="Function">stepEF</a> <a id="10879" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10879" class="Bound">oldLedger</a> <a id="10889" class="Symbol">(</a><a id="10890" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="10898" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10898" class="Bound">currentLedger</a> <a id="10912" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10912" class="Bound">executionStack</a> <a id="10927" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10927" class="Bound">initialAddr</a> <a id="10939" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10939" class="Bound">lastCallAddr</a> <a id="10952" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10952" class="Bound">calledAddr</a>
                 <a id="10980" class="Symbol">(</a><a id="10981" href="Complex-Model.ccomand.ccommands-cresponse.html#1624" class="InductiveConstructor">error</a> <a id="10987" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10987" class="Bound">errorMsg</a> <a id="10996" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10996" class="Bound">debugInfo</a><a id="11005" class="Symbol">)</a> <a id="11007" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11007" class="Bound">gasLeft</a>  <a id="11016" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11016" class="Bound">funNameevalState</a> <a id="11033" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11033" class="Bound">msgevalState</a><a id="11045" class="Symbol">)</a>
       <a id="11054" class="Symbol">=</a> <a id="11056" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="11064" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10879" class="Bound">oldLedger</a> <a id="11074" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10912" class="Bound">executionStack</a> <a id="11089" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10927" class="Bound">initialAddr</a> <a id="11101" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10939" class="Bound">lastCallAddr</a> <a id="11114" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10952" class="Bound">calledAddr</a>
         <a id="11134" class="Symbol">(</a><a id="11135" href="Complex-Model.ccomand.ccommands-cresponse.html#1624" class="InductiveConstructor">error</a> <a id="11141" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10987" class="Bound">errorMsg</a> <a id="11150" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10996" class="Bound">debugInfo</a><a id="11159" class="Symbol">)</a>  <a id="11162" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11007" class="Bound">gasLeft</a>  <a id="11171" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11016" class="Bound">funNameevalState</a> <a id="11188" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11033" class="Bound">msgevalState</a>


<a id="11203" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8015" class="Function">stepEF</a> <a id="11210" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11210" class="Bound">oldLedger</a> <a id="11220" class="Symbol">(</a><a id="11221" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="11229" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11229" class="Bound">currentLedger</a> <a id="11243" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11243" class="Bound">executionStack</a> <a id="11258" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11258" class="Bound">initialAddr</a> <a id="11270" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11270" class="Bound">lastCallAddr</a> <a id="11283" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11283" class="Bound">calledAddr</a>
                 <a id="11311" class="Symbol">(</a><a id="11312" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="InductiveConstructor">exec</a> <a id="11317" class="Symbol">(</a><a id="11318" href="Complex-Model.ccomand.ccommands-cresponse.html#491" class="InductiveConstructor">callView</a> <a id="11327" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11327" class="Bound">addr</a> <a id="11332" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11332" class="Bound">fname</a> <a id="11338" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11338" class="Bound">msg</a><a id="11341" class="Symbol">)</a> <a id="11343" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11343" class="Bound">costcomputecont</a> <a id="11359" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11359" class="Bound">cont</a><a id="11363" class="Symbol">)</a> <a id="11365" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11365" class="Bound">gasLeft</a>
                  <a id="11391" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11391" class="Bound">funNameevalState</a> <a id="11408" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11408" class="Bound">msgevalState</a><a id="11420" class="Symbol">)</a>
       <a id="11429" class="Symbol">=</a> <a id="11431" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="11439" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11229" class="Bound">currentLedger</a> <a id="11453" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11243" class="Bound">executionStack</a> <a id="11468" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11258" class="Bound">initialAddr</a> <a id="11480" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11270" class="Bound">lastCallAddr</a> <a id="11493" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11283" class="Bound">calledAddr</a>
         <a id="11513" class="Symbol">(</a><a id="11514" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11359" class="Bound">cont</a> <a id="11519" class="Symbol">(</a><a id="11520" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11229" class="Bound">currentLedger</a> <a id="11534" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11327" class="Bound">addr</a> <a id="11539" class="Symbol">.</a><a id="11540" href="libraries.Mainlibrary.html#928" class="Field">viewFunction</a> <a id="11553" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11332" class="Bound">fname</a> <a id="11559" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11338" class="Bound">msg</a><a id="11562" class="Symbol">))</a> <a id="11565" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11365" class="Bound">gasLeft</a> <a id="11573" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11332" class="Bound">fname</a> <a id="11579" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11338" class="Bound">msg</a>


<a id="11585" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8015" class="Function">stepEF</a> <a id="11592" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11592" class="Bound">oldLedger</a> <a id="11602" class="Symbol">(</a><a id="11603" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="11611" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11611" class="Bound">currentLedger</a> <a id="11625" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="11628" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11628" class="Bound">initialAddr</a> <a id="11640" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11640" class="Bound">lastCallAddr</a> <a id="11653" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11653" class="Bound">calledAddr</a>
                 <a id="11681" class="Symbol">(</a><a id="11682" href="Complex-Model.ccomand.ccommands-cresponse.html#1586" class="InductiveConstructor">return</a> <a id="11689" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11689" class="Bound">cost</a> <a id="11694" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11694" class="Bound">result</a><a id="11700" class="Symbol">)</a> <a id="11702" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11702" class="Bound">gasLeft</a>  <a id="11711" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11711" class="Bound">funNameevalState</a> <a id="11728" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11728" class="Bound">msgevalState</a><a id="11740" class="Symbol">)</a>
       <a id="11749" class="Symbol">=</a> <a id="11751" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="11759" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11611" class="Bound">currentLedger</a> <a id="11773" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="11776" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11628" class="Bound">initialAddr</a> <a id="11788" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11640" class="Bound">lastCallAddr</a> <a id="11801" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11653" class="Bound">calledAddr</a>
         <a id="11821" class="Symbol">(</a><a id="11822" href="Complex-Model.ccomand.ccommands-cresponse.html#1586" class="InductiveConstructor">return</a> <a id="11829" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11689" class="Bound">cost</a> <a id="11834" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11694" class="Bound">result</a><a id="11840" class="Symbol">)</a> <a id="11842" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11702" class="Bound">gasLeft</a>  <a id="11851" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11711" class="Bound">funNameevalState</a> <a id="11868" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11728" class="Bound">msgevalState</a> 

<a id="11883" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8015" class="Function">stepEF</a> <a id="11890" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11890" class="Bound">oldLedger</a> <a id="11900" class="Symbol">(</a><a id="11901" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="11909" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11909" class="Bound">currentLedger</a> <a id="11923" class="Symbol">(</a><a id="11924" href="libraries.Mainlibrary.html#1190" class="InductiveConstructor">execStackEl</a> <a id="11936" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11936" class="Bound">prevLastCallAddress</a> <a id="11956" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11956" class="Bound">prevCalledAddress</a> <a id="11974" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11974" class="Bound">prevContinuation</a>
                 <a id="12008" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12008" class="Bound">prevCostCont</a> <a id="12021" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12021" class="Bound">prevFunName</a> <a id="12033" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12033" class="Bound">prevMsgExec</a> <a id="12045" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="12047" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12047" class="Bound">executionStack</a><a id="12061" class="Symbol">)</a>
                  <a id="12081" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12081" class="Bound">initialAddr</a> <a id="12093" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12093" class="Bound">lastCallAddr</a> <a id="12106" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12106" class="Bound">calledAddr</a> <a id="12117" class="Symbol">(</a><a id="12118" href="Complex-Model.ccomand.ccommands-cresponse.html#1586" class="InductiveConstructor">return</a> <a id="12125" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12125" class="Bound">cost</a> <a id="12130" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12130" class="Bound">result</a><a id="12136" class="Symbol">)</a> <a id="12138" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12138" class="Bound">gasLeft</a> <a id="12146" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12146" class="Bound">funNameevalState</a> <a id="12163" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12163" class="Bound">msgevalState</a><a id="12175" class="Symbol">)</a>
       <a id="12184" class="Symbol">=</a> <a id="12186" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="12194" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11909" class="Bound">currentLedger</a> <a id="12208" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12047" class="Bound">executionStack</a> <a id="12223" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12081" class="Bound">initialAddr</a> <a id="12235" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11936" class="Bound">prevLastCallAddress</a> <a id="12255" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11956" class="Bound">prevCalledAddress</a>
          <a id="12283" class="Symbol">(</a><a id="12284" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11974" class="Bound">prevContinuation</a> <a id="12301" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12130" class="Bound">result</a><a id="12307" class="Symbol">)</a> <a id="12309" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12138" class="Bound">gasLeft</a> <a id="12317" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12021" class="Bound">prevFunName</a> <a id="12329" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12033" class="Bound">prevMsgExec</a>


<a id="12343" class="Comment">--some lemmas to prove and we use them with our executevotingexample.agda</a>
<a id="lemmaStepEFpreserveGas"></a><a id="12417" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12417" class="Function">lemmaStepEFpreserveGas</a> <a id="12440" class="Symbol">:</a> <a id="12442" class="Symbol">(</a><a id="12443" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12443" class="Bound">oldLedger</a> <a id="12453" class="Symbol">:</a> <a id="12455" href="libraries.Mainlibrary.html#1069" class="Function">Ledger</a><a id="12461" class="Symbol">)</a> <a id="12463" class="Symbol">→</a> <a id="12465" class="Symbol">(</a><a id="12466" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12466" class="Bound">state</a> <a id="12472" class="Symbol">:</a> <a id="12474" href="libraries.Mainlibrary.html#2164" class="Record">StateExecFun</a><a id="12486" class="Symbol">)</a> <a id="12488" class="Symbol">→</a>
                         <a id="12515" href="libraries.Mainlibrary.html#2638" class="Field">gasLeft</a> <a id="12523" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12466" class="Bound">state</a> <a id="12529" href="libraries.natCompare.html#552" class="Function Operator">==r</a> <a id="12533" href="libraries.Mainlibrary.html#2638" class="Field">gasLeft</a> <a id="12541" class="Symbol">(</a><a id="12542" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8015" class="Function">stepEF</a> <a id="12549" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12443" class="Bound">oldLedger</a> <a id="12559" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12466" class="Bound">state</a><a id="12564" class="Symbol">)</a>
<a id="12566" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12417" class="Function">lemmaStepEFpreserveGas</a> <a id="12589" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12589" class="Bound">oldLedger</a> <a id="12599" class="Symbol">(</a><a id="12600" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="12608" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12608" class="Bound">ledger</a> <a id="12615" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="12618" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12618" class="Bound">initialAddr</a> <a id="12630" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12630" class="Bound">lastCallAddr</a> <a id="12643" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12643" class="Bound">calledAddr</a>
                       <a id="12677" class="Symbol">(</a><a id="12678" href="Complex-Model.ccomand.ccommands-cresponse.html#1586" class="InductiveConstructor">return</a> <a id="12685" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12685" class="Bound">x</a> <a id="12687" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12687" class="Bound">x₁</a><a id="12689" class="Symbol">)</a> <a id="12691" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12691" class="Bound">gasLeft1</a> <a id="12700" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12700" class="Bound">funNameevalState</a> <a id="12717" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12717" class="Bound">msgevalState</a><a id="12729" class="Symbol">)</a> <a id="12731" class="Symbol">=</a> <a id="12733" href="libraries.natCompare.html#1703" class="Function">refl==r</a> <a id="12741" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12691" class="Bound">gasLeft1</a>
<a id="12750" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12417" class="Function">lemmaStepEFpreserveGas</a> <a id="12773" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12773" class="Bound">oldLedger</a> <a id="12783" class="Symbol">(</a><a id="12784" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="12792" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12792" class="Bound">ledger</a> <a id="12799" class="Symbol">(</a><a id="12800" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12800" class="Bound">x₂</a> <a id="12803" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="12805" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12805" class="Bound">executionStack₁</a><a id="12820" class="Symbol">)</a> <a id="12822" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12822" class="Bound">initialAddr</a> <a id="12834" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12834" class="Bound">lastCallAddr</a> <a id="12847" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12847" class="Bound">calledAddr</a>
                       <a id="12881" class="Symbol">(</a><a id="12882" href="Complex-Model.ccomand.ccommands-cresponse.html#1586" class="InductiveConstructor">return</a> <a id="12889" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12889" class="Bound">x</a> <a id="12891" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12891" class="Bound">x₁</a><a id="12893" class="Symbol">)</a> <a id="12895" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12895" class="Bound">gasLeft1</a> <a id="12904" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12904" class="Bound">funNameevalState</a> <a id="12921" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12921" class="Bound">msgevalState</a><a id="12933" class="Symbol">)</a> <a id="12935" class="Symbol">=</a> <a id="12937" href="libraries.natCompare.html#1703" class="Function">refl==r</a> <a id="12945" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12895" class="Bound">gasLeft1</a>
<a id="12954" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12417" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="12976" class="CatchallClause"> </a><a id="12977" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12977" class="CatchallClause Bound">oldLedger</a><a id="12986" class="CatchallClause"> </a><a id="12987" class="CatchallClause Symbol">(</a><a id="12988" href="libraries.Mainlibrary.html#2203" class="CatchallClause InductiveConstructor">stateEF</a><a id="12995" class="CatchallClause"> </a><a id="12996" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12996" class="CatchallClause Bound">ledger</a><a id="13002" class="CatchallClause"> </a><a id="13003" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13003" class="CatchallClause Bound">executionStack</a><a id="13017" class="CatchallClause"> </a><a id="13018" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13018" class="CatchallClause Bound">initialAddr</a><a id="13029" class="CatchallClause"> </a><a id="13030" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13030" class="CatchallClause Bound">lastCallAddr</a><a id="13042" class="CatchallClause"> </a><a id="13043" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13043" class="CatchallClause Bound">calledAddr</a>
                       <a id="13077" class="CatchallClause Symbol">(</a><a id="13078" href="Complex-Model.ccomand.ccommands-cresponse.html#1624" class="CatchallClause InductiveConstructor">error</a><a id="13083" class="CatchallClause"> </a><a id="13084" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13084" class="CatchallClause Bound">x</a><a id="13085" class="CatchallClause"> </a><a id="13086" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13086" class="CatchallClause Bound">x₁</a><a id="13088" class="CatchallClause Symbol">)</a><a id="13089" class="CatchallClause"> </a><a id="13090" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13090" class="CatchallClause Bound">gasLeft1</a><a id="13098" class="CatchallClause"> </a><a id="13099" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13099" class="CatchallClause Bound">funNameevalState</a><a id="13115" class="CatchallClause"> </a><a id="13116" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13116" class="CatchallClause Bound">msgevalState</a><a id="13128" class="CatchallClause Symbol">)</a> <a id="13130" class="Symbol">=</a> <a id="13132" href="libraries.natCompare.html#1703" class="Function">refl==r</a> <a id="13140" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13090" class="Bound">gasLeft1</a>
<a id="13149" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12417" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="13171" class="CatchallClause"> </a><a id="13172" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13172" class="CatchallClause Bound">oldLedger</a><a id="13181" class="CatchallClause"> </a><a id="13182" class="CatchallClause Symbol">(</a><a id="13183" href="libraries.Mainlibrary.html#2203" class="CatchallClause InductiveConstructor">stateEF</a><a id="13190" class="CatchallClause"> </a><a id="13191" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13191" class="CatchallClause Bound">ledger</a><a id="13197" class="CatchallClause"> </a><a id="13198" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13198" class="CatchallClause Bound">executionStack</a><a id="13212" class="CatchallClause"> </a><a id="13213" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13213" class="CatchallClause Bound">initialAddr</a><a id="13224" class="CatchallClause"> </a><a id="13225" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13225" class="CatchallClause Bound">lastCallAddr</a><a id="13237" class="CatchallClause"> </a><a id="13238" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13238" class="CatchallClause Bound">calledAddr</a>
                       <a id="13272" class="CatchallClause Symbol">(</a><a id="13273" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="CatchallClause InductiveConstructor">exec</a><a id="13277" class="CatchallClause"> </a><a id="13278" class="CatchallClause Symbol">(</a><a id="13279" href="Complex-Model.ccomand.ccommands-cresponse.html#491" class="CatchallClause InductiveConstructor">callView</a><a id="13287" class="CatchallClause"> </a><a id="13288" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13288" class="CatchallClause Bound">x₂</a><a id="13290" class="CatchallClause"> </a><a id="13291" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13291" class="CatchallClause Bound">x₃</a><a id="13293" class="CatchallClause"> </a><a id="13294" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13294" class="CatchallClause Bound">x₄</a><a id="13296" class="CatchallClause Symbol">)</a><a id="13297" class="CatchallClause"> </a><a id="13298" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13298" class="CatchallClause Bound">x</a><a id="13299" class="CatchallClause"> </a><a id="13300" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13300" class="CatchallClause Bound">x₁</a><a id="13302" class="CatchallClause Symbol">)</a><a id="13303" class="CatchallClause"> </a><a id="13304" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13304" class="CatchallClause Bound">gasLeft1</a><a id="13312" class="CatchallClause"> </a><a id="13313" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13313" class="CatchallClause Bound">funNameevalState</a><a id="13329" class="CatchallClause"> </a><a id="13330" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13330" class="CatchallClause Bound">msgevalState</a><a id="13342" class="CatchallClause Symbol">)</a> <a id="13344" class="Symbol">=</a> <a id="13346" href="libraries.natCompare.html#1703" class="Function">refl==r</a> <a id="13354" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13304" class="Bound">gasLeft1</a>
<a id="13363" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12417" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="13385" class="CatchallClause"> </a><a id="13386" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13386" class="CatchallClause Bound">oldLedger</a><a id="13395" class="CatchallClause"> </a><a id="13396" class="CatchallClause Symbol">(</a><a id="13397" href="libraries.Mainlibrary.html#2203" class="CatchallClause InductiveConstructor">stateEF</a><a id="13404" class="CatchallClause"> </a><a id="13405" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13405" class="CatchallClause Bound">ledger</a><a id="13411" class="CatchallClause"> </a><a id="13412" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13412" class="CatchallClause Bound">executionStack</a><a id="13426" class="CatchallClause"> </a><a id="13427" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13427" class="CatchallClause Bound">initialAddr</a><a id="13438" class="CatchallClause"> </a><a id="13439" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13439" class="CatchallClause Bound">lastCallAddr</a><a id="13451" class="CatchallClause"> </a><a id="13452" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13452" class="CatchallClause Bound">calledAddr</a>
                       <a id="13486" class="CatchallClause Symbol">(</a><a id="13487" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="CatchallClause InductiveConstructor">exec</a><a id="13491" class="CatchallClause"> </a><a id="13492" class="CatchallClause Symbol">(</a><a id="13493" href="Complex-Model.ccomand.ccommands-cresponse.html#550" class="CatchallClause InductiveConstructor">updatec</a><a id="13500" class="CatchallClause"> </a><a id="13501" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13501" class="CatchallClause Bound">x₂</a><a id="13503" class="CatchallClause"> </a><a id="13504" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13504" class="CatchallClause Bound">x₃</a><a id="13506" class="CatchallClause"> </a><a id="13507" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13507" class="CatchallClause Bound">x₄</a><a id="13509" class="CatchallClause Symbol">)</a><a id="13510" class="CatchallClause"> </a><a id="13511" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13511" class="CatchallClause Bound">x</a><a id="13512" class="CatchallClause"> </a><a id="13513" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13513" class="CatchallClause Bound">x₁</a><a id="13515" class="CatchallClause Symbol">)</a><a id="13516" class="CatchallClause"> </a><a id="13517" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13517" class="CatchallClause Bound">gasLeft1</a><a id="13525" class="CatchallClause"> </a><a id="13526" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13526" class="CatchallClause Bound">funNameevalState</a><a id="13542" class="CatchallClause"> </a><a id="13543" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13543" class="CatchallClause Bound">msgevalState</a><a id="13555" class="CatchallClause Symbol">)</a> <a id="13557" class="Symbol">=</a> <a id="13559" href="libraries.natCompare.html#1703" class="Function">refl==r</a> <a id="13567" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13517" class="Bound">gasLeft1</a>
<a id="13576" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12417" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="13598" class="CatchallClause"> </a><a id="13599" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13599" class="CatchallClause Bound">oldLedger</a><a id="13608" class="CatchallClause"> </a><a id="13609" class="CatchallClause Symbol">(</a><a id="13610" href="libraries.Mainlibrary.html#2203" class="CatchallClause InductiveConstructor">stateEF</a><a id="13617" class="CatchallClause"> </a><a id="13618" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13618" class="CatchallClause Bound">ledger</a><a id="13624" class="CatchallClause"> </a><a id="13625" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13625" class="CatchallClause Bound">executionStack</a><a id="13639" class="CatchallClause"> </a><a id="13640" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13640" class="CatchallClause Bound">initialAddr</a><a id="13651" class="CatchallClause"> </a><a id="13652" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13652" class="CatchallClause Bound">lastCallAddr</a><a id="13664" class="CatchallClause"> </a><a id="13665" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13665" class="CatchallClause Bound">calledAddr</a>
                       <a id="13699" class="CatchallClause Symbol">(</a><a id="13700" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="CatchallClause InductiveConstructor">exec</a><a id="13704" class="CatchallClause"> </a><a id="13705" class="CatchallClause Symbol">(</a><a id="13706" href="Complex-Model.ccomand.ccommands-cresponse.html#711" class="CatchallClause InductiveConstructor">raiseException</a><a id="13720" class="CatchallClause"> </a><a id="13721" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13721" class="CatchallClause Bound">x₂</a><a id="13723" class="CatchallClause"> </a><a id="13724" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13724" class="CatchallClause Bound">x₃</a><a id="13726" class="CatchallClause Symbol">)</a><a id="13727" class="CatchallClause"> </a><a id="13728" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13728" class="CatchallClause Bound">x</a><a id="13729" class="CatchallClause"> </a><a id="13730" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13730" class="CatchallClause Bound">x₁</a><a id="13732" class="CatchallClause Symbol">)</a><a id="13733" class="CatchallClause"> </a><a id="13734" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13734" class="CatchallClause Bound">gasLeft1</a><a id="13742" class="CatchallClause"> </a><a id="13743" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13743" class="CatchallClause Bound">funNameevalState</a><a id="13759" class="CatchallClause"> </a><a id="13760" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13760" class="CatchallClause Bound">msgevalState</a><a id="13772" class="CatchallClause Symbol">)</a> <a id="13774" class="Symbol">=</a> <a id="13776" href="libraries.natCompare.html#1703" class="Function">refl==r</a> <a id="13784" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13734" class="Bound">gasLeft1</a>
<a id="13793" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12417" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="13815" class="CatchallClause"> </a><a id="13816" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13816" class="CatchallClause Bound">oldLedger</a><a id="13825" class="CatchallClause"> </a><a id="13826" class="CatchallClause Symbol">(</a><a id="13827" href="libraries.Mainlibrary.html#2203" class="CatchallClause InductiveConstructor">stateEF</a><a id="13834" class="CatchallClause"> </a><a id="13835" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13835" class="CatchallClause Bound">ledger</a><a id="13841" class="CatchallClause"> </a><a id="13842" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13842" class="CatchallClause Bound">executionStack</a><a id="13856" class="CatchallClause"> </a><a id="13857" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13857" class="CatchallClause Bound">initialAddr</a><a id="13868" class="CatchallClause"> </a><a id="13869" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13869" class="CatchallClause Bound">lastCallAddr</a><a id="13881" class="CatchallClause"> </a><a id="13882" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13882" class="CatchallClause Bound">calledAddr</a>
                       <a id="13916" class="CatchallClause Symbol">(</a><a id="13917" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="CatchallClause InductiveConstructor">exec</a><a id="13921" class="CatchallClause"> </a><a id="13922" class="CatchallClause Symbol">(</a><a id="13923" href="Complex-Model.ccomand.ccommands-cresponse.html#756" class="CatchallClause InductiveConstructor">transferc</a><a id="13932" class="CatchallClause"> </a><a id="13933" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13933" class="CatchallClause Bound">amount</a><a id="13939" class="CatchallClause"> </a><a id="13940" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13940" class="CatchallClause Bound">destinationAddr</a><a id="13955" class="CatchallClause Symbol">)</a><a id="13956" class="CatchallClause"> </a><a id="13957" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13957" class="CatchallClause Bound">costcomputecont</a><a id="13972" class="CatchallClause"> </a><a id="13973" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13973" class="CatchallClause Bound">cont</a><a id="13977" class="CatchallClause Symbol">)</a><a id="13978" class="CatchallClause"> </a><a id="13979" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13979" class="CatchallClause Bound">gasLeft1</a><a id="13987" class="CatchallClause"> </a><a id="13988" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13988" class="CatchallClause Bound">funNameevalState</a><a id="14004" class="CatchallClause"> </a><a id="14005" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14005" class="CatchallClause Bound">msgevalState</a><a id="14017" class="CatchallClause Symbol">)</a>
                       <a id="14042" class="Symbol">=</a> <a id="14044" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5529" class="Function">lemmaExecuteTransferAuxGasEq</a> <a id="14073" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13816" class="Bound">oldLedger</a> <a id="14083" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13835" class="Bound">ledger</a> <a id="14090" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13842" class="Bound">executionStack</a> <a id="14105" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13857" class="Bound">initialAddr</a> <a id="14117" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13869" class="Bound">lastCallAddr</a> <a id="14130" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13882" class="Bound">calledAddr</a>
                       <a id="14164" class="Symbol">(</a><a id="14165" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13973" class="Bound">cont</a> <a id="14170" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="14172" class="Symbol">)</a> <a id="14174" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13979" class="Bound">gasLeft1</a> <a id="14183" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13988" class="Bound">funNameevalState</a> <a id="14200" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14005" class="Bound">msgevalState</a> <a id="14213" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13933" class="Bound">amount</a> <a id="14220" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13940" class="Bound">destinationAddr</a>
                       <a id="14259" class="Symbol">((</a><a id="14261" href="libraries.natCompare.html#936" class="Function">compareLeq</a> <a id="14272" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13933" class="Bound">amount</a> <a id="14279" class="Symbol">(</a><a id="14280" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13835" class="Bound">ledger</a> <a id="14287" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13882" class="Bound">calledAddr</a> <a id="14298" class="Symbol">.</a><a id="14299" href="libraries.Mainlibrary.html#833" class="Field">Contract.amount</a><a id="14314" class="Symbol">)))</a>
<a id="14318" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12417" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="14340" class="CatchallClause"> </a><a id="14341" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14341" class="CatchallClause Bound">oldLedger</a><a id="14350" class="CatchallClause"> </a><a id="14351" class="CatchallClause Symbol">(</a><a id="14352" href="libraries.Mainlibrary.html#2203" class="CatchallClause InductiveConstructor">stateEF</a><a id="14359" class="CatchallClause"> </a><a id="14360" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14360" class="CatchallClause Bound">ledger</a><a id="14366" class="CatchallClause"> </a><a id="14367" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14367" class="CatchallClause Bound">executionStack</a><a id="14381" class="CatchallClause"> </a><a id="14382" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14382" class="CatchallClause Bound">initialAddr</a><a id="14393" class="CatchallClause"> </a><a id="14394" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14394" class="CatchallClause Bound">lastCallAddr</a><a id="14406" class="CatchallClause"> </a><a id="14407" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14407" class="CatchallClause Bound">calledAddr</a>
                       <a id="14441" class="CatchallClause Symbol">(</a><a id="14442" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="CatchallClause InductiveConstructor">exec</a><a id="14446" class="CatchallClause"> </a><a id="14447" class="CatchallClause Symbol">(</a><a id="14448" href="Complex-Model.ccomand.ccommands-cresponse.html#802" class="CatchallClause InductiveConstructor">callc</a><a id="14453" class="CatchallClause"> </a><a id="14454" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14454" class="CatchallClause Bound">x₂</a><a id="14456" class="CatchallClause"> </a><a id="14457" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14457" class="CatchallClause Bound">x₃</a><a id="14459" class="CatchallClause"> </a><a id="14460" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14460" class="CatchallClause Bound">x₄</a><a id="14462" class="CatchallClause Symbol">)</a><a id="14463" class="CatchallClause"> </a><a id="14464" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14464" class="CatchallClause Bound">x</a><a id="14465" class="CatchallClause"> </a><a id="14466" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14466" class="CatchallClause Bound">x₁</a><a id="14468" class="CatchallClause Symbol">)</a><a id="14469" class="CatchallClause"> </a><a id="14470" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14470" class="CatchallClause Bound">gasLeft1</a><a id="14478" class="CatchallClause"> </a><a id="14479" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14479" class="CatchallClause Bound">funNameevalState</a><a id="14495" class="CatchallClause"> </a><a id="14496" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14496" class="CatchallClause Bound">msgevalState</a><a id="14508" class="CatchallClause Symbol">)</a> <a id="14510" class="Symbol">=</a> <a id="14512" href="libraries.natCompare.html#1703" class="Function">refl==r</a> <a id="14520" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14470" class="Bound">gasLeft1</a>
<a id="14529" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12417" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="14551" class="CatchallClause"> </a><a id="14552" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14552" class="CatchallClause Bound">oldLedger</a><a id="14561" class="CatchallClause"> </a><a id="14562" class="CatchallClause Symbol">(</a><a id="14563" href="libraries.Mainlibrary.html#2203" class="CatchallClause InductiveConstructor">stateEF</a><a id="14570" class="CatchallClause"> </a><a id="14571" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14571" class="CatchallClause Bound">ledger</a><a id="14577" class="CatchallClause"> </a><a id="14578" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14578" class="CatchallClause Bound">executionStack</a><a id="14592" class="CatchallClause"> </a><a id="14593" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14593" class="CatchallClause Bound">initialAddr</a><a id="14604" class="CatchallClause"> </a><a id="14605" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14605" class="CatchallClause Bound">lastCallAddr</a><a id="14617" class="CatchallClause"> </a><a id="14618" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14618" class="CatchallClause Bound">calledAddr</a>
                       <a id="14652" class="CatchallClause Symbol">(</a><a id="14653" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="CatchallClause InductiveConstructor">exec</a><a id="14657" class="CatchallClause"> </a><a id="14658" href="Complex-Model.ccomand.ccommands-cresponse.html#860" class="CatchallClause InductiveConstructor">currentAddrLookupc</a><a id="14676" class="CatchallClause"> </a><a id="14677" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14677" class="CatchallClause Bound">x</a><a id="14678" class="CatchallClause"> </a><a id="14679" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14679" class="CatchallClause Bound">x₁</a><a id="14681" class="CatchallClause Symbol">)</a><a id="14682" class="CatchallClause"> </a><a id="14683" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14683" class="CatchallClause Bound">gasLeft1</a><a id="14691" class="CatchallClause"> </a><a id="14692" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14692" class="CatchallClause Bound">funNameevalState</a><a id="14708" class="CatchallClause"> </a><a id="14709" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14709" class="CatchallClause Bound">msgevalState</a><a id="14721" class="CatchallClause Symbol">)</a> <a id="14723" class="Symbol">=</a> <a id="14725" href="libraries.natCompare.html#1703" class="Function">refl==r</a> <a id="14733" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14683" class="Bound">gasLeft1</a>
<a id="14742" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12417" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="14764" class="CatchallClause"> </a><a id="14765" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14765" class="CatchallClause Bound">oldLedger</a><a id="14774" class="CatchallClause"> </a><a id="14775" class="CatchallClause Symbol">(</a><a id="14776" href="libraries.Mainlibrary.html#2203" class="CatchallClause InductiveConstructor">stateEF</a><a id="14783" class="CatchallClause"> </a><a id="14784" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14784" class="CatchallClause Bound">ledger</a><a id="14790" class="CatchallClause"> </a><a id="14791" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14791" class="CatchallClause Bound">executionStack</a><a id="14805" class="CatchallClause"> </a><a id="14806" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14806" class="CatchallClause Bound">initialAddr</a><a id="14817" class="CatchallClause"> </a><a id="14818" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14818" class="CatchallClause Bound">lastCallAddr</a><a id="14830" class="CatchallClause"> </a><a id="14831" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14831" class="CatchallClause Bound">calledAddr</a>
                       <a id="14865" class="CatchallClause Symbol">(</a><a id="14866" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="CatchallClause InductiveConstructor">exec</a><a id="14870" class="CatchallClause"> </a><a id="14871" href="Complex-Model.ccomand.ccommands-cresponse.html#895" class="CatchallClause InductiveConstructor">callAddrLookupc</a><a id="14886" class="CatchallClause"> </a><a id="14887" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14887" class="CatchallClause Bound">x</a><a id="14888" class="CatchallClause"> </a><a id="14889" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14889" class="CatchallClause Bound">x₁</a><a id="14891" class="CatchallClause Symbol">)</a><a id="14892" class="CatchallClause"> </a><a id="14893" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14893" class="CatchallClause Bound">gasLeft1</a><a id="14901" class="CatchallClause"> </a><a id="14902" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14902" class="CatchallClause Bound">funNameevalState</a><a id="14918" class="CatchallClause"> </a><a id="14919" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14919" class="CatchallClause Bound">msgevalState</a><a id="14931" class="CatchallClause Symbol">)</a> <a id="14933" class="Symbol">=</a> <a id="14935" href="libraries.natCompare.html#1703" class="Function">refl==r</a> <a id="14943" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14893" class="Bound">gasLeft1</a>
<a id="14952" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12417" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="14974" class="CatchallClause"> </a><a id="14975" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14975" class="CatchallClause Bound">oldLedger</a><a id="14984" class="CatchallClause"> </a><a id="14985" class="CatchallClause Symbol">(</a><a id="14986" href="libraries.Mainlibrary.html#2203" class="CatchallClause InductiveConstructor">stateEF</a><a id="14993" class="CatchallClause"> </a><a id="14994" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14994" class="CatchallClause Bound">ledger</a><a id="15000" class="CatchallClause"> </a><a id="15001" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15001" class="CatchallClause Bound">executionStack</a><a id="15015" class="CatchallClause"> </a><a id="15016" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15016" class="CatchallClause Bound">initialAddr</a><a id="15027" class="CatchallClause"> </a><a id="15028" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15028" class="CatchallClause Bound">lastCallAddr</a><a id="15040" class="CatchallClause"> </a><a id="15041" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15041" class="CatchallClause Bound">calledAddr</a>
                       <a id="15075" class="CatchallClause Symbol">(</a><a id="15076" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="CatchallClause InductiveConstructor">exec</a><a id="15080" class="CatchallClause"> </a><a id="15081" class="CatchallClause Symbol">(</a><a id="15082" href="Complex-Model.ccomand.ccommands-cresponse.html#927" class="CatchallClause InductiveConstructor">getAmountc</a><a id="15092" class="CatchallClause"> </a><a id="15093" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15093" class="CatchallClause Bound">x₂</a><a id="15095" class="CatchallClause Symbol">)</a><a id="15096" class="CatchallClause"> </a><a id="15097" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15097" class="CatchallClause Bound">x</a><a id="15098" class="CatchallClause"> </a><a id="15099" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15099" class="CatchallClause Bound">x₁</a><a id="15101" class="CatchallClause Symbol">)</a><a id="15102" class="CatchallClause"> </a><a id="15103" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15103" class="CatchallClause Bound">gasLeft1</a><a id="15111" class="CatchallClause"> </a><a id="15112" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15112" class="CatchallClause Bound">funNameevalState</a><a id="15128" class="CatchallClause"> </a><a id="15129" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15129" class="CatchallClause Bound">msgevalState</a><a id="15141" class="CatchallClause Symbol">)</a> <a id="15143" class="Symbol">=</a> <a id="15145" href="libraries.natCompare.html#1703" class="Function">refl==r</a> <a id="15153" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15103" class="Bound">gasLeft1</a>



<a id="lemmaStepEFpreserveGas2"></a><a id="15165" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15165" class="Function">lemmaStepEFpreserveGas2</a> <a id="15189" class="Symbol">:</a> <a id="15191" class="Symbol">(</a><a id="15192" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15192" class="Bound">oldLedger</a> <a id="15202" class="Symbol">:</a> <a id="15204" href="libraries.Mainlibrary.html#1069" class="Function">Ledger</a><a id="15210" class="Symbol">)</a> <a id="15212" class="Symbol">→</a> <a id="15214" class="Symbol">(</a><a id="15215" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15215" class="Bound">state</a> <a id="15221" class="Symbol">:</a> <a id="15223" href="libraries.Mainlibrary.html#2164" class="Record">StateExecFun</a><a id="15235" class="Symbol">)</a> <a id="15237" class="Symbol">→</a>
                          <a id="15265" href="libraries.Mainlibrary.html#2638" class="Field">gasLeft</a> <a id="15273" class="Symbol">(</a><a id="15274" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8015" class="Function">stepEF</a> <a id="15281" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15192" class="Bound">oldLedger</a> <a id="15291" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15215" class="Bound">state</a><a id="15296" class="Symbol">)</a> <a id="15298" href="libraries.natCompare.html#552" class="Function Operator">==r</a> <a id="15302" href="libraries.Mainlibrary.html#2638" class="Field">gasLeft</a> <a id="15310" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15215" class="Bound">state</a>
<a id="15316" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15165" class="Function">lemmaStepEFpreserveGas2</a> <a id="15340" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15340" class="Bound">oldLedger</a> <a id="15350" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15350" class="Bound">state</a> <a id="15356" class="Symbol">=</a> <a id="15358" href="libraries.natCompare.html#2249" class="Function">sym==</a> <a id="15364" class="Symbol">(</a><a id="15365" href="libraries.Mainlibrary.html#2638" class="Field">gasLeft</a> <a id="15373" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15350" class="Bound">state</a><a id="15378" class="Symbol">)</a> <a id="15380" class="Symbol">(</a><a id="15381" href="libraries.Mainlibrary.html#2638" class="Field">gasLeft</a> <a id="15389" class="Symbol">(</a><a id="15390" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8015" class="Function">stepEF</a> <a id="15397" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15340" class="Bound">oldLedger</a> <a id="15407" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15350" class="Bound">state</a><a id="15412" class="Symbol">))</a>
                                          <a id="15457" class="Symbol">(</a><a id="15458" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12417" class="Function">lemmaStepEFpreserveGas</a> <a id="15481" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15340" class="Bound">oldLedger</a> <a id="15491" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15350" class="Bound">state</a><a id="15496" class="Symbol">)</a>


<a id="15500" class="Comment">-- stepEFgasAvailable which returns gasLeft</a>
<a id="stepEFgasAvailable"></a><a id="15544" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15544" class="Function">stepEFgasAvailable</a> <a id="15563" class="Symbol">:</a> <a id="15565" href="libraries.Mainlibrary.html#2164" class="Record">StateExecFun</a> <a id="15578" class="Symbol">→</a> <a id="15580" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="15582" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15544" class="Function">stepEFgasAvailable</a> <a id="15601" class="Symbol">(</a><a id="15602" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="15610" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15610" class="Bound">ledger</a> <a id="15617" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15617" class="Bound">executionStack</a> <a id="15632" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15632" class="Bound">initialAddr</a> <a id="15644" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15644" class="Bound">lastCallAddr</a> <a id="15657" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15657" class="Bound">calledAddr</a>
                   <a id="15687" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15687" class="Bound">nextstep</a> <a id="15696" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15696" class="Bound">gasLeft</a>  <a id="15705" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15705" class="Bound">funNameevalState</a> <a id="15722" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15722" class="Bound">msgevalState</a><a id="15734" class="Symbol">)</a>
                   <a id="15755" class="Symbol">=</a> <a id="15757" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15696" class="Bound">gasLeft</a>


<a id="15767" class="Comment">--this function simliar to stepEF and deduct the gasleft</a>
<a id="15824" class="Comment">--which returns the gas deducted</a>
<a id="stepEFgasNeeded"></a><a id="15857" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15857" class="Function">stepEFgasNeeded</a> <a id="15873" class="Symbol">:</a> <a id="15875" href="libraries.Mainlibrary.html#2164" class="Record">StateExecFun</a> <a id="15888" class="Symbol">→</a> <a id="15890" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="15892" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15857" class="Function">stepEFgasNeeded</a>  <a id="15909" class="Symbol">(</a><a id="15910" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="15918" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15918" class="Bound">currentLedger</a> <a id="15932" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="15935" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15935" class="Bound">initialAddr</a> <a id="15947" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15947" class="Bound">lastCallAddr</a> <a id="15960" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15960" class="Bound">calledAddr</a>
                 <a id="15988" class="Symbol">(</a><a id="15989" href="Complex-Model.ccomand.ccommands-cresponse.html#1586" class="InductiveConstructor">return</a> <a id="15996" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15996" class="Bound">cost</a> <a id="16001" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16001" class="Bound">result</a><a id="16007" class="Symbol">)</a> <a id="16009" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16009" class="Bound">gasLeft</a>  <a id="16018" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16018" class="Bound">funNameevalState</a> <a id="16035" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16035" class="Bound">msgevalState</a><a id="16047" class="Symbol">)</a>
       <a id="16056" class="Symbol">=</a> <a id="16058" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15996" class="Bound">cost</a>
<a id="16063" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15857" class="Function">stepEFgasNeeded</a>  <a id="16080" class="Symbol">(</a><a id="16081" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="16089" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16089" class="Bound">currentLedger</a> <a id="16103" class="Symbol">(</a><a id="16104" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16104" class="Bound">execSEl</a> <a id="16112" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="16114" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16114" class="Bound">executionStack</a><a id="16128" class="Symbol">)</a> <a id="16130" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16130" class="Bound">initialAddr</a> <a id="16142" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16142" class="Bound">lastCallAddr</a> <a id="16155" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16155" class="Bound">calledAddr</a>
                 <a id="16183" class="Symbol">(</a><a id="16184" href="Complex-Model.ccomand.ccommands-cresponse.html#1586" class="InductiveConstructor">return</a> <a id="16191" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16191" class="Bound">cost</a> <a id="16196" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16196" class="Bound">result</a><a id="16202" class="Symbol">)</a> <a id="16204" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16204" class="Bound">gasLeft</a>  <a id="16213" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16213" class="Bound">funNameevalState</a> <a id="16230" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16230" class="Bound">msgevalState</a><a id="16242" class="Symbol">)</a>
       <a id="16251" class="Symbol">=</a> <a id="16253" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16191" class="Bound">cost</a>

<a id="16259" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15857" class="CatchallClause Function">stepEFgasNeeded</a><a id="16274" class="CatchallClause"> </a><a id="16275" class="CatchallClause Symbol">(</a><a id="16276" href="libraries.Mainlibrary.html#2203" class="CatchallClause InductiveConstructor">stateEF</a><a id="16283" class="CatchallClause"> </a><a id="16284" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16284" class="CatchallClause Bound">currentLedger</a><a id="16297" class="CatchallClause"> </a><a id="16298" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16298" class="CatchallClause Bound">executionStack</a><a id="16312" class="CatchallClause"> </a><a id="16313" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16313" class="CatchallClause Bound">initialAddr</a><a id="16324" class="CatchallClause"> </a><a id="16325" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16325" class="CatchallClause Bound">lastCallAddr</a><a id="16337" class="CatchallClause"> </a><a id="16338" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16338" class="CatchallClause Bound">calledAddr</a>
                 <a id="16366" class="CatchallClause Symbol">(</a><a id="16367" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="CatchallClause InductiveConstructor">exec</a><a id="16371" class="CatchallClause"> </a><a id="16372" href="Complex-Model.ccomand.ccommands-cresponse.html#860" class="CatchallClause InductiveConstructor">currentAddrLookupc</a><a id="16390" class="CatchallClause"> </a><a id="16391" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16391" class="CatchallClause Bound">costcomputecont</a><a id="16406" class="CatchallClause"> </a><a id="16407" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16407" class="CatchallClause Bound">cont</a><a id="16411" class="CatchallClause Symbol">)</a>
                 <a id="16430" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16430" class="CatchallClause Bound">gasLeft</a><a id="16437" class="CatchallClause">  </a><a id="16439" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16439" class="CatchallClause Bound">funNameevalState</a><a id="16455" class="CatchallClause"> </a><a id="16456" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16456" class="CatchallClause Bound">msgevalState</a><a id="16468" class="CatchallClause Symbol">)</a>
       <a id="16477" class="Symbol">=</a> <a id="16479" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16391" class="Bound">costcomputecont</a> <a id="16495" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16338" class="Bound">calledAddr</a>

<a id="16507" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15857" class="CatchallClause Function">stepEFgasNeeded</a><a id="16522" class="CatchallClause"> </a><a id="16523" class="CatchallClause Symbol">(</a><a id="16524" href="libraries.Mainlibrary.html#2203" class="CatchallClause InductiveConstructor">stateEF</a><a id="16531" class="CatchallClause"> </a><a id="16532" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16532" class="CatchallClause Bound">currentLedger</a><a id="16545" class="CatchallClause"> </a><a id="16546" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16546" class="CatchallClause Bound">executionStack</a><a id="16560" class="CatchallClause"> </a><a id="16561" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16561" class="CatchallClause Bound">initialAddr</a><a id="16572" class="CatchallClause"> </a><a id="16573" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16573" class="CatchallClause Bound">lastCallAddr</a><a id="16585" class="CatchallClause"> </a><a id="16586" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16586" class="CatchallClause Bound">calledAddr</a>
                 <a id="16614" class="CatchallClause Symbol">(</a><a id="16615" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="CatchallClause InductiveConstructor">exec</a><a id="16619" class="CatchallClause"> </a><a id="16620" href="Complex-Model.ccomand.ccommands-cresponse.html#895" class="CatchallClause InductiveConstructor">callAddrLookupc</a><a id="16635" class="CatchallClause"> </a><a id="16636" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16636" class="CatchallClause Bound">costcomputecont</a><a id="16651" class="CatchallClause"> </a><a id="16652" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16652" class="CatchallClause Bound">cont</a><a id="16656" class="CatchallClause Symbol">)</a>
                 <a id="16675" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16675" class="CatchallClause Bound">gasLeft</a><a id="16682" class="CatchallClause">  </a><a id="16684" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16684" class="CatchallClause Bound">funNameevalState</a><a id="16700" class="CatchallClause"> </a><a id="16701" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16701" class="CatchallClause Bound">msgevalState</a><a id="16713" class="CatchallClause Symbol">)</a>
       <a id="16722" class="Symbol">=</a> <a id="16724" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16636" class="Bound">costcomputecont</a> <a id="16740" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16573" class="Bound">lastCallAddr</a>

<a id="16754" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15857" class="CatchallClause Function">stepEFgasNeeded</a><a id="16769" class="CatchallClause"> </a><a id="16770" class="CatchallClause Symbol">(</a><a id="16771" href="libraries.Mainlibrary.html#2203" class="CatchallClause InductiveConstructor">stateEF</a><a id="16778" class="CatchallClause"> </a><a id="16779" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16779" class="CatchallClause Bound">currentLedger</a><a id="16792" class="CatchallClause"> </a><a id="16793" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16793" class="CatchallClause Bound">executionStack</a><a id="16807" class="CatchallClause"> </a><a id="16808" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16808" class="CatchallClause Bound">initialAddr</a><a id="16819" class="CatchallClause"> </a><a id="16820" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16820" class="CatchallClause Bound">lastCallAddr</a><a id="16832" class="CatchallClause"> </a><a id="16833" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16833" class="CatchallClause Bound">calledAddr</a>
                 <a id="16861" class="CatchallClause Symbol">(</a><a id="16862" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="CatchallClause InductiveConstructor">exec</a><a id="16866" class="CatchallClause"> </a><a id="16867" class="CatchallClause Symbol">(</a><a id="16868" href="Complex-Model.ccomand.ccommands-cresponse.html#550" class="CatchallClause InductiveConstructor">updatec</a><a id="16875" class="CatchallClause"> </a><a id="16876" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16876" class="CatchallClause Bound">changedFname</a><a id="16888" class="CatchallClause"> </a><a id="16889" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16889" class="CatchallClause Bound">changedPufun</a><a id="16901" class="CatchallClause"> </a><a id="16902" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16902" class="CatchallClause Bound">cost</a><a id="16906" class="CatchallClause Symbol">)</a><a id="16907" class="CatchallClause"> </a><a id="16908" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16908" class="CatchallClause Bound">costcomputecont</a><a id="16923" class="CatchallClause"> </a><a id="16924" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16924" class="CatchallClause Bound">cont</a><a id="16928" class="CatchallClause Symbol">)</a>
                 <a id="16947" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16947" class="CatchallClause Bound">gasLeft</a><a id="16954" class="CatchallClause">  </a><a id="16956" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16956" class="CatchallClause Bound">funNameevalState</a><a id="16972" class="CatchallClause"> </a><a id="16973" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16973" class="CatchallClause Bound">msgevalState</a><a id="16985" class="CatchallClause Symbol">)</a>
       <a id="16994" class="Symbol">=</a> <a id="16996" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16902" class="Bound">cost</a> <a id="17001" class="Symbol">(</a><a id="17002" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16779" class="Bound">currentLedger</a> <a id="17016" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16833" class="Bound">calledAddr</a> <a id="17027" class="Symbol">.</a><a id="17028" href="libraries.Mainlibrary.html#928" class="Field">viewFunction</a> <a id="17041" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16876" class="Bound">changedFname</a><a id="17053" class="Symbol">)</a> <a id="17055" class="Symbol">(</a><a id="17056" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16779" class="Bound">currentLedger</a> <a id="17070" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16833" class="Bound">calledAddr</a> <a id="17081" class="Symbol">.</a><a id="17082" href="libraries.Mainlibrary.html#986" class="Field">viewFunctionCost</a> <a id="17099" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16876" class="Bound">changedFname</a><a id="17111" class="Symbol">)</a> <a id="17113" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16973" class="Bound">msgevalState</a> <a id="17126" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="17128" class="Symbol">(</a><a id="17129" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16908" class="Bound">costcomputecont</a> <a id="17145" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="17147" class="Symbol">)</a>


<a id="17151" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15857" class="CatchallClause Function">stepEFgasNeeded</a><a id="17166" class="CatchallClause"> </a><a id="17167" class="CatchallClause Symbol">(</a><a id="17168" href="libraries.Mainlibrary.html#2203" class="CatchallClause InductiveConstructor">stateEF</a><a id="17175" class="CatchallClause"> </a><a id="17176" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17176" class="CatchallClause Bound">currentLedger</a><a id="17189" class="CatchallClause"> </a><a id="17190" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17190" class="CatchallClause Bound">executionStack</a><a id="17204" class="CatchallClause"> </a><a id="17205" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17205" class="CatchallClause Bound">initialAddr</a><a id="17216" class="CatchallClause"> </a><a id="17217" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17217" class="CatchallClause Bound">oldlastCallAddr</a><a id="17232" class="CatchallClause"> </a><a id="17233" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17233" class="CatchallClause Bound">oldcalledAddr</a>
                 <a id="17264" class="CatchallClause Symbol">(</a><a id="17265" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="CatchallClause InductiveConstructor">exec</a><a id="17269" class="CatchallClause"> </a><a id="17270" class="CatchallClause Symbol">(</a><a id="17271" href="Complex-Model.ccomand.ccommands-cresponse.html#802" class="CatchallClause InductiveConstructor">callc</a><a id="17276" class="CatchallClause"> </a><a id="17277" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17277" class="CatchallClause Bound">newaddr</a><a id="17284" class="CatchallClause"> </a><a id="17285" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17285" class="CatchallClause Bound">fname</a><a id="17290" class="CatchallClause"> </a><a id="17291" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17291" class="CatchallClause Bound">msg</a><a id="17294" class="CatchallClause Symbol">)</a><a id="17295" class="CatchallClause"> </a><a id="17296" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17296" class="CatchallClause Bound">costcomputecont</a><a id="17311" class="CatchallClause"> </a><a id="17312" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17312" class="CatchallClause Bound">cont</a><a id="17316" class="CatchallClause Symbol">)</a>
                 <a id="17335" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17335" class="CatchallClause Bound">gasLeft</a><a id="17342" class="CatchallClause">  </a><a id="17344" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17344" class="CatchallClause Bound">funNameevalState</a><a id="17360" class="CatchallClause"> </a><a id="17361" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17361" class="CatchallClause Bound">msgevalState</a><a id="17373" class="CatchallClause Symbol">)</a>
       <a id="17382" class="Symbol">=</a> <a id="17384" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17296" class="Bound">costcomputecont</a> <a id="17400" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17291" class="Bound">msg</a>

<a id="17405" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15857" class="CatchallClause Function">stepEFgasNeeded</a><a id="17420" class="CatchallClause"> </a><a id="17421" class="CatchallClause Symbol">(</a><a id="17422" href="libraries.Mainlibrary.html#2203" class="CatchallClause InductiveConstructor">stateEF</a><a id="17429" class="CatchallClause"> </a><a id="17430" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17430" class="CatchallClause Bound">currentLedger</a><a id="17443" class="CatchallClause"> </a><a id="17444" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17444" class="CatchallClause Bound">executionStack</a><a id="17458" class="CatchallClause"> </a><a id="17459" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17459" class="CatchallClause Bound">initialAddr</a><a id="17470" class="CatchallClause"> </a><a id="17471" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17471" class="CatchallClause Bound">lastCallAddr</a><a id="17483" class="CatchallClause"> </a><a id="17484" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17484" class="CatchallClause Bound">calledAddr</a>
                 <a id="17512" class="CatchallClause Symbol">(</a><a id="17513" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="CatchallClause InductiveConstructor">exec</a><a id="17517" class="CatchallClause"> </a><a id="17518" class="CatchallClause Symbol">(</a><a id="17519" href="Complex-Model.ccomand.ccommands-cresponse.html#756" class="CatchallClause InductiveConstructor">transferc</a><a id="17528" class="CatchallClause"> </a><a id="17529" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17529" class="CatchallClause Bound">amount</a><a id="17535" class="CatchallClause"> </a><a id="17536" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17536" class="CatchallClause Bound">destinationAddr</a><a id="17551" class="CatchallClause Symbol">)</a><a id="17552" class="CatchallClause"> </a><a id="17553" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17553" class="CatchallClause Bound">costcomputecont</a><a id="17568" class="CatchallClause"> </a><a id="17569" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17569" class="CatchallClause Bound">cont</a><a id="17573" class="CatchallClause Symbol">)</a>
                 <a id="17592" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17592" class="CatchallClause Bound">gasLeft</a><a id="17599" class="CatchallClause">  </a><a id="17601" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17601" class="CatchallClause Bound">funNameevalState</a><a id="17617" class="CatchallClause"> </a><a id="17618" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17618" class="CatchallClause Bound">msgevalState</a><a id="17630" class="CatchallClause Symbol">)</a>
       <a id="17639" class="Symbol">=</a> <a id="17641" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17553" class="Bound">costcomputecont</a> <a id="17657" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a>

<a id="17661" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15857" class="CatchallClause Function">stepEFgasNeeded</a><a id="17676" class="CatchallClause"> </a><a id="17677" class="CatchallClause Symbol">(</a><a id="17678" href="libraries.Mainlibrary.html#2203" class="CatchallClause InductiveConstructor">stateEF</a><a id="17685" class="CatchallClause"> </a><a id="17686" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17686" class="CatchallClause Bound">currentLedger</a><a id="17699" class="CatchallClause"> </a><a id="17700" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17700" class="CatchallClause Bound">executionStack</a><a id="17714" class="CatchallClause"> </a><a id="17715" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17715" class="CatchallClause Bound">initialAddr</a><a id="17726" class="CatchallClause"> </a><a id="17727" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17727" class="CatchallClause Bound">lastCallAddr</a><a id="17739" class="CatchallClause"> </a><a id="17740" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17740" class="CatchallClause Bound">calledAddr</a>
                 <a id="17768" class="CatchallClause Symbol">(</a><a id="17769" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="CatchallClause InductiveConstructor">exec</a><a id="17773" class="CatchallClause"> </a><a id="17774" class="CatchallClause Symbol">(</a><a id="17775" href="Complex-Model.ccomand.ccommands-cresponse.html#927" class="CatchallClause InductiveConstructor">getAmountc</a><a id="17785" class="CatchallClause">  </a><a id="17787" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17787" class="CatchallClause Bound">addrLookedUp</a><a id="17799" class="CatchallClause Symbol">)</a><a id="17800" class="CatchallClause"> </a><a id="17801" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17801" class="CatchallClause Bound">costcomputecont</a><a id="17816" class="CatchallClause"> </a><a id="17817" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17817" class="CatchallClause Bound">cont</a><a id="17821" class="CatchallClause Symbol">)</a>
                 <a id="17840" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17840" class="CatchallClause Bound">gasLeft</a><a id="17847" class="CatchallClause">  </a><a id="17849" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17849" class="CatchallClause Bound">funNameevalState</a><a id="17865" class="CatchallClause"> </a><a id="17866" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17866" class="CatchallClause Bound">msgevalState</a><a id="17878" class="CatchallClause Symbol">)</a>
       <a id="17887" class="Symbol">=</a> <a id="17889" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17801" class="Bound">costcomputecont</a> <a id="17905" class="Symbol">(</a><a id="17906" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17686" class="Bound">currentLedger</a> <a id="17920" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17787" class="Bound">addrLookedUp</a> <a id="17933" class="Symbol">.</a><a id="17934" href="libraries.Mainlibrary.html#833" class="Field">amount</a><a id="17940" class="Symbol">)</a>


<a id="17944" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15857" class="CatchallClause Function">stepEFgasNeeded</a><a id="17959" class="CatchallClause"> </a><a id="17960" class="CatchallClause Symbol">(</a><a id="17961" href="libraries.Mainlibrary.html#2203" class="CatchallClause InductiveConstructor">stateEF</a><a id="17968" class="CatchallClause"> </a><a id="17969" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17969" class="CatchallClause Bound">ledger</a><a id="17975" class="CatchallClause"> </a><a id="17976" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17976" class="CatchallClause Bound">executionStack</a><a id="17990" class="CatchallClause"> </a><a id="17991" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17991" class="CatchallClause Bound">initialAddr</a><a id="18002" class="CatchallClause"> </a><a id="18003" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18003" class="CatchallClause Bound">lastCallAddr</a><a id="18015" class="CatchallClause"> </a><a id="18016" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18016" class="CatchallClause Bound">calledAddr</a>
                 <a id="18044" class="CatchallClause Symbol">(</a><a id="18045" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="CatchallClause InductiveConstructor">exec</a><a id="18049" class="CatchallClause"> </a><a id="18050" class="CatchallClause Symbol">(</a><a id="18051" href="Complex-Model.ccomand.ccommands-cresponse.html#711" class="CatchallClause InductiveConstructor">raiseException</a><a id="18065" class="CatchallClause"> </a><a id="18066" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18066" class="CatchallClause Bound">cost</a><a id="18070" class="CatchallClause"> </a><a id="18071" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18071" class="CatchallClause Bound">str</a><a id="18074" class="CatchallClause Symbol">)</a><a id="18075" class="CatchallClause"> </a><a id="18076" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18076" class="CatchallClause Bound">costcomputecont</a><a id="18091" class="CatchallClause"> </a><a id="18092" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18092" class="CatchallClause Bound">cont</a><a id="18096" class="CatchallClause Symbol">)</a>
                 <a id="18115" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18115" class="CatchallClause Bound">gasLeft</a><a id="18122" class="CatchallClause"> </a><a id="18123" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18123" class="CatchallClause Bound">funNameevalState</a><a id="18139" class="CatchallClause"> </a><a id="18140" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18140" class="CatchallClause Bound">msgevalState</a><a id="18152" class="CatchallClause Symbol">)</a>
                 <a id="18171" class="Symbol">=</a> <a id="18173" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18066" class="Bound">cost</a>

<a id="18179" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15857" class="CatchallClause Function">stepEFgasNeeded</a><a id="18194" class="CatchallClause"> </a><a id="18195" class="CatchallClause Symbol">(</a><a id="18196" href="libraries.Mainlibrary.html#2203" class="CatchallClause InductiveConstructor">stateEF</a><a id="18203" class="CatchallClause"> </a><a id="18204" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18204" class="CatchallClause Bound">currentLedger</a><a id="18217" class="CatchallClause"> </a><a id="18218" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18218" class="CatchallClause Bound">executionStack</a><a id="18232" class="CatchallClause"> </a><a id="18233" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18233" class="CatchallClause Bound">initialAddr</a><a id="18244" class="CatchallClause"> </a><a id="18245" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18245" class="CatchallClause Bound">lastCallAddr</a><a id="18257" class="CatchallClause"> </a><a id="18258" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18258" class="CatchallClause Bound">calledAddr</a>
                 <a id="18286" class="CatchallClause Symbol">(</a><a id="18287" href="Complex-Model.ccomand.ccommands-cresponse.html#1677" class="CatchallClause InductiveConstructor">exec</a><a id="18291" class="CatchallClause"> </a><a id="18292" class="CatchallClause Symbol">(</a><a id="18293" href="Complex-Model.ccomand.ccommands-cresponse.html#491" class="CatchallClause InductiveConstructor">callView</a><a id="18301" class="CatchallClause"> </a><a id="18302" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18302" class="CatchallClause Bound">addr</a><a id="18306" class="CatchallClause"> </a><a id="18307" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18307" class="CatchallClause Bound">fname</a><a id="18312" class="CatchallClause"> </a><a id="18313" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18313" class="CatchallClause Bound">msg</a><a id="18316" class="CatchallClause Symbol">)</a><a id="18317" class="CatchallClause"> </a><a id="18318" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18318" class="CatchallClause Bound">costcompute</a><a id="18329" class="CatchallClause"> </a><a id="18330" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18330" class="CatchallClause Bound">cont</a><a id="18334" class="CatchallClause Symbol">)</a>
                 <a id="18353" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18353" class="CatchallClause Bound">gasLeft</a><a id="18360" class="CatchallClause">  </a><a id="18362" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18362" class="CatchallClause Bound">funNameevalState</a><a id="18378" class="CatchallClause"> </a><a id="18379" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18379" class="CatchallClause Bound">msgevalState</a><a id="18391" class="CatchallClause Symbol">)</a>
       <a id="18400" class="Symbol">=</a> <a id="18402" class="Symbol">(</a><a id="18403" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18204" class="Bound">currentLedger</a> <a id="18417" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18258" class="Bound">calledAddr</a> <a id="18428" class="Symbol">.</a><a id="18429" href="libraries.Mainlibrary.html#986" class="Field">viewFunctionCost</a> <a id="18446" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18307" class="Bound">fname</a> <a id="18452" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18313" class="Bound">msg</a><a id="18455" class="Symbol">)</a> <a id="18457" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="18459" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18318" class="Bound">costcompute</a> <a id="18471" class="Symbol">(</a><a id="18472" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18204" class="Bound">currentLedger</a> <a id="18486" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18258" class="Bound">calledAddr</a> <a id="18497" class="Symbol">.</a><a id="18498" href="libraries.Mainlibrary.html#928" class="Field">viewFunction</a> <a id="18511" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18307" class="Bound">fname</a> <a id="18517" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18313" class="Bound">msg</a><a id="18520" class="Symbol">)</a>


<a id="18524" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15857" class="CatchallClause Function">stepEFgasNeeded</a><a id="18539" class="CatchallClause"> </a><a id="18540" class="CatchallClause Symbol">(</a><a id="18541" href="libraries.Mainlibrary.html#2203" class="CatchallClause InductiveConstructor">stateEF</a><a id="18548" class="CatchallClause"> </a><a id="18549" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18549" class="CatchallClause Bound">currentLedger</a><a id="18562" class="CatchallClause"> </a><a id="18563" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18563" class="CatchallClause Bound">executionStack</a><a id="18577" class="CatchallClause"> </a><a id="18578" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18578" class="CatchallClause Bound">initialAddr</a><a id="18589" class="CatchallClause"> </a><a id="18590" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18590" class="CatchallClause Bound">lastCallAddr</a><a id="18602" class="CatchallClause"> </a><a id="18603" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18603" class="CatchallClause Bound">calledAddr</a>
                 <a id="18631" class="CatchallClause Symbol">(</a><a id="18632" href="Complex-Model.ccomand.ccommands-cresponse.html#1624" class="CatchallClause InductiveConstructor">error</a><a id="18637" class="CatchallClause"> </a><a id="18638" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18638" class="CatchallClause Bound">errorMsg</a><a id="18646" class="CatchallClause"> </a><a id="18647" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18647" class="CatchallClause Bound">debuginfo</a><a id="18656" class="CatchallClause Symbol">)</a><a id="18657" class="CatchallClause"> </a><a id="18658" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18658" class="CatchallClause Bound">gasLeft</a><a id="18665" class="CatchallClause">  </a><a id="18667" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18667" class="CatchallClause Bound">funNameevalState</a><a id="18683" class="CatchallClause"> </a><a id="18684" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18684" class="CatchallClause Bound">msgevalState</a><a id="18696" class="CatchallClause Symbol">)</a>
       <a id="18705" class="Symbol">=</a> <a id="18707" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="18713" class="Symbol">.</a><a id="18714" href="constantparameters.html#665" class="Field">costerror</a> <a id="18724" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18638" class="Bound">errorMsg</a>


<a id="18735" class="Comment">--This function we use it to deduct gas from evalstate not ledger</a>
<a id="deductGas"></a><a id="18801" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18801" class="Function">deductGas</a> <a id="18811" class="Symbol">:</a>  <a id="18814" class="Symbol">(</a><a id="18815" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18815" class="Bound">statefun</a> <a id="18824" class="Symbol">:</a> <a id="18826" href="libraries.Mainlibrary.html#2164" class="Record">StateExecFun</a><a id="18838" class="Symbol">)</a> <a id="18840" class="Symbol">(</a><a id="18841" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18841" class="Bound">gasDeducted</a> <a id="18853" class="Symbol">:</a> <a id="18855" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="18856" class="Symbol">)</a> <a id="18858" class="Symbol">→</a> <a id="18860" href="libraries.Mainlibrary.html#2164" class="Record">StateExecFun</a>
<a id="18873" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18801" class="Function">deductGas</a> <a id="18883" class="Symbol">(</a><a id="18884" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="18892" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18892" class="Bound">ledger</a> <a id="18899" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18899" class="Bound">executionStack</a> <a id="18914" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18914" class="Bound">initialAddr</a> <a id="18926" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18926" class="Bound">lastCallAddr</a> <a id="18939" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18939" class="Bound">calledAddr</a> <a id="18950" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18950" class="Bound">nextstep</a>
            <a id="18971" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18971" class="Bound">gasLeft</a>  <a id="18980" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18980" class="Bound">funNameevalState</a> <a id="18997" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18997" class="Bound">msgevalState</a><a id="19009" class="Symbol">)</a> <a id="19011" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19011" class="Bound">gasDeducted</a>
       <a id="19030" class="Symbol">=</a> <a id="19032" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="19040" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18892" class="Bound">ledger</a> <a id="19047" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18899" class="Bound">executionStack</a> <a id="19062" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18914" class="Bound">initialAddr</a> <a id="19074" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18926" class="Bound">lastCallAddr</a> <a id="19087" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18939" class="Bound">calledAddr</a> <a id="19098" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18950" class="Bound">nextstep</a>
       <a id="19114" class="Symbol">(</a><a id="19115" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18971" class="Bound">gasLeft</a> <a id="19123" href="Agda.Builtin.Nat.html#426" class="Primitive Operator">-</a> <a id="19125" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19011" class="Bound">gasDeducted</a><a id="19136" class="Symbol">)</a>  <a id="19139" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18980" class="Bound">funNameevalState</a> <a id="19156" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18997" class="Bound">msgevalState</a>


<a id="19171" class="Comment">-- this function we use it to cpmare gas in stepEFgasNeeded with stepEFgasAvailable</a>
<a id="stepEFAuxCompare"></a><a id="19255" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19255" class="Function">stepEFAuxCompare</a> <a id="19272" class="Symbol">:</a> <a id="19274" class="Symbol">(</a><a id="19275" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19275" class="Bound">oldLedger</a> <a id="19285" class="Symbol">:</a> <a id="19287" href="libraries.Mainlibrary.html#1069" class="Function">Ledger</a><a id="19293" class="Symbol">)</a> <a id="19295" class="Symbol">→</a> <a id="19297" class="Symbol">(</a><a id="19298" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19298" class="Bound">statefun</a> <a id="19307" class="Symbol">:</a> <a id="19309" href="libraries.Mainlibrary.html#2164" class="Record">StateExecFun</a><a id="19321" class="Symbol">)</a>
                <a id="19339" class="Symbol">→</a> <a id="19341" href="libraries.natCompare.html#679" class="Datatype">OrderingLeq</a> <a id="19353" class="Symbol">(</a><a id="19354" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="19358" class="Symbol">(</a><a id="19359" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15857" class="Function">stepEFgasNeeded</a> <a id="19375" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19298" class="Bound">statefun</a><a id="19383" class="Symbol">))(</a><a id="19386" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15544" class="Function">stepEFgasAvailable</a> <a id="19405" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19298" class="Bound">statefun</a><a id="19413" class="Symbol">)</a>
                <a id="19431" class="Symbol">→</a> <a id="19433" href="libraries.Mainlibrary.html#2164" class="Record">StateExecFun</a>
<a id="19446" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19255" class="Function">stepEFAuxCompare</a> <a id="19463" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19463" class="Bound">oldLedger</a> <a id="19473" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19473" class="Bound">statefun</a> <a id="19482" class="Symbol">(</a><a id="19483" href="libraries.natCompare.html#717" class="InductiveConstructor">leq</a> <a id="19487" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19487" class="Bound">x</a><a id="19488" class="Symbol">)</a> <a id="19490" class="Symbol">=</a> <a id="19492" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18801" class="Function">deductGas</a> <a id="19502" class="Symbol">(</a><a id="19503" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8015" class="Function">stepEF</a> <a id="19510" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19463" class="Bound">oldLedger</a> <a id="19520" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19473" class="Bound">statefun</a><a id="19528" class="Symbol">)</a> <a id="19530" class="Symbol">(</a><a id="19531" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="19535" class="Symbol">(</a><a id="19536" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15857" class="Function">stepEFgasNeeded</a> <a id="19552" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19473" class="Bound">statefun</a><a id="19560" class="Symbol">))</a>
<a id="19563" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19255" class="Function">stepEFAuxCompare</a> <a id="19580" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19580" class="Bound">oldLedger</a> <a id="19590" class="Symbol">(</a><a id="19591" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="19599" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19599" class="Bound">ledger</a> <a id="19606" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19606" class="Bound">executionStack</a> <a id="19621" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19621" class="Bound">initialAddr</a> <a id="19633" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19633" class="Bound">lastCallAddr</a> <a id="19646" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19646" class="Bound">calledAddr</a> <a id="19657" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19657" class="Bound">nextstep</a>
                 <a id="19683" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19683" class="Bound">gasLeft</a>  <a id="19692" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19692" class="Bound">funNameevalState</a> <a id="19709" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19709" class="Bound">msgevalState</a><a id="19721" class="Symbol">)</a> <a id="19723" class="Symbol">(</a><a id="19724" href="libraries.natCompare.html#755" class="InductiveConstructor">greater</a> <a id="19732" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19732" class="Bound">x</a><a id="19733" class="Symbol">)</a>
        <a id="19743" class="Symbol">=</a> <a id="19745" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="19753" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19580" class="Bound">oldLedger</a> <a id="19763" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19606" class="Bound">executionStack</a> <a id="19778" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19621" class="Bound">initialAddr</a> <a id="19790" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19633" class="Bound">lastCallAddr</a> <a id="19803" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19646" class="Bound">calledAddr</a> <a id="19814" class="Symbol">(</a><a id="19815" href="Complex-Model.ccomand.ccommands-cresponse.html#1624" class="InductiveConstructor">error</a> <a id="19821" href="basicDataStructure.html#776" class="InductiveConstructor">outOfGasError</a>
            <a id="19847" href="basicDataStructure.html#881" class="InductiveConstructor Operator">⟨</a> <a id="19849" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19633" class="Bound">lastCallAddr</a> <a id="19862" href="basicDataStructure.html#881" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="19865" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19621" class="Bound">initialAddr</a> <a id="19877" href="basicDataStructure.html#881" class="InductiveConstructor Operator">∙</a> <a id="19879" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19692" class="Bound">funNameevalState</a> <a id="19896" href="basicDataStructure.html#881" class="InductiveConstructor Operator">[</a> <a id="19898" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19709" class="Bound">msgevalState</a> <a id="19911" href="basicDataStructure.html#881" class="InductiveConstructor Operator">]⟩</a><a id="19913" class="Symbol">)</a> <a id="19915" class="Number">0</a>
            <a id="19929" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19692" class="Bound">funNameevalState</a> <a id="19946" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19709" class="Bound">msgevalState</a>


<a id="stepEFwithGasError"></a><a id="19961" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19961" class="Function">stepEFwithGasError</a> <a id="19980" class="Symbol">:</a> <a id="19982" class="Symbol">(</a><a id="19983" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19983" class="Bound">oldLedger</a> <a id="19993" class="Symbol">:</a> <a id="19995" href="libraries.Mainlibrary.html#1069" class="Function">Ledger</a><a id="20001" class="Symbol">)</a> <a id="20003" class="Symbol">→</a> <a id="20005" class="Symbol">(</a><a id="20006" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20006" class="Bound">evals</a> <a id="20012" class="Symbol">:</a> <a id="20014" href="libraries.Mainlibrary.html#2164" class="Record">StateExecFun</a><a id="20026" class="Symbol">)</a> <a id="20028" class="Symbol">→</a> <a id="20030" href="libraries.Mainlibrary.html#2164" class="Record">StateExecFun</a>
<a id="20043" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19961" class="Function">stepEFwithGasError</a> <a id="20062" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20062" class="Bound">oldLedger</a> <a id="20072" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20072" class="Bound">evals</a>  <a id="20079" class="Symbol">=</a> <a id="20081" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19255" class="Function">stepEFAuxCompare</a> <a id="20098" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20062" class="Bound">oldLedger</a> <a id="20108" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20072" class="Bound">evals</a>
                                      <a id="20152" class="Symbol">(</a><a id="20153" href="libraries.natCompare.html#936" class="Function">compareLeq</a> <a id="20164" class="Symbol">(</a><a id="20165" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="20169" class="Symbol">(</a><a id="20170" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15857" class="Function">stepEFgasNeeded</a> <a id="20186" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20072" class="Bound">evals</a><a id="20191" class="Symbol">))</a>
                                      <a id="20232" class="Symbol">(</a><a id="20233" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15544" class="Function">stepEFgasAvailable</a> <a id="20252" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20072" class="Bound">evals</a><a id="20257" class="Symbol">))</a>



<a id="20263" class="Comment">-- definition of stepEFntimes</a>
<a id="stepEFntimes"></a><a id="20293" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20293" class="Function">stepEFntimes</a> <a id="20306" class="Symbol">:</a> <a id="20308" href="libraries.Mainlibrary.html#1069" class="Function">Ledger</a> <a id="20315" class="Symbol">→</a> <a id="20317" href="libraries.Mainlibrary.html#2164" class="Record">StateExecFun</a> <a id="20330" class="Symbol">→</a> <a id="20332" class="Symbol">(</a><a id="20333" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20333" class="Bound">ntimes</a> <a id="20340" class="Symbol">:</a> <a id="20342" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="20343" class="Symbol">)</a> <a id="20345" class="Symbol">→</a> <a id="20347" href="libraries.Mainlibrary.html#2164" class="Record">StateExecFun</a>
<a id="20360" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20293" class="Function">stepEFntimes</a> <a id="20373" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20373" class="Bound">oldLedger</a> <a id="20383" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20383" class="Bound">ledgerstateexecfun</a> <a id="20402" class="Number">0</a>
             <a id="20417" class="Symbol">=</a> <a id="20419" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20383" class="Bound">ledgerstateexecfun</a>
<a id="20438" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20293" class="Function">stepEFntimes</a> <a id="20451" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20451" class="Bound">oldLedger</a> <a id="20461" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20461" class="Bound">ledgerstateexecfun</a> <a id="20480" class="Symbol">(</a><a id="20481" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="20485" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20485" class="Bound">n</a><a id="20486" class="Symbol">)</a>
             <a id="20501" class="Symbol">=</a> <a id="20503" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19961" class="Function">stepEFwithGasError</a> <a id="20522" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20451" class="Bound">oldLedger</a> <a id="20532" class="Symbol">(</a><a id="20533" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20293" class="Function">stepEFntimes</a> <a id="20546" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20451" class="Bound">oldLedger</a> <a id="20556" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20461" class="Bound">ledgerstateexecfun</a> <a id="20575" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20485" class="Bound">n</a><a id="20576" class="Symbol">)</a>

<a id="20579" class="Comment">-- definition of stepEFntimes list</a>
<a id="stepEFntimesList"></a><a id="20614" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20614" class="Function">stepEFntimesList</a> <a id="20631" class="Symbol">:</a> <a id="20633" href="libraries.Mainlibrary.html#1069" class="Function">Ledger</a> <a id="20640" class="Symbol">→</a> <a id="20642" href="libraries.Mainlibrary.html#2164" class="Record">StateExecFun</a> <a id="20655" class="Symbol">→</a> <a id="20657" class="Symbol">(</a><a id="20658" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20658" class="Bound">ntimes</a> <a id="20665" class="Symbol">:</a> <a id="20667" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="20668" class="Symbol">)</a> <a id="20670" class="Symbol">→</a> <a id="20672" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="20677" href="libraries.Mainlibrary.html#2164" class="Record">StateExecFun</a>
<a id="20690" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20614" class="Function">stepEFntimesList</a> <a id="20707" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20707" class="Bound">oldLedger</a> <a id="20717" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20717" class="Bound">ledgerstateexecfun</a> <a id="20736" class="Number">0</a>
                 <a id="20755" class="Symbol">=</a> <a id="20757" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20717" class="Bound">ledgerstateexecfun</a> <a id="20776" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="20778" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
<a id="20781" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20614" class="Function">stepEFntimesList</a> <a id="20798" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20798" class="Bound">oldLedger</a> <a id="20808" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20808" class="Bound">ledgerstateexecfun</a> <a id="20827" class="Symbol">(</a><a id="20828" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="20832" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20832" class="Bound">n</a><a id="20833" class="Symbol">)</a>
                 <a id="20852" class="Symbol">=</a> <a id="20854" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20293" class="Function">stepEFntimes</a> <a id="20867" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20798" class="Bound">oldLedger</a> <a id="20877" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20808" class="Bound">ledgerstateexecfun</a> <a id="20896" class="Symbol">(</a><a id="20897" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="20901" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20832" class="Bound">n</a><a id="20902" class="Symbol">)</a>
                   <a id="20923" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="20925" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20614" class="Function">stepEFntimesList</a> <a id="20942" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20798" class="Bound">oldLedger</a> <a id="20952" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20808" class="Bound">ledgerstateexecfun</a> <a id="20971" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20832" class="Bound">n</a>

<a id="20974" class="Comment">--this function below we use it to refund as a part of septEF</a>
<a id="21036" class="Comment">---- we use stepEFwithGasError instead of stepEF in refund and stepEFntimesWithRefund</a>
<a id="refund"></a><a id="21122" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21122" class="Function">refund</a> <a id="21129" class="Symbol">:</a> <a id="21131" href="libraries.Mainlibrary.html#2164" class="Record">StateExecFun</a> <a id="21144" class="Symbol">→</a> <a id="21146" href="libraries.Mainlibrary.html#2164" class="Record">StateExecFun</a>
<a id="21159" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21122" class="Function">refund</a> <a id="21166" class="Symbol">(</a><a id="21167" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="21175" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21175" class="Bound">currentLedger</a> <a id="21189" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="21192" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21192" class="Bound">initialAddr</a> <a id="21204" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21204" class="Bound">lastCallAddr</a> <a id="21217" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21217" class="Bound">calledAddr</a> <a id="21228" class="Symbol">(</a><a id="21229" href="Complex-Model.ccomand.ccommands-cresponse.html#1586" class="InductiveConstructor">return</a> <a id="21236" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21236" class="Bound">cost</a> <a id="21241" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21241" class="Bound">result</a><a id="21247" class="Symbol">)</a>
        <a id="21257" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21257" class="Bound">gasLeft</a>  <a id="21266" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21266" class="Bound">funNameevalState</a> <a id="21283" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21283" class="Bound">msgevalState</a><a id="21295" class="Symbol">)</a>
            <a id="21309" class="Symbol">=</a> <a id="21311" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="21319" class="Symbol">(</a><a id="21320" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3482" class="Function">addWeiToLedger</a> <a id="21335" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21175" class="Bound">currentLedger</a> <a id="21349" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21204" class="Bound">lastCallAddr</a> <a id="21362" class="Symbol">(</a><a id="21363" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="21372" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="21378" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21257" class="Bound">gasLeft</a><a id="21385" class="Symbol">))</a>
              <a id="21402" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="21405" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21192" class="Bound">initialAddr</a> <a id="21417" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21204" class="Bound">lastCallAddr</a> <a id="21430" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21217" class="Bound">calledAddr</a> <a id="21441" class="Symbol">(</a><a id="21442" href="Complex-Model.ccomand.ccommands-cresponse.html#1586" class="InductiveConstructor">return</a> <a id="21449" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21236" class="Bound">cost</a> <a id="21454" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21241" class="Bound">result</a><a id="21460" class="Symbol">)</a>
               <a id="21477" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21257" class="Bound">gasLeft</a> <a id="21485" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21266" class="Bound">funNameevalState</a> <a id="21502" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21283" class="Bound">msgevalState</a>
<a id="21515" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21122" class="CatchallClause Function">refund</a><a id="21521" class="CatchallClause"> </a><a id="21522" class="CatchallClause Symbol">(</a><a id="21523" href="libraries.Mainlibrary.html#2203" class="CatchallClause InductiveConstructor">stateEF</a><a id="21530" class="CatchallClause"> </a><a id="21531" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21531" class="CatchallClause Bound">currentLedger</a><a id="21544" class="CatchallClause"> </a><a id="21545" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21545" class="CatchallClause Bound">executionStack</a><a id="21559" class="CatchallClause"> </a><a id="21560" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21560" class="CatchallClause Bound">initialAddr</a><a id="21571" class="CatchallClause"> </a><a id="21572" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21572" class="CatchallClause Bound">lastCallAddr</a><a id="21584" class="CatchallClause"> </a><a id="21585" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21585" class="CatchallClause Bound">calledAddr</a>
       <a id="21603" class="CatchallClause Symbol">(</a><a id="21604" href="Complex-Model.ccomand.ccommands-cresponse.html#1624" class="CatchallClause InductiveConstructor">error</a><a id="21609" class="CatchallClause"> </a><a id="21610" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21610" class="CatchallClause Bound">errorMsg</a><a id="21618" class="CatchallClause"> </a><a id="21619" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21619" class="CatchallClause Bound">debugInfo</a><a id="21628" class="CatchallClause Symbol">)</a><a id="21629" class="CatchallClause"> </a><a id="21630" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21630" class="CatchallClause Bound">gasLeft</a><a id="21637" class="CatchallClause">  </a><a id="21639" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21639" class="CatchallClause Bound">funNameevalState</a><a id="21655" class="CatchallClause"> </a><a id="21656" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21656" class="CatchallClause Bound">msgevalState</a><a id="21668" class="CatchallClause Symbol">)</a>
            <a id="21682" class="Symbol">=</a> <a id="21684" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="21692" class="Symbol">(</a><a id="21693" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3482" class="Function">addWeiToLedger</a> <a id="21708" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21531" class="Bound">currentLedger</a>  <a id="21723" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21572" class="Bound">lastCallAddr</a> <a id="21736" class="Symbol">(</a><a id="21737" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="21746" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="21752" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21630" class="Bound">gasLeft</a><a id="21759" class="Symbol">))</a>
              <a id="21776" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21545" class="Bound">executionStack</a> <a id="21791" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21560" class="Bound">initialAddr</a> <a id="21803" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21572" class="Bound">lastCallAddr</a> <a id="21816" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21585" class="Bound">calledAddr</a>
              <a id="21841" class="Symbol">(</a><a id="21842" href="Complex-Model.ccomand.ccommands-cresponse.html#1624" class="InductiveConstructor">error</a> <a id="21848" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21610" class="Bound">errorMsg</a> <a id="21857" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21619" class="Bound">debugInfo</a><a id="21866" class="Symbol">)</a> <a id="21868" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21630" class="Bound">gasLeft</a>
               <a id="21891" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21639" class="Bound">funNameevalState</a> <a id="21908" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21656" class="Bound">msgevalState</a>
<a id="21921" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21122" class="CatchallClause Function">refund</a><a id="21927" class="CatchallClause"> </a><a id="21928" class="CatchallClause Symbol">(</a><a id="21929" href="libraries.Mainlibrary.html#2203" class="CatchallClause InductiveConstructor">stateEF</a><a id="21936" class="CatchallClause"> </a><a id="21937" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21937" class="CatchallClause Bound">ledger</a><a id="21943" class="CatchallClause"> </a><a id="21944" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21944" class="CatchallClause Bound">executionStack</a><a id="21958" class="CatchallClause"> </a><a id="21959" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21959" class="CatchallClause Bound">initialAddr</a><a id="21970" class="CatchallClause"> </a><a id="21971" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21971" class="CatchallClause Bound">lastCallAddr</a><a id="21983" class="CatchallClause"> </a><a id="21984" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21984" class="CatchallClause Bound">calledAddr</a>
        <a id="22003" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22003" class="CatchallClause Bound">nextstep</a><a id="22011" class="CatchallClause"> </a><a id="22012" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22012" class="CatchallClause Bound">gasLeft</a><a id="22019" class="CatchallClause">  </a><a id="22021" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22021" class="CatchallClause Bound">funNameevalState</a><a id="22037" class="CatchallClause"> </a><a id="22038" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22038" class="CatchallClause Bound">msgevalState</a><a id="22050" class="CatchallClause Symbol">)</a>
            <a id="22064" class="Symbol">=</a> <a id="22066" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19961" class="Function">stepEFwithGasError</a> <a id="22085" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21937" class="Bound">ledger</a> <a id="22092" class="Symbol">(</a><a id="22093" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="22101" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21937" class="Bound">ledger</a> <a id="22108" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21944" class="Bound">executionStack</a>
              <a id="22137" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21959" class="Bound">initialAddr</a> <a id="22149" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21971" class="Bound">lastCallAddr</a> <a id="22162" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21984" class="Bound">calledAddr</a> <a id="22173" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22003" class="Bound">nextstep</a> <a id="22182" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22012" class="Bound">gasLeft</a>
                <a id="22206" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22021" class="Bound">funNameevalState</a> <a id="22223" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22038" class="Bound">msgevalState</a><a id="22235" class="Symbol">)</a>


<a id="stepEFntimesWithRefund"></a><a id="22239" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22239" class="Function">stepEFntimesWithRefund</a> <a id="22262" class="Symbol">:</a> <a id="22264" href="libraries.Mainlibrary.html#1069" class="Function">Ledger</a> <a id="22271" class="Symbol">→</a> <a id="22273" href="libraries.Mainlibrary.html#2164" class="Record">StateExecFun</a> <a id="22286" class="Symbol">→</a> <a id="22288" class="Symbol">(</a><a id="22289" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22289" class="Bound">ntimes</a> <a id="22296" class="Symbol">:</a> <a id="22298" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="22299" class="Symbol">)</a> <a id="22301" class="Symbol">→</a> <a id="22303" href="libraries.Mainlibrary.html#2164" class="Record">StateExecFun</a>
<a id="22316" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22239" class="Function">stepEFntimesWithRefund</a> <a id="22339" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22339" class="Bound">oldLedger</a> <a id="22349" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22349" class="Bound">ledgerstateexecfun</a> <a id="22368" class="Number">0</a>
                       <a id="22393" class="Symbol">=</a> <a id="22395" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22349" class="Bound">ledgerstateexecfun</a>
<a id="22414" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22239" class="Function">stepEFntimesWithRefund</a> <a id="22437" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22437" class="Bound">oldLedger</a> <a id="22447" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22447" class="Bound">ledgerstateexecfun</a> <a id="22466" class="Symbol">(</a><a id="22467" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="22471" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22471" class="Bound">n</a><a id="22472" class="Symbol">)</a>
                       <a id="22497" class="Symbol">=</a> <a id="22499" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21122" class="Function">refund</a> <a id="22506" class="Symbol">(</a><a id="22507" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20293" class="Function">stepEFntimes</a> <a id="22520" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22437" class="Bound">oldLedger</a> <a id="22530" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22447" class="Bound">ledgerstateexecfun</a> <a id="22549" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22471" class="Bound">n</a><a id="22550" class="Symbol">)</a>


<a id="22554" class="Comment">---## similar to above but we use it with the new version of stepEFwithGasError</a>
<a id="22634" class="Comment">--initialAddr lastCallAddr calledAddr</a>
<a id="stepLedgerFunntimesAux"></a><a id="22672" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22672" class="Function">stepLedgerFunntimesAux</a> <a id="22695" class="Symbol">:</a> <a id="22697" class="Symbol">(</a><a id="22698" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22698" class="Bound">ledger</a> <a id="22705" class="Symbol">:</a> <a id="22707" href="libraries.Mainlibrary.html#1069" class="Function">Ledger</a><a id="22713" class="Symbol">)</a> <a id="22715" class="Symbol">→</a> <a id="22717" class="Symbol">(</a><a id="22718" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22718" class="Bound">initialAddr</a> <a id="22730" class="Symbol">:</a> <a id="22732" href="basicDataStructure.html#405" class="Function">Address</a><a id="22739" class="Symbol">)</a> <a id="22741" class="Symbol">→</a> <a id="22743" class="Symbol">(</a><a id="22744" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22744" class="Bound">lastCallAddr</a> <a id="22757" class="Symbol">:</a> <a id="22759" href="basicDataStructure.html#405" class="Function">Address</a><a id="22766" class="Symbol">)</a> <a id="22768" class="Symbol">→</a> <a id="22770" class="Symbol">(</a><a id="22771" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22771" class="Bound">calledAddr</a> <a id="22782" class="Symbol">:</a> <a id="22784" href="basicDataStructure.html#405" class="Function">Address</a><a id="22791" class="Symbol">)</a> <a id="22793" class="Symbol">→</a> <a id="22795" href="basicDataStructure.html#190" class="Function">FunctionName</a>
                        <a id="22832" class="Symbol">→</a> <a id="22834" href="basicDataStructure.html#523" class="Datatype">Msg</a>  <a id="22839" class="Symbol">→</a> <a id="22841" class="Symbol">(</a><a id="22842" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22842" class="Bound">gascost</a> <a id="22850" class="Symbol">:</a> <a id="22852" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="22853" class="Symbol">)</a>  <a id="22856" class="Symbol">→</a> <a id="22858" class="Symbol">(</a><a id="22859" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22859" class="Bound">ntimes</a> <a id="22866" class="Symbol">:</a> <a id="22868" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="22869" class="Symbol">)</a>
                        <a id="22895" class="Symbol">→</a> <a id="22897" class="Symbol">(</a><a id="22898" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22898" class="Bound">cp</a>  <a id="22902" class="Symbol">:</a> <a id="22904" href="libraries.natCompare.html#679" class="Datatype">OrderingLeq</a> <a id="22916" class="Symbol">(</a><a id="22917" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="22926" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="22932" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22842" class="Bound">gascost</a><a id="22939" class="Symbol">)</a> <a id="22941" class="Symbol">(</a><a id="22942" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22698" class="Bound">ledger</a> <a id="22949" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22744" class="Bound">lastCallAddr</a> <a id="22962" class="Symbol">.</a><a id="22963" href="libraries.Mainlibrary.html#833" class="Field">amount</a><a id="22969" class="Symbol">))</a>
                        <a id="22996" class="Symbol">→</a> <a id="22998" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="23004" href="libraries.Mainlibrary.html#2164" class="Record">StateExecFun</a>
<a id="23017" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22672" class="Function">stepLedgerFunntimesAux</a> <a id="23040" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23040" class="Bound">ledger</a> <a id="23047" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23047" class="Bound">initialAddr</a> <a id="23059" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23059" class="Bound">lastCallAddr</a> <a id="23072" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23072" class="Bound">calledAddr</a> <a id="23083" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23083" class="Bound">funname</a> <a id="23091" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23091" class="Bound">msg</a> <a id="23095" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23095" class="Bound">gascost</a>  <a id="23104" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23104" class="Bound">ntimes</a>  <a id="23112" class="Symbol">(</a><a id="23113" href="libraries.natCompare.html#717" class="InductiveConstructor">leq</a> <a id="23117" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23117" class="Bound">leqpro</a><a id="23123" class="Symbol">)</a>
                             <a id="23154" class="Symbol">=</a> <a id="23156" class="Keyword">let</a>
                                 <a id="23193" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23193" class="Bound">ledgerDeducted</a> <a id="23208" class="Symbol">:</a> <a id="23210" href="libraries.Mainlibrary.html#1069" class="Function">Ledger</a>
                                 <a id="23250" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23193" class="Bound">ledgerDeducted</a> <a id="23265" class="Symbol">=</a> <a id="23267" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2610" class="Function">deductGasFromLedger</a> <a id="23287" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23040" class="Bound">ledger</a> <a id="23294" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23059" class="Bound">lastCallAddr</a> <a id="23307" class="Symbol">(</a><a id="23308" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="23317" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="23323" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23095" class="Bound">gascost</a><a id="23330" class="Symbol">)</a> <a id="23332" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23117" class="Bound">leqpro</a>
                               <a id="23370" class="Keyword">in</a> <a id="23373" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="23378" class="Symbol">(</a><a id="23379" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20293" class="Function">stepEFntimes</a> <a id="23392" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23193" class="Bound">ledgerDeducted</a>
                               <a id="23438" class="Symbol">(</a><a id="23439" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="23447" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23193" class="Bound">ledgerDeducted</a> <a id="23462" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="23465" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23047" class="Bound">initialAddr</a> <a id="23477" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23059" class="Bound">lastCallAddr</a> <a id="23490" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23072" class="Bound">calledAddr</a>
                               <a id="23532" class="Symbol">(</a><a id="23533" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23193" class="Bound">ledgerDeducted</a> <a id="23548" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23072" class="Bound">calledAddr</a> <a id="23559" class="Symbol">.</a><a id="23560" href="libraries.Mainlibrary.html#859" class="Field">fun</a> <a id="23564" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23083" class="Bound">funname</a> <a id="23572" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23091" class="Bound">msg</a><a id="23575" class="Symbol">)</a>
                               <a id="23608" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23095" class="Bound">gascost</a> <a id="23616" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23083" class="Bound">funname</a> <a id="23624" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23091" class="Bound">msg</a><a id="23627" class="Symbol">)</a>
                               <a id="23660" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23104" class="Bound">ntimes</a><a id="23666" class="Symbol">)</a>

<a id="23669" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22672" class="Function">stepLedgerFunntimesAux</a> <a id="23692" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23692" class="Bound">ledger</a> <a id="23699" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23699" class="Bound">initialAddr</a> <a id="23711" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23711" class="Bound">lastCallAddr</a> <a id="23724" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23724" class="Bound">calledAddr</a> <a id="23735" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23735" class="Bound">funname</a> <a id="23743" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23743" class="Bound">msg</a> <a id="23747" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23747" class="Bound">gascost</a> <a id="23755" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23755" class="Bound">ntimes</a> <a id="23762" class="Symbol">(</a><a id="23763" href="libraries.natCompare.html#755" class="InductiveConstructor">greater</a> <a id="23771" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23771" class="Bound">greaterpro</a><a id="23781" class="Symbol">)</a>
                             <a id="23812" class="Symbol">=</a> <a id="23814" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

<a id="23823" class="Comment">--stepLedgerFunntimesAux ledger callAddr currentAddr funname msg gasreserved ntimes</a>
<a id="23907" class="Comment">--                       (compareLeq (GastoWei param gasreserved) (ledger callAddr .amount))</a>
<a id="24000" class="Comment">-- NNN here we need before running stepEFntimes  deduct the gas from ledger</a>
<a id="24076" class="Comment">-- NNN    it needs as argument just one gas parameter which is set to both oldgas and newgas</a>
<a id="24169" class="Comment">-- NNN    if there is not enough money in the account, then we should fail (not an error but fail)</a>
<a id="24268" class="Comment">-- NNN    so return type  should be Maybe EvalState</a>

<a id="stepLedgerFunntimes"></a><a id="24321" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24321" class="Function">stepLedgerFunntimes</a> <a id="24341" class="Symbol">:</a> <a id="24343" class="Symbol">(</a><a id="24344" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24344" class="Bound">ledger</a> <a id="24351" class="Symbol">:</a> <a id="24353" href="libraries.Mainlibrary.html#1069" class="Function">Ledger</a><a id="24359" class="Symbol">)</a>
                      <a id="24383" class="Symbol">→</a> <a id="24385" class="Symbol">(</a><a id="24386" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24386" class="Bound">initialAddr</a> <a id="24398" class="Symbol">:</a> <a id="24400" href="basicDataStructure.html#405" class="Function">Address</a><a id="24407" class="Symbol">)</a>
                      <a id="24431" class="Symbol">→</a> <a id="24433" class="Symbol">(</a><a id="24434" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24434" class="Bound">lastCallAddr</a> <a id="24447" class="Symbol">:</a> <a id="24449" href="basicDataStructure.html#405" class="Function">Address</a><a id="24456" class="Symbol">)</a>
                      <a id="24480" class="Symbol">→</a> <a id="24482" class="Symbol">(</a><a id="24483" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24483" class="Bound">calledAddr</a> <a id="24494" class="Symbol">:</a> <a id="24496" href="basicDataStructure.html#405" class="Function">Address</a><a id="24503" class="Symbol">)</a>
                      <a id="24527" class="Symbol">→</a> <a id="24529" href="basicDataStructure.html#190" class="Function">FunctionName</a>
                      <a id="24564" class="Symbol">→</a> <a id="24566" href="basicDataStructure.html#523" class="Datatype">Msg</a>
                      <a id="24592" class="Symbol">→</a> <a id="24594" class="Symbol">(</a><a id="24595" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24595" class="Bound">gasreserved</a> <a id="24607" class="Symbol">:</a> <a id="24609" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="24610" class="Symbol">)</a>
                      <a id="24634" class="Symbol">→</a> <a id="24636" class="Symbol">(</a><a id="24637" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24637" class="Bound">ntimes</a> <a id="24644" class="Symbol">:</a> <a id="24646" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="24647" class="Symbol">)</a>
                      <a id="24671" class="Symbol">→</a> <a id="24673" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="24679" href="libraries.Mainlibrary.html#2164" class="Record">StateExecFun</a>
<a id="24692" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24321" class="Function">stepLedgerFunntimes</a> <a id="24712" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24712" class="Bound">ledger</a> <a id="24719" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24719" class="Bound">initialAddr</a> <a id="24731" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24731" class="Bound">lastCallAddr</a> <a id="24744" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24744" class="Bound">calledAddr</a> <a id="24755" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24755" class="Bound">funname</a> <a id="24763" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24763" class="Bound">msg</a> <a id="24767" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24767" class="Bound">gasreserved</a>  <a id="24780" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24780" class="Bound">ntimes</a>
                     <a id="24808" class="Symbol">=</a> <a id="24810" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22672" class="Function">stepLedgerFunntimesAux</a> <a id="24833" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24712" class="Bound">ledger</a> <a id="24840" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24719" class="Bound">initialAddr</a> <a id="24852" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24731" class="Bound">lastCallAddr</a> <a id="24865" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24744" class="Bound">calledAddr</a>
                       <a id="24899" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24755" class="Bound">funname</a> <a id="24907" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24763" class="Bound">msg</a> <a id="24911" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24767" class="Bound">gasreserved</a>  <a id="24924" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24780" class="Bound">ntimes</a>
                       <a id="24954" class="Symbol">(</a><a id="24955" href="libraries.natCompare.html#936" class="Function">compareLeq</a> <a id="24966" class="Symbol">(</a><a id="24967" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="24976" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="24982" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24767" class="Bound">gasreserved</a><a id="24993" class="Symbol">)</a> <a id="24995" class="Symbol">(</a><a id="24996" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24712" class="Bound">ledger</a> <a id="25003" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24731" class="Bound">lastCallAddr</a> <a id="25016" class="Symbol">.</a><a id="25017" href="libraries.Mainlibrary.html#833" class="Field">amount</a><a id="25023" class="Symbol">))</a>


<a id="25028" class="Comment">--with list</a>
<a id="stepLedgerFunntimesListAux"></a><a id="25040" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25040" class="Function">stepLedgerFunntimesListAux</a> <a id="25067" class="Symbol">:</a> <a id="25069" class="Symbol">(</a><a id="25070" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25070" class="Bound">ledger</a> <a id="25077" class="Symbol">:</a> <a id="25079" href="libraries.Mainlibrary.html#1069" class="Function">Ledger</a><a id="25085" class="Symbol">)</a>
                           <a id="25114" class="Symbol">→</a> <a id="25116" class="Symbol">(</a><a id="25117" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25117" class="Bound">initialAddr</a> <a id="25129" class="Symbol">:</a> <a id="25131" href="basicDataStructure.html#405" class="Function">Address</a><a id="25138" class="Symbol">)</a>
                           <a id="25167" class="Symbol">→</a> <a id="25169" class="Symbol">(</a><a id="25170" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25170" class="Bound">lastCallAddr</a> <a id="25183" class="Symbol">:</a> <a id="25185" href="basicDataStructure.html#405" class="Function">Address</a><a id="25192" class="Symbol">)</a>
                           <a id="25221" class="Symbol">→</a> <a id="25223" class="Symbol">(</a><a id="25224" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25224" class="Bound">calledAddr</a> <a id="25235" class="Symbol">:</a> <a id="25237" href="basicDataStructure.html#405" class="Function">Address</a><a id="25244" class="Symbol">)</a>
                           <a id="25273" class="Symbol">→</a> <a id="25275" href="basicDataStructure.html#190" class="Function">FunctionName</a>
                           <a id="25315" class="Symbol">→</a> <a id="25317" href="basicDataStructure.html#523" class="Datatype">Msg</a>
                           <a id="25348" class="Symbol">→</a> <a id="25350" class="Symbol">(</a><a id="25351" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25351" class="Bound">gasreserved</a> <a id="25363" class="Symbol">:</a> <a id="25365" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="25366" class="Symbol">)</a>
                           <a id="25395" class="Symbol">→</a> <a id="25397" class="Symbol">(</a><a id="25398" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25398" class="Bound">ntimes</a> <a id="25405" class="Symbol">:</a> <a id="25407" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="25408" class="Symbol">)</a>
                           <a id="25437" class="Symbol">→</a> <a id="25439" class="Symbol">(</a><a id="25440" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25440" class="Bound">cp</a>  <a id="25444" class="Symbol">:</a> <a id="25446" href="libraries.natCompare.html#679" class="Datatype">OrderingLeq</a> <a id="25458" class="Symbol">(</a><a id="25459" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="25468" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="25474" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25351" class="Bound">gasreserved</a><a id="25485" class="Symbol">)</a> <a id="25487" class="Symbol">(</a><a id="25488" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25070" class="Bound">ledger</a> <a id="25495" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25170" class="Bound">lastCallAddr</a> <a id="25508" class="Symbol">.</a><a id="25509" href="libraries.Mainlibrary.html#833" class="Field">amount</a><a id="25515" class="Symbol">))</a>
                           <a id="25545" class="Symbol">→</a> <a id="25547" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="25553" class="Symbol">(</a><a id="25554" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="25559" href="libraries.Mainlibrary.html#2164" class="Record">StateExecFun</a><a id="25571" class="Symbol">)</a>
<a id="25573" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25040" class="Function">stepLedgerFunntimesListAux</a> <a id="25600" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25600" class="Bound">ledger</a> <a id="25607" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25607" class="Bound">initialAddr</a> <a id="25619" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25619" class="Bound">lastCallAddr</a> <a id="25632" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25632" class="Bound">calledAddr</a> <a id="25643" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25643" class="Bound">funname</a> <a id="25651" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25651" class="Bound">msg</a> <a id="25655" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25655" class="Bound">gasreserved</a>  <a id="25668" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25668" class="Bound">ntimes</a> <a id="25675" class="Symbol">(</a><a id="25676" href="libraries.natCompare.html#717" class="InductiveConstructor">leq</a> <a id="25680" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25680" class="Bound">leqpro</a><a id="25686" class="Symbol">)</a>
                            <a id="25716" class="Symbol">=</a> <a id="25718" class="Keyword">let</a>
                               <a id="25753" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25753" class="Bound">ledgerDeducted</a> <a id="25768" class="Symbol">:</a> <a id="25770" href="libraries.Mainlibrary.html#1069" class="Function">Ledger</a>
                               <a id="25808" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25753" class="Bound">ledgerDeducted</a> <a id="25823" class="Symbol">=</a> <a id="25825" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2610" class="Function">deductGasFromLedger</a> <a id="25845" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25600" class="Bound">ledger</a> <a id="25852" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25619" class="Bound">lastCallAddr</a> <a id="25865" class="Symbol">(</a><a id="25866" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="25875" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="25881" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25655" class="Bound">gasreserved</a><a id="25892" class="Symbol">)</a> <a id="25894" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25680" class="Bound">leqpro</a>
                            <a id="25929" class="Keyword">in</a>
                              <a id="25962" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="25967" class="Symbol">(</a><a id="25968" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20614" class="Function">stepEFntimesList</a> <a id="25985" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25753" class="Bound">ledgerDeducted</a>
                                   <a id="26035" class="Symbol">(</a><a id="26036" href="libraries.Mainlibrary.html#2203" class="InductiveConstructor">stateEF</a> <a id="26044" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25753" class="Bound">ledgerDeducted</a> <a id="26059" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="26062" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25607" class="Bound">initialAddr</a> <a id="26074" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25619" class="Bound">lastCallAddr</a> <a id="26087" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25632" class="Bound">calledAddr</a>
                                   <a id="26133" class="Symbol">(</a><a id="26134" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25753" class="Bound">ledgerDeducted</a> <a id="26149" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25632" class="Bound">calledAddr</a> <a id="26160" class="Symbol">.</a><a id="26161" href="libraries.Mainlibrary.html#859" class="Field">fun</a> <a id="26165" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25643" class="Bound">funname</a> <a id="26173" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25651" class="Bound">msg</a><a id="26176" class="Symbol">)</a> <a id="26178" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25655" class="Bound">gasreserved</a> <a id="26190" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25643" class="Bound">funname</a> <a id="26198" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25651" class="Bound">msg</a><a id="26201" class="Symbol">)</a> <a id="26203" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25668" class="Bound">ntimes</a><a id="26209" class="Symbol">)</a>
<a id="26211" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25040" class="Function">stepLedgerFunntimesListAux</a> <a id="26238" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26238" class="Bound">ledger</a> <a id="26245" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26245" class="Bound">initialAddr</a> <a id="26257" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26257" class="Bound">lastCallAddr</a> <a id="26270" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26270" class="Bound">calledAddr</a> <a id="26281" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26281" class="Bound">funname</a> <a id="26289" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26289" class="Bound">msg</a> <a id="26293" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26293" class="Bound">gasreserved</a> <a id="26305" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26305" class="Bound">ntimes</a> <a id="26312" class="Symbol">(</a><a id="26313" href="libraries.natCompare.html#755" class="InductiveConstructor">greater</a> <a id="26321" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26321" class="Bound">greaterpro</a><a id="26331" class="Symbol">)</a>
                            <a id="26361" class="Symbol">=</a> <a id="26363" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>


<a id="stepLedgerFunntimesList"></a><a id="26373" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26373" class="Function">stepLedgerFunntimesList</a> <a id="26397" class="Symbol">:</a> <a id="26399" class="Symbol">(</a><a id="26400" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26400" class="Bound">ledger</a> <a id="26407" class="Symbol">:</a> <a id="26409" href="libraries.Mainlibrary.html#1069" class="Function">Ledger</a><a id="26415" class="Symbol">)</a>
                          <a id="26443" class="Symbol">→</a> <a id="26445" class="Symbol">(</a><a id="26446" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26446" class="Bound">initialAddr</a> <a id="26458" class="Symbol">:</a> <a id="26460" href="basicDataStructure.html#405" class="Function">Address</a><a id="26467" class="Symbol">)</a>
                          <a id="26495" class="Symbol">→</a> <a id="26497" class="Symbol">(</a><a id="26498" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26498" class="Bound">lastCallAddr</a> <a id="26511" class="Symbol">:</a> <a id="26513" href="basicDataStructure.html#405" class="Function">Address</a><a id="26520" class="Symbol">)</a>
                          <a id="26548" class="Symbol">→</a> <a id="26550" class="Symbol">(</a><a id="26551" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26551" class="Bound">calledAddr</a> <a id="26562" class="Symbol">:</a> <a id="26564" href="basicDataStructure.html#405" class="Function">Address</a><a id="26571" class="Symbol">)</a>
                          <a id="26599" class="Symbol">→</a> <a id="26601" class="Symbol">(</a><a id="26602" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26602" class="Bound">funname</a> <a id="26610" class="Symbol">:</a> <a id="26612" href="basicDataStructure.html#190" class="Function">FunctionName</a><a id="26624" class="Symbol">)</a>
                          <a id="26652" class="Symbol">→</a> <a id="26654" class="Symbol">(</a><a id="26655" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26655" class="Bound">msg</a> <a id="26659" class="Symbol">:</a> <a id="26661" href="basicDataStructure.html#523" class="Datatype">Msg</a><a id="26664" class="Symbol">)</a>
                          <a id="26692" class="Symbol">→</a> <a id="26694" class="Symbol">(</a><a id="26695" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26695" class="Bound">gasreserved</a> <a id="26707" class="Symbol">:</a> <a id="26709" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="26710" class="Symbol">)</a>
                          <a id="26738" class="Symbol">→</a> <a id="26740" class="Symbol">(</a><a id="26741" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26741" class="Bound">ntimes</a> <a id="26748" class="Symbol">:</a> <a id="26750" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="26751" class="Symbol">)</a>
                          <a id="26779" class="Symbol">→</a> <a id="26781" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="26787" class="Symbol">(</a><a id="26788" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="26793" href="libraries.Mainlibrary.html#2164" class="Record">StateExecFun</a><a id="26805" class="Symbol">)</a>
<a id="26807" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26373" class="Function">stepLedgerFunntimesList</a> <a id="26831" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26831" class="Bound">ledger</a> <a id="26838" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26838" class="Bound">initialAddr</a> <a id="26850" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26850" class="Bound">lastCallAddr</a> <a id="26863" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26863" class="Bound">calledAddr</a> <a id="26874" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26874" class="Bound">funname</a> <a id="26882" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26882" class="Bound">msg</a> <a id="26886" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26886" class="Bound">gasreserved</a>  <a id="26899" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26899" class="Bound">ntimes</a>
                        <a id="26930" class="Symbol">=</a> <a id="26932" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25040" class="Function">stepLedgerFunntimesListAux</a> <a id="26959" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26831" class="Bound">ledger</a> <a id="26966" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26838" class="Bound">initialAddr</a> <a id="26978" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26850" class="Bound">lastCallAddr</a> <a id="26991" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26863" class="Bound">calledAddr</a> <a id="27002" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26874" class="Bound">funname</a> <a id="27010" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26882" class="Bound">msg</a> <a id="27014" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26886" class="Bound">gasreserved</a>  <a id="27027" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26899" class="Bound">ntimes</a>
                       <a id="27057" class="Symbol">(</a><a id="27058" href="libraries.natCompare.html#936" class="Function">compareLeq</a> <a id="27069" class="Symbol">(</a><a id="27070" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="27079" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="27085" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26886" class="Bound">gasreserved</a><a id="27096" class="Symbol">)</a> <a id="27098" class="Symbol">(</a><a id="27099" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26831" class="Bound">ledger</a> <a id="27106" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26850" class="Bound">lastCallAddr</a> <a id="27119" class="Symbol">.</a><a id="27120" href="libraries.Mainlibrary.html#833" class="Field">amount</a><a id="27126" class="Symbol">))</a>





<a id="27134" class="Comment">--clear version of evaluateNonTerminating&#39;</a>
<a id="27177" class="Comment">-- the below is the final step and we use it to solve the return cost</a>

<a id="evaluateAuxfinal0&#39;"></a><a id="27248" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27248" class="Function">evaluateAuxfinal0&#39;</a> <a id="27267" class="Symbol">:</a> <a id="27269" class="Symbol">(</a><a id="27270" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27270" class="Bound">oldLedger</a> <a id="27280" class="Symbol">:</a> <a id="27282" href="libraries.Mainlibrary.html#1069" class="Function">Ledger</a><a id="27288" class="Symbol">)</a>
                          <a id="27316" class="Symbol">→</a> <a id="27318" class="Symbol">(</a><a id="27319" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27319" class="Bound">currentLedger</a> <a id="27333" class="Symbol">:</a> <a id="27335" href="libraries.Mainlibrary.html#1069" class="Function">Ledger</a><a id="27341" class="Symbol">)</a>
                          <a id="27369" class="Symbol">→</a> <a id="27371" class="Symbol">(</a><a id="27372" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27372" class="Bound">initialAddr</a> <a id="27384" class="Symbol">:</a> <a id="27386" href="basicDataStructure.html#405" class="Function">Address</a><a id="27393" class="Symbol">)</a>
                          <a id="27421" class="Symbol">→</a> <a id="27423" class="Symbol">(</a><a id="27424" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27424" class="Bound">lastCallAddr</a> <a id="27437" class="Symbol">:</a> <a id="27439" href="basicDataStructure.html#405" class="Function">Address</a><a id="27446" class="Symbol">)</a>
                          <a id="27474" class="Symbol">→</a> <a id="27476" class="Symbol">(</a><a id="27477" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27477" class="Bound">calledAddr</a> <a id="27488" class="Symbol">:</a> <a id="27490" href="basicDataStructure.html#405" class="Function">Address</a><a id="27497" class="Symbol">)</a>
                          <a id="27525" class="Symbol">→</a> <a id="27527" class="Symbol">(</a><a id="27528" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27528" class="Bound">cost</a> <a id="27533" class="Symbol">:</a> <a id="27535" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="27536" class="Symbol">)</a>
                          <a id="27564" class="Symbol">→</a> <a id="27566" class="Symbol">(</a><a id="27567" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27567" class="Bound">returnvalue</a> <a id="27579" class="Symbol">:</a> <a id="27581" href="basicDataStructure.html#523" class="Datatype">Msg</a><a id="27584" class="Symbol">)</a>
                          <a id="27612" class="Symbol">→</a> <a id="27614" class="Symbol">(</a><a id="27615" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27615" class="Bound">gasLeft</a> <a id="27623" class="Symbol">:</a> <a id="27625" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="27626" class="Symbol">)</a>
                          <a id="27654" class="Symbol">→</a> <a id="27656" class="Symbol">(</a><a id="27657" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27657" class="Bound">funNameevalState</a> <a id="27674" class="Symbol">:</a> <a id="27676" href="basicDataStructure.html#190" class="Function">FunctionName</a><a id="27688" class="Symbol">)</a>
                          <a id="27716" class="Symbol">→</a> <a id="27718" class="Symbol">(</a><a id="27719" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27719" class="Bound">msgevalState</a> <a id="27732" class="Symbol">:</a> <a id="27734" href="basicDataStructure.html#523" class="Datatype">Msg</a><a id="27737" class="Symbol">)</a>
                          <a id="27765" class="Symbol">→</a> <a id="27767" class="Symbol">(</a><a id="27768" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27768" class="Bound">cp</a>  <a id="27772" class="Symbol">:</a> <a id="27774" href="libraries.natCompare.html#679" class="Datatype">OrderingLeq</a> <a id="27786" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27528" class="Bound">cost</a> <a id="27791" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27615" class="Bound">gasLeft</a><a id="27798" class="Symbol">)</a>
                          <a id="27826" class="Symbol">→</a> <a id="27828" class="Symbol">(</a><a id="27829" href="libraries.Mainlibrary.html#1069" class="Function">Ledger</a> <a id="27836" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="27838" href="basicDataStructure.html#1675" class="Record">MsgOrErrorWithGas</a><a id="27855" class="Symbol">)</a>
<a id="27857" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27248" class="Function">evaluateAuxfinal0&#39;</a> <a id="27876" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27876" class="Bound">oldLedger</a> <a id="27886" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27886" class="Bound">currentLedger</a> <a id="27900" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27900" class="Bound">initialAddr</a> <a id="27912" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27912" class="Bound">lastCallAddr</a> <a id="27925" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27925" class="Bound">calledAddr</a> <a id="27936" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27936" class="Bound">cost</a> <a id="27941" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27941" class="Bound">ms</a> <a id="27944" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27944" class="Bound">gasLeft</a> <a id="27952" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27952" class="Bound">funNameevalState</a> <a id="27969" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27969" class="Bound">msgevalState</a> <a id="27982" class="Symbol">(</a><a id="27983" href="libraries.natCompare.html#717" class="InductiveConstructor">leq</a> <a id="27987" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27987" class="Bound">x</a><a id="27988" class="Symbol">)</a>
                               <a id="28021" class="Symbol">=</a>  <a id="28024" class="Symbol">(</a><a id="28025" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3482" class="Function">addWeiToLedger</a> <a id="28040" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27886" class="Bound">currentLedger</a> <a id="28054" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27900" class="Bound">initialAddr</a>
                                   <a id="28101" class="Symbol">(</a><a id="28102" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="28111" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="28117" class="Symbol">(</a><a id="28118" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27944" class="Bound">gasLeft</a> <a id="28126" href="Agda.Builtin.Nat.html#426" class="Primitive Operator">-</a> <a id="28128" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27936" class="Bound">cost</a><a id="28132" class="Symbol">)))</a> <a id="28136" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a> <a id="28139" class="Symbol">(</a><a id="28140" href="basicDataStructure.html#1562" class="InductiveConstructor">theMsg</a> <a id="28147" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27941" class="Bound">ms</a> <a id="28150" href="basicDataStructure.html#1726" class="InductiveConstructor Operator">,</a> <a id="28152" class="Symbol">(</a><a id="28153" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27944" class="Bound">gasLeft</a> <a id="28161" href="Agda.Builtin.Nat.html#426" class="Primitive Operator">-</a> <a id="28163" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27936" class="Bound">cost</a><a id="28167" class="Symbol">)</a> <a id="28169" href="basicDataStructure.html#1726" class="InductiveConstructor Operator">gas</a><a id="28172" class="Symbol">)</a>

<a id="28175" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27248" class="Function">evaluateAuxfinal0&#39;</a> <a id="28194" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28194" class="Bound">oldLedger</a> <a id="28204" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28204" class="Bound">currentLedger</a> <a id="28218" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28218" class="Bound">initialAddr</a> <a id="28230" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28230" class="Bound">lastCallAddr</a> <a id="28243" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28243" class="Bound">calledAddr</a> <a id="28254" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28254" class="Bound">cost</a> <a id="28259" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28259" class="Bound">returnvalue</a> <a id="28271" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28271" class="Bound">gasLeft</a> <a id="28279" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28279" class="Bound">funNameevalState</a> <a id="28296" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28296" class="Bound">msgevalState</a> <a id="28309" class="Symbol">(</a><a id="28310" href="libraries.natCompare.html#755" class="InductiveConstructor">greater</a> <a id="28318" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28318" class="Bound">x</a><a id="28319" class="Symbol">)</a>
                               <a id="28352" class="Symbol">=</a> <a id="28354" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28194" class="Bound">oldLedger</a> <a id="28364" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a> <a id="28367" class="Symbol">((</a><a id="28369" href="basicDataStructure.html#1590" class="InductiveConstructor">err</a> <a id="28373" class="Symbol">(</a><a id="28374" href="basicDataStructure.html#694" class="InductiveConstructor">strErr</a> <a id="28381" class="String">&quot; Out Of Gass &quot;</a><a id="28396" class="Symbol">)</a> <a id="28398" href="basicDataStructure.html#881" class="InductiveConstructor Operator">⟨</a> <a id="28400" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28230" class="Bound">lastCallAddr</a> <a id="28413" href="basicDataStructure.html#881" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="28416" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28218" class="Bound">initialAddr</a> <a id="28428" href="basicDataStructure.html#881" class="InductiveConstructor Operator">∙</a> <a id="28430" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28279" class="Bound">funNameevalState</a> <a id="28447" href="basicDataStructure.html#881" class="InductiveConstructor Operator">[</a> <a id="28449" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28296" class="Bound">msgevalState</a> <a id="28462" href="basicDataStructure.html#881" class="InductiveConstructor Operator">]⟩</a><a id="28464" class="Symbol">)</a> <a id="28466" href="basicDataStructure.html#1726" class="InductiveConstructor Operator">,</a> <a id="28468" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28271" class="Bound">gasLeft</a> <a id="28476" href="basicDataStructure.html#1726" class="InductiveConstructor Operator">gas</a><a id="28479" class="Symbol">)</a>
</pre></body></html>